<div id='PackageLogic'>>
<div class="head">
<h1>Theory SepAlgebra</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Separation Algebra</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>In this section, we formalize the concept of a separation algebra~\cite{Calcagno2007, Dockins2009}, on which our package logic is based.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>SepAlgebra</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="SepAlgebra.property|type"><span>property</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.intro|fact"><span class="entity_def" id="SepAlgebra.sep_algebra_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.intro|thm"><span class="entity_def" id="SepAlgebra.sep_algebra_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra|locale"><span class="entity_def" id="SepAlgebra.sep_algebra|const"><span class="entity_def" id="offset_263..274">sep_algebra</span></span></span><span> </span><span class="main"><span>=</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>plus</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>option</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â</span></span><span>"</span></span><span> 63</span><span class="main"><span>)</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>core</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span> </span><span class="keyword1"><span>|</span></span><span>_</span><span class="keyword1"><span>|</span></span><span> </span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="comment1"><span>(</span><span>*</span><span> Largest duplicable part of a state </span><span>*</span><span>)</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.commutative|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.commutative|thm"><span class="entity_def" id="offset_423..434">commutative</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.asso1|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.asso1|thm"><span class="entity_def" id="offset_462..467">asso1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>ab</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>bc</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>ab</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>bc</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.asso2|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.asso2|thm"><span class="entity_def" id="offset_533..538">asso2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>ab</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>ab</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> The core of x is the max of { p | pure p â§ x â¥ p} </span><span>*</span><span>)</span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.core_is_smaller|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.core_is_smaller|thm"><span class="entity_def" id="offset_656..671">core_is_smaller</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.core_is_pure|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.core_is_pure|thm"><span class="entity_def" id="offset_702..714">core_is_pure</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.core_max|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.core_max|thm"><span class="entity_def" id="offset_749..757">core_max</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.core_sum|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.core_sum|thm"><span class="entity_def" id="offset_811..819">core_sum</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>c</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>

      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.positivity|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.positivity|thm"><span class="entity_def" id="offset_872..882">positivity</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.cancellative|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.cancellative|thm"><span class="entity_def" id="offset_945..957">cancellative</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1021..1026">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.asso3|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.asso3|thm"><span class="entity_def" id="offset_1027..1032">asso3</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>bc</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>bc</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1021..1026"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1021..1026"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso2|fact"><span>sep_algebra.asso2</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.commutative|fact"><span>sep_algebra.commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span>  </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definitions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.defined_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.defined_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.defined_def_raw|axiom"><span class="entity_def" id="offset_1233..1243">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.defined.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.defined.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.defined|const"><span class="entity_def" id="offset_1244..1251">defined</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>##</span></span><span>"</span></span><span> 62</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>##</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_def_raw|axiom"><span class="entity_def" id="offset_1322..1332">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.greater.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.greater.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.greater|const"><span class="entity_def" id="offset_1333..1340">greater</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â½</span></span><span>"</span></span><span> 50</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>â½</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.pure_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.pure_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.pure_def_raw|axiom"><span class="entity_def" id="offset_1417..1427">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.pure.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.pure.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.pure|const"><span class="entity_def" id="offset_1428..1432">pure</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pure</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_def_raw|axiom"><span class="entity_def" id="offset_1483..1493">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.minus.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.minus|const"><span class="entity_def" id="offset_1494..1499">minus</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â</span></span><span>"</span></span><span> 63</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>THE_default</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_def_raw|axiom"><span class="entity_def" id="offset_1601..1611">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set|const"><span class="entity_def" id="offset_1612..1619">add_set</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â</span></span><span>"</span></span><span> 60</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_set_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_set_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_set_def_raw|axiom"><span class="entity_def" id="offset_1731..1741">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_set.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_set.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_set|const"><span class="entity_def" id="offset_1742..1753">greater_set</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â«</span></span><span>"</span></span><span> 50</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span class="free"><span>â«</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_def_raw|axiom"><span class="entity_def" id="offset_1841..1851">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed|const"><span class="entity_def" id="offset_1852..1861">up_closed</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>up_closed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv_def_raw|axiom"><span class="entity_def" id="offset_1939..1949">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv|const"><span class="entity_def" id="offset_1950..1955">equiv</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â¼</span></span><span>"</span></span><span> 40</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span class="free"><span>â¼</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.setify_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.setify_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.setify_def_raw|axiom"><span class="entity_def" id="offset_2033..2043">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.setify|const"><span class="entity_def" id="offset_2044..2050">setify</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.property|type"><span>property</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>setify</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop_def_raw|axiom"><span class="entity_def" id="offset_2124..2134">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop|const"><span class="entity_def" id="offset_2135..2144">mono_prop</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.property|type"><span>property</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mono_prop</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.under_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.under_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.under_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.under.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.under.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.under|const"><span>under</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>under</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>Ï'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>Ï'</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop_def_raw|axiom"><span class="entity_def" id="offset_2314..2324">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop|const"><span class="entity_def" id="offset_2325..2344">max_projection_prop</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>max_projection_prop</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.inducts|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.simps|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.induct|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.cases|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.intros|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.inducts|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.simps|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.induct|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.cases|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.intros(2)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.intros(1)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_def|axiom"><span class="entity_def" id="offset_2474..2483">inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus|const"><span class="entity_def" id="offset_2484..2494">multi_plus</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.MPSingle|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.MPSingle|thm"><span class="entity_def" id="offset_2528..2536">MPSingle</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>multi_plus</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.MPConcat|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus.MPConcat|thm"><span class="entity_def" id="offset_2559..2567">MPConcat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>la</span></span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>lb</span></span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>multi_plus</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>la</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>multi_plus</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>lb</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>multi_plus</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>la</span></span></span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>lb</span></span></span></span><span class="main"><span>)</span></span><span>  </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.elims|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.induct|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.simps|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.pelims|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.cases|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.termination|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.pinduct|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.psimps|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.inducts|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.simps|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.induct|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.cases|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.intros|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_sumC.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.inducts|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.simps|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.induct|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.cases|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.intros|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.elims|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.induct|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.simps(3)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.simps(2)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.simps(1)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.pelims|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.cases|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.termination|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.pinduct|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.psimps(3)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.psimps(2)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.psimps(1)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.inducts|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.simps|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.induct|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel.cases|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_sumC.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.inducts|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.simps|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.induct|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.cases|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.intros(3)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.intros(2)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.intros(1)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_def|axiom"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel_def|axiom"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_sumC_def|axiom"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph_def|axiom"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_dom|const"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_rel|const"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_sumC|const"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_graph|const"><span class="entity_def" id="offset_2685..2688">fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.splus|const"><span class="entity_def" id="offset_2689..2694">splus</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>option</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>option</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>option</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>splus</span></span><span> </span><span>None</span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>splus</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span>None</span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>splus</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>"</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>First lemmata</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.greater_equiv|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_equiv|thm"><span class="entity_def" id="offset_2861..2874">greater_equiv</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2950..2955">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_compatible|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_compatible|thm"><span class="entity_def" id="offset_2956..2974">smaller_compatible</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1244..1251"><span>##</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1244..1251"><span>##</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2950..2955"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2950..2955"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1027..1032"><span>asso3</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1233..1243"><span>defined_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3121..3126">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.bigger_sum_smaller|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.bigger_sum_smaller|thm"><span class="entity_def" id="offset_3127..3145">bigger_sum_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3121..3126"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>br</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>br</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3121..3126"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><span>domD</span><span> </span><span>domIff</span><span> </span><span>option.discI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>br</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3121..3126"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>br</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>splus</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3605..3610">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.splus_develop|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_develop|thm"><span>splus_develop</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3605..3610"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.splus_comm|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_comm|thm"><span class="entity_def" id="offset_3753..3763">splus_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.splus_asso|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.splus_asso|thm"><span class="entity_def" id="offset_3905..3915">splus_asso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4037..4041">Some</span><span> </span><span class="skolem"><span>a'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_4037..4041"><span>Some</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3753..3763"><span>splus_comm</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4365..4369">Some</span><span> </span><span class="skolem"><span>c'</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>c'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_4479..4483">None</span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_4365..4369"><span>Some</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>bc</span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_4479..4483"><span>None</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>c'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso2|fact"><span>sep_algebra.asso2</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3753..3763"><span>splus_comm</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4975..4979">Some</span><span> </span><span class="skolem"><span>ab</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c'</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_4975..4979"><span>Some</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>c'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>bc</span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>c'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso1|fact"><span>sep_algebra.asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>







</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Pure</span><span>âº</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> Maybe need more </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5537..5542">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.pure_stable|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.pure_stable|thm"><span>pure_stable</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5537..5542"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1417..1427"><span>pure_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> Specific to pure </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5710..5715">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.pure_smaller|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.pure_smaller|thm"><span class="entity_def" id="offset_5716..5728">pure_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5710..5715"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_872..882"><span>positivity</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1417..1427"><span>pure_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Succ is an order</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5870..5875">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.succ_antisym|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.succ_antisym|thm"><span class="entity_def" id="offset_5876..5888">succ_antisym</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ra</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>ra</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5870..5875"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>rb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>rb</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5870..5875"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>ra</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>rb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>rb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>rb</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>ra</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.splus.simps|fact"><span>sep_algebra.splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3905..3915"><span>splus_asso</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3753..3763"><span>splus_comm</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>ra</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>rb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>ra</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>rb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.splus.simps|fact"><span>sep_algebra.splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3905..3915"><span>splus_asso</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6588..6596">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>rb</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>rab</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>rb</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_6588..6596"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.elims</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>rab</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_6588..6596"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_749..757"><span>core_max</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>rab</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_702..714"><span>core_is_pure</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1417..1427"><span>pure_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5716..5728"><span>pure_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>rb</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>rb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>ra</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5716..5728"><span>pure_smaller</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>rb</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>rab</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>rb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5716..5728"><span>pure_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>rb</span></span><span>âº</span></span></span><span> </span><span>option.inject</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1417..1427"><span>pure_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.splus.simps|fact"><span>sep_algebra.splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3905..3915"><span>splus_asso</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7376..7381">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.succ_trans|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.succ_trans|thm"><span class="entity_def" id="offset_7382..7392">succ_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7376..7381"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7376..7381"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3127..3145"><span>bigger_sum_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.succ_refl|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.succ_refl|thm"><span class="entity_def" id="offset_7521..7530">succ_refl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_656..671"><span>core_is_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>








</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Core (pure) and stabilize (stable)</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7645..7650">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_propI|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_propI|thm"><span class="entity_def" id="offset_7651..7671">max_projection_propI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7645..7650"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7645..7650"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7645..7650"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2314..2324"><span>max_projection_prop_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7866..7871">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_propE|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_propE(3)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_propE(2)|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_propE(1)|thm"><span class="entity_def" id="offset_7872..7892">max_projection_propE</span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7866..7871"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2314..2324"><span>max_projection_prop_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop_pure_core|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.max_projection_prop_pure_core|thm"><span class="entity_def" id="offset_8071..8100">max_projection_prop_pure_core</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="free"><span>core</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7651..7671"><span>max_projection_propI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_656..671"><span>core_is_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_702..714"><span>core_is_pure</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1417..1427"><span>pure_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_749..757"><span>core_max</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1417..1427"><span>pure_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8581..8586">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_smaller|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_smaller|thm"><span class="entity_def" id="offset_8587..8598">mpp_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8581..8586"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7872..7892"><span>max_projection_propE</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8701..8706">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_compatible|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_compatible|thm"><span>mpp_compatible</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1244..1251"><span>##</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1244..1251"><span>##</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8701..8706"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8701..8706"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1233..1243"><span>defined_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2314..2324"><span>max_projection_prop_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2956..2974"><span>smaller_compatible</span></a><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8930..8935">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_prop|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_prop|thm"><span>mpp_prop</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8930..8935"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7872..7892"><span>max_projection_propE</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9049..9054">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mppI|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mppI|thm"><span>mppI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9049..9054"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7872..7892"><span>max_projection_propE</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9049..9054"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5876..5888"><span>succ_antisym</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9312..9317">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_invo|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_invo|thm"><span class="entity_def" id="offset_9318..9326">mpp_invo</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9312..9317"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2314..2324"><span>max_projection_prop_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5876..5888"><span>succ_antisym</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9448..9453">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_mono|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mpp_mono|thm"><span>mpp_mono</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2325..2344"><span>max_projection_prop</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9448..9453"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2314..2324"><span>max_projection_prop_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7382..7392"><span>succ_trans</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Subtraction</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9622..9627">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.addition_bigger|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.addition_bigger|thm"><span class="entity_def" id="offset_9628..9643">addition_bigger</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9622..9627"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3127..3145"><span>bigger_sum_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9797..9802">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_than_core|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_than_core|thm"><span class="entity_def" id="offset_9803..9820">smaller_than_core</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>z</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>z</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9797..9802"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_811..819"><span>core_sum</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8071..8100"><span>max_projection_prop_pure_core</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9318..9326"><span>mpp_invo</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>z</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10058..10066">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>z</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10058..10066"><span>calculation</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9628..9643"><span>addition_bigger</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9797..9802"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9797..9802"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_656..671"><span>core_is_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_811..819"><span>core_sum</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5876..5888"><span>succ_antisym</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10261..10266">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.extract_core|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.extract_core|thm"><span class="entity_def" id="offset_10267..10279">extract_core</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10261..10266"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9803..9820"><span>smaller_than_core</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10261..10266"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7382..7392"><span>succ_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10641..10646">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_unique|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_unique|thm"><span class="entity_def" id="offset_10647..10659">minus_unique</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10641..10646"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10267..10279"><span>extract_core</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10641..10646"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10267..10279"><span>extract_core</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10641..10646"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10641..10646"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_945..957"><span>cancellative</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10970..10975">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_exists|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_exists|thm"><span class="entity_def" id="offset_10976..10988">minus_exists</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10970..10975"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3127..3145"><span>bigger_sum_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_656..671"><span>core_is_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11106..11111">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_equiv_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_equiv_def|thm"><span class="entity_def" id="offset_11112..11127">minus_equiv_def</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?x</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>THE_default</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>THE_defaultI'</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11106..11111"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10647..10659"><span>local.minus_unique</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10976..10988"><span>minus_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1483..1493"><span>minus_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11488..11493">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_default|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_default|thm"><span class="entity_def" id="offset_11494..11507">minus_default</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>THE_default_none</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11488..11493"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1483..1493"><span>minus_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11616..11621">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minusI|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minusI|thm"><span class="entity_def" id="offset_11622..11628">minusI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11616..11621"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11616..11621"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10647..10659"><span>local.minus_unique</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_core|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_core|thm"><span class="entity_def" id="offset_11790..11800">minus_core</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_10267..10279"><span>extract_core</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11494..11507"><span>minus_default</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_core_weaker|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_core_weaker|thm"><span>minus_core_weaker</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8071..8100"><span>max_projection_prop_pure_core</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11790..11800"><span>minus_core</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11494..11507"><span>minus_default</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9318..9326"><span>mpp_invo</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5876..5888"><span>succ_antisym</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8071..8100"><span>max_projection_prop_pure_core</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11494..11507"><span>minus_default</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9318..9326"><span>mpp_invo</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_5876..5888"><span>succ_antisym</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12442..12447">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_equiv_def_any_elem|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_equiv_def_any_elem|thm"><span class="entity_def" id="offset_12448..12472">minus_equiv_def_any_elem</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_12442..12447"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_656..671"><span>core_is_smaller</span></a><span> </span><span>domD</span><span> </span><span>domIff</span><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso2|fact"><span>sep_algebra.asso2</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11622..11628"><span>minusI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_12442..12447"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_656..671"><span>core_is_smaller</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12965..12970">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_bigger|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_bigger|thm"><span class="entity_def" id="offset_12971..12983">minus_bigger</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_12965..12970"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_12448..12472"><span>minus_equiv_def_any_elem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13093..13098">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_smaller|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_smaller|thm"><span class="entity_def" id="offset_13099..13112">minus_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13093..13098"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13206..13211">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_sum|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_sum|thm"><span>minus_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11622..11628"><span>minusI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13206..13211"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13206..13211"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span>option.exhaust_sel</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11622..11628"><span>minusI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13206..13211"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13206..13211"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13206..13211"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.minus_equiv_def|fact"><span>sep_algebra.minus_equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7382..7392"><span>succ_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13206..13211"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11790..11800"><span>minus_core</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13918..13923">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_compatible_core|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_compatible_core|thm"><span>smaller_compatible_core</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1244..1251"><span>##</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13918..13923"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_656..671"><span>core_is_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1233..1243"><span>defined_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><span>option.discI</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14067..14072">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_pure_sum_smaller|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.smaller_pure_sum_smaller|thm"><span>smaller_pure_sum_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1428..1432"><span>pure</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14067..14072"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14067..14072"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14067..14072"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1417..1427"><span>pure_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9628..9643"><span>addition_bigger</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14067..14072"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14389..14394">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.greater_minus_trans|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_minus_trans|thm"><span>greater_minus_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ra</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>ra</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_12448..12472"><span>minus_equiv_def_any_elem</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>yy</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>yy</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1027..1032"><span>asso3</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span>not_Some_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.minus_equiv_def|fact"><span>sep_algebra.minus_equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>yy</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yy</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15110..15118">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>y'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yy</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_15110..15118"><span>calculation</span></a><span> </span><span>option.inject</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7521..7530"><span>succ_refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>x'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span>option.sel</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_14389..14394"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_12971..12983"><span>minus_bigger</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.succ_trans|fact"><span>sep_algebra.succ_trans</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15772..15774">f1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>yy</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>y'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>yy</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>y'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yy</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><span>option.sel</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_15772..15774"><span>f1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yy</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_12971..12983"><span>minus_bigger</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.succ_trans|fact"><span>sep_algebra.succ_trans</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>




</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16143..16148">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.minus_and_plus|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.minus_and_plus|thm"><span>minus_and_plus</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_16143..16148"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_13099..13112"><span>minus_smaller</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1244..1251"><span>##</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_16143..16148"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1233..1243"><span>defined_def</span></a><span> </span><span>option.discI</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.smaller_compatible|fact"><span>sep_algebra.smaller_compatible</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1233..1243"><span>defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_16143..16148"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_811..819"><span>core_sum</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8071..8100"><span>max_projection_prop_pure_core</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11790..11800"><span>minus_core</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11112..11127"><span>minus_equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_8587..8598"><span>mpp_smaller</span></a><span> </span><span>option.inject</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_11622..11628"><span>minusI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1494..1499"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>r</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>









</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Lifting the algebra to sets of states</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_commm|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_commm|thm"><span>add_set_commm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1601..1611"><span>add_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.commutative|fact"><span>sep_algebra.commutative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1601..1611"><span>add_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.x_elem_set_product|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.x_elem_set_product|thm"><span class="entity_def" id="offset_17121..17139">x_elem_set_product</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.add_set_def|fact"><span>sep_algebra.add_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.x_elem_set_product_splus|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.x_elem_set_product_splus|thm"><span>x_elem_set_product_splus</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2689..2694"><span>splus</span></a><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.add_set_def|fact"><span>sep_algebra.add_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_asso|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_asso|thm"><span>add_set_asso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ab</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>c</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bc</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>bc</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><span>option.exhaust</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>C</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bc</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>bc</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>bc</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>c</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>bc</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ab</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>bc</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1027..1032"><span>asso3</span></a><span> </span><span>option.collapse</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>bc</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>c</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>bc</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>C</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18556..18561">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.up_closedI|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closedI|thm"><span class="entity_def" id="offset_18562..18572">up_closedI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>Ï'</span></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_18556..18561"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1841..1851"><span>up_closed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_plus_UNIV|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_plus_UNIV|thm"><span>up_closed_plus_UNIV</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span>UNIV</span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_18562..18572"><span>up_closedI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span>UNIV</span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>br</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>br</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><span>option.exhaust_sel</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>br</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2685..2688"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3905..3915"><span>splus_asso</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span>UNIV</span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19198..19203">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.succ_set_trans|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.succ_set_trans|thm"><span>succ_set_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_19198..19203"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_19198..19203"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7382..7392"><span>succ_trans</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19333..19338">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.greater_setI|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.greater_setI|thm"><span class="entity_def" id="offset_19339..19351">greater_setI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_19333..19338"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span class="main"><span>)</span></span><span>  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19453..19458">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.bigger_set|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.bigger_set|thm"><span class="entity_def" id="offset_19459..19469">bigger_set</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_19339..19351"><span>greater_setI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_19453..19458"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ab</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>ab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><span>domD</span><span> </span><span>domIff</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2861..2874"><span>greater_equiv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>ab</span></span><span class="main"><span>â</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>ab</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_9628..9643"><span>addition_bigger</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_17121..17139"><span>x_elem_set_product</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19987..19992">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.bigger_singleton|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.bigger_singleton|thm"><span>bigger_singleton</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>Ï'</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>Ï</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_19987..19992"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_elem|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.add_set_elem|thm"><span class="entity_def" id="offset_20097..20109">add_set_elem</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1601..1611"><span>add_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20195..20200">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_sum|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_sum|thm"><span>up_closed_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_18562..18572"><span>up_closedI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_20312..20315">asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20097..20109"><span>add_set_elem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20429..20437">moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20312..20315"><span>asm</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ar</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>ar</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20429..20437"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><span>option.exhaust_sel</span><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ar</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20195..20200"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20429..20437"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.up_closed_def|fact"><span>sep_algebra.up_closed_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ar</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20097..20109"><span>add_set_elem</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20429..20437"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20429..20437"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20890..20895">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_bigger_subset|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.up_closed_bigger_subset|thm"><span class="entity_def" id="offset_20896..20919">up_closed_bigger_subset</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20890..20895"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20890..20895"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.up_closed_def|fact"><span>sep_algebra.up_closed_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21082..21087">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.up_close_equiv|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.up_close_equiv|thm"><span>up_close_equiv</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1950..1955"><span>â¼</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1950..1955"><span>â¼</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1939..1949"><span>local.equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21082..21087"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21082..21087"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><span>set_eq_subset</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7521..7530"><span>succ_refl</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20896..20919"><span>up_closed_bigger_subset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21429..21434">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.equiv_stable_sum|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv_stable_sum|thm"><span>equiv_stable_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1950..1955"><span>â¼</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1950..1955"><span>â¼</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21429..21434"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_19459..19469"><span>bigger_set</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1939..1949"><span>local.equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21545..21550">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.equiv_up_closed_subset|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.equiv_up_closed_subset|thm"><span>equiv_up_closed_subset</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1950..1955"><span>equiv</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?C</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1841..1851"><span>up_closed_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1939..1949"><span>equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21545..21550"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21545..21550"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>subsetD</span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?C</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1841..1851"><span>up_closed_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1939..1949"><span>equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21545..21550"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21545..21550"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>subsetD</span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21931..21936">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mono_propI|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_propI|thm"><span>mono_propI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2135..2144"><span>mono_prop</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_21931..21936"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2124..2134"><span>mono_prop_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22045..22050">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop_set|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop_set|thm"><span>mono_prop_set</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2135..2144"><span>mono_prop</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_22045..22050"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_22045..22050"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_22045..22050"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2033..2043"><span>local.setify_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2124..2134"><span>mono_prop_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22245..22250">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop_set_equiv|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.mono_prop_set_equiv|thm"><span>mono_prop_set_equiv</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2135..2144"><span>mono_prop</span></a><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1950..1955"><span>equiv</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_22245..22250"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_22245..22250"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1939..1949"><span>local.equiv_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mono_prop_set|fact"><span>sep_algebra.mono_prop_set</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.setify_sum|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.setify_sum|thm"><span>setify_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2033..2043"><span>local.setify_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.add_set_elem|fact"><span>sep_algebra.add_set_elem</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span>singletonD</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20097..20109"><span>add_set_elem</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2033..2043"><span>local.setify_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.setify_sum_image|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.setify_sum_image|thm"><span>setify_sum_image</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>Set.image</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>rev_image_eqI</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.setify_sum|fact"><span>sep_algebra.setify_sum</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2044..2050"><span>setify</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>image_iff</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.setify_sum|fact"><span>sep_algebra.setify_sum</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23153..23158">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.equivI|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.equivI|thm"><span>equivI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1950..1955"><span>equiv</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23153..23158"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23153..23158"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1939..1949"><span>local.equiv_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23275..23280">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.sub_bigger|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.sub_bigger|thm"><span class="entity_def" id="offset_23281..23291">sub_bigger</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23275..23280"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1731..1741"><span>greater_set_def</span></a><span> </span><span>in_mono</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7521..7530"><span>succ_refl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.larger_set_refl|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.larger_set_refl|thm"><span>larger_set_refl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1742..1753"><span>â«</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23281..23291"><span>sub_bigger</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure_def|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure_def|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure_def_raw|axiom"><span class="entity_def" id="offset_23445..23455">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure.cong|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure.cong|thm"><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure|const"><span class="entity_def" id="offset_23456..23469">upper_closure</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>upper_closure</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï'</span></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure_up_closed|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.upper_closure_up_closed|thm"><span>upper_closure_up_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_1852..1861"><span>up_closed</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SepAlgebra.html#offset_23456..23469"><span>upper_closure</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_18562..18572"><span>up_closedI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>Ï</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_23637..23641">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23456..23469"><span>upper_closure</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.upper_closure_def|fact"><span>sep_algebra.upper_closure_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23637..23641"><span>asm0</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7382..7392"><span>succ_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23456..23469"><span>upper_closure</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23445..23455"><span>upper_closure_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Addition of more than two states</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23980..23985">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_decompose|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_decompose|thm"><span class="entity_def" id="offset_23986..24001">multi_decompose</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>la</span></span><span> </span><span class="bound"><span>lb</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="bound"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>la</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>lb</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="bound"><span>la</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="bound"><span>lb</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23980..23985"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2474..2483"><span>multi_plus.cases</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span>2</span><span class="main"><span class="keyword3"><span>]</span></span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_24230..24235">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_take_drop|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_take_drop|thm"><span>multi_take_drop</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>take</span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>la</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>lb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_24230..24235"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_24230..24235"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23986..24001"><span>multi_decompose</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?n</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>take</span><span> </span><span class="var"><span>?n</span></span><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>drop</span><span> </span><span class="var"><span>?n</span></span><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>length_drop</span><span> </span><span>zero_less_diff</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_25091..25096">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_single|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_single|thm"><span>multi_plus_single</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>[</span></span><span class="free"><span>v</span></span><span class="main"><span>]</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_25091..25096"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>Nil_is_append_conv</span><span> </span><span>butlast.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>butlast_append</span><span> </span><span>length_greater_0_conv</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_25311..25316">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_two|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_two|thm"><span>multi_plus_two</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>la</span></span><span> </span><span class="bound"><span>lb</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="bound"><span>lb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>la</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>lb</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="bound"><span>la</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="bound"><span>lb</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2559..2567"><span>MPConcat</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_25311..25316"><span>assms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23986..24001"><span>multi_decompose</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_head_tail|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_head_tail|thm"><span class="entity_def" id="offset_25564..25584">multi_plus_head_tail</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>List.hd</span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>List.tl</span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_25799..25801">IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>linarith</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_26273..26276">asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>[</span></span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2528..2536"><span>MPSingle</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Suc_le_length_iff</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_26273..26276"><span>asm</span></a><span> </span><span>append_Cons</span><span> </span><span>list.collapse</span><span> </span><span>list.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>numeral_2_eq_2</span><span> </span><span>self_append_conv2</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2559..2567"><span>MPConcat</span></a><span> </span><span>Suc_1</span><span> </span><span>Suc_le_mono</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_26273..26276"><span>asm</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><span>append_Nil2</span><span> </span><span>length_Cons</span><span> </span><span>length_greater_0_conv</span><span> </span><span>list.size</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>not_one_le_zero</span><span> </span><span>zero_less_Suc</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_26947..26955">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>la</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>lb</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_26273..26276"><span>asm</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_23986..24001"><span>multi_decompose</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>la</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_25799..25801"><span>IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?B</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ra</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>hd</span><span> </span><span class="skolem"><span>la</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>ra</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>la</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ra</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Suc_eq_plus1</span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>lb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>la</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span>append_eq_conv_conj</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_26273..26276"><span>asm</span></a><span> </span><span>drop_eq_Nil</span><span> </span><span>le_add1</span><span> </span><span>le_less_trans</span><span> </span><span>length_append</span><span> </span><span>length_greater_0_conv</span><span> </span><span>less_Suc_eq_le</span><span> </span><span>order.not_eq_order_implies_strict</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27824..27832">moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>rab</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_27824..27832"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_533..538"><span>asso2</span></a><span> </span><span>option.exhaust_sel</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>la</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>rab</span></span><span>"</span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>Nil_is_append_conv</span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_27824..27832"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>length_greater_0_conv</span><span> </span><span>list.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2474..2483"><span>multi_plus.cases</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.multi_plus.MPConcat|fact"><span>sep_algebra.MPConcat</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28201..28209">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>rab</span></span><span>"</span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>rab</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ra</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_462..467"><span>asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_28201..28209"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?B</span></span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>0</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>la</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>linarith</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>a</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Nitpick.size_list_simp</span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>One_nat_def</span><span> </span><span>Suc_le_length_iff</span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span>diff_Suc_1</span><span> </span><span>le_numeral_extra</span><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>length_0_conv</span><span> </span><span>list.sel</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.multi_plus_single|fact"><span>sep_algebra.multi_plus_single</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>la</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>lb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="skolem"><span>lb</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_26947..26955"><span>calculation</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>Suc_eq_plus1</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.not_multi_plus_empty|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.not_multi_plus_empty|thm"><span>not_multi_plus_empty</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>[]</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Nil_is_append_conv</span><span> </span><span>length_greater_0_conv</span><span> </span><span>list.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.multi_plus.simps|fact"><span>sep_algebra.multi_plus.simps</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_deter|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_deter|thm"><span>multi_plus_deter</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï'</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2474..2483"><span>multi_plus.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_29385..29388">Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_29450..29454">True</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>List.hd</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>List.tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29385..29388"><span>Suc.prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_25564..25584"><span>multi_plus_head_tail</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>List.hd</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>List.tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29385..29388"><span>Suc.prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29450..29454"><span>True</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_25564..25584"><span>multi_plus_head_tail</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r'</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29385..29388"><span>Suc.IH</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29385..29388"><span>Suc.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>drop_Suc</span><span> </span><span>drop_eq_Nil</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r'</span></span><span>âº</span></span></span><span> </span><span>option.inject</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29385..29388"><span>Suc.prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.not_multi_plus_empty|fact"><span>sep_algebra.not_multi_plus_empty</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>One_nat_def</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29385..29388"><span>Suc.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_29385..29388"><span>Suc.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>Suc_length_conv</span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span>âº</span></span></span><span> </span><span>le_SucE</span><span> </span><span>le_zero_eq</span><span> </span><span>length_greater_0_conv</span><span> </span><span>less_numeral_extra</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.multi_plus_single|fact"><span>sep_algebra.multi_plus_single</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>      
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_30492..30497">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_implies_multi_plus_of_drop|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_implies_multi_plus_of_drop|thm"><span class="entity_def" id="offset_30498..30535">multi_plus_implies_multi_plus_of_drop</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_30492..30497"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7521..7530"><span>succ_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_30755..30758">Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>linarith</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>List.hd</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>List.tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_30755..30758"><span>Suc.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_25564..25584"><span>multi_plus_head_tail</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span>List.tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_30755..30758"><span>Suc.IH</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_30755..30758"><span>Suc.prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>tl</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_3127..3145"><span>bigger_sum_smaller</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_423..434"><span>commutative</span></a><span> </span><span>drop_Suc</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31179..31184">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_bigger_than_head|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_bigger_than_head|thm"><span class="entity_def" id="offset_31185..31212">multi_plus_bigger_than_head</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span>List.hd</span><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>List.hd</span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>List.tl</span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31179..31184"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31179..31184"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_25564..25584"><span>multi_plus_head_tail</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1322..1332"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Cons_nth_drop_Suc</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_2528..2536"><span>MPSingle</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31179..31184"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31179..31184"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>drop_0</span><span> </span><span>drop_eq_Nil</span><span> </span><span>hd_conv_nth</span><span> </span><span>length_greater_0_conv</span><span> </span><span>not_less_eq_eq</span><span> </span><span>numeral_2_eq_2</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.multi_plus_deter|fact"><span>sep_algebra.multi_plus_deter</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7521..7530"><span>succ_refl</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31764..31769">lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_bigger|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.multi_plus_bigger|thm"><span>multi_plus_bigger</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SepAlgebra.html#offset_2484..2494"><span>multi_plus</span></a><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1333..1340"><span>â½</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31764..31769"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31764..31769"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_30498..30535"><span>multi_plus_implies_multi_plus_of_drop</span></a><span> </span><span>order.strict_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>List.hd</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="free"><span>i</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31764..31769"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>hd_drop_conv_nth</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_7382..7392"><span>succ_trans</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31764..31769"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31764..31769"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>drop_eq_Nil</span><span> </span><span>leD</span><span> </span><span>length_greater_0_conv</span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_31185..31212"><span>multi_plus_bigger_than_head</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_30498..30535"><span>multi_plus_implies_multi_plus_of_drop</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.sum_then_singleton|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.sum_then_singleton|thm"><span>sum_then_singleton</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20097..20109"><span>add_set_elem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>c</span></span><span>âº</span></span></span><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.add_set_elem|fact"><span>sep_algebra.add_set_elem</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_263..274"><span>sep_algebra_axioms</span></a><span> </span><span>singleton_iff</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_20097..20109"><span>add_set_elem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SepAlgebra.sep_algebra.empty_set_sum|fact"><span class="entity_def" id="SepAlgebra.sep_algebra.empty_set_sum|thm"><span>empty_set_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{}</span></span><span> </span><span class="main"><a class="entity_ref" href="SepAlgebra.html#offset_1612..1619"><span>â</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#offset_1601..1611"><span>add_set_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div><div id='PackageLogic'>dy>
<div class="head">
<h1>Theory PackageLogic</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Package Logic</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>In this section, we define our package logic, as described in \cite{Dardinier22},
</span><span>and then prove that this logic is sound and complete for packaging magic wands.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>PackageLogic</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span> </span><a href="SepAlgebra.html"><span>SepAlgebra</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="plain_text"><span>Definitions</span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="PackageLogic.abool|type"><span>abool</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.arity_full_exhaustive_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.full_exhaustive_aassertion.simps|fact"><span class="entity_def" id="PackageLogic.full_exhaustive_aassertion_inst.full_exhaustive_aassertion|fact"><span class="entity_def" id="PackageLogic.arity_random_aassertion|fact"><span class="entity_def" id="PackageLogic.random_aassertion_def|fact"><span class="entity_def" id="PackageLogic.random_aassertion_inst.random_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.random_aux.simps|fact"><span class="entity_def" id="PackageLogic.random_aux_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.size_neq|fact"><span class="entity_def" id="PackageLogic.aassertion.size_gen|fact"><span class="entity_def" id="PackageLogic.aassertion.size|fact"><span class="entity_def" id="PackageLogic.arity_size_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.size_aassertion_overloaded_def|fact"><span class="entity_def" id="PackageLogic.size_aassertion_inst.size_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.size_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.simps|fact"><span class="entity_def" id="PackageLogic.aassertion.rec_transfer|fact"><span class="entity_def" id="PackageLogic.aassertion.rec|fact"><span class="entity_def" id="PackageLogic.aassertion.induct|fact"><span class="entity_def" id="PackageLogic.aassertion.case_transfer|fact"><span class="entity_def" id="PackageLogic.aassertion.splits|fact"><span class="entity_def" id="PackageLogic.aassertion.split_asm|fact"><span class="entity_def" id="PackageLogic.aassertion.split|fact"><span class="entity_def" id="PackageLogic.aassertion.nchotomy|fact"><span class="entity_def" id="PackageLogic.aassertion.inject|fact"><span class="entity_def" id="PackageLogic.aassertion.exhaust|fact"><span class="entity_def" id="PackageLogic.aassertion.distinct|fact"><span class="entity_def" id="PackageLogic.aassertion.case_distrib|fact"><span class="entity_def" id="PackageLogic.aassertion.case_cong_weak|fact"><span class="entity_def" id="PackageLogic.aassertion.case_cong|fact"><span class="entity_def" id="PackageLogic.aassertion.case|fact"><span class="entity_def" id="PackageLogic.aassertion.eq.simps|fact"><span class="entity_def" id="PackageLogic.aassertion.eq.refl|fact"><span class="entity_def" id="PackageLogic.arity_equal_aassertion|fact"><span class="entity_def" id="PackageLogic.equal_aassertion_def|fact"><span class="entity_def" id="PackageLogic.equal_aassertion_inst.equal_aassertion|fact"><span class="entity_def" id="PackageLogic.arity_partial_term_of_aassertion|fact"><span class="entity_def" id="PackageLogic.partial_term_of_aassertion_triv|fact"><span class="entity_def" id="PackageLogic.partial_term_of_aassertion_inst.partial_term_of_aassertion|fact"><span class="entity_def" id="PackageLogic.arity_term_of_aassertion|fact"><span class="entity_def" id="PackageLogic.term_of_aassertion_triv|fact"><span class="entity_def" id="PackageLogic.term_of_aassertion_inst.term_of_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.case_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.ctor_rec_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.dtor_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.ctor_fold_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.ctor_aassertion_def|fact"><span class="entity_def" id="PackageLogic.arity_typerep_aassertion|fact"><span class="entity_def" id="PackageLogic.typerep_aassertion_def|fact"><span class="entity_def" id="PackageLogic.typerep_aassertion_inst.typerep_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.type_definition_aassertion|fact"><span class="entity_def" id="PackageLogic.arity_type_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.str_init_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.arity_typerep_aassertion_IITN_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_IITN_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_IITN_aassertion_inst.typerep_aassertion_IITN_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.type_definition_aassertion_IITN_aassertion|fact"><span class="entity_def" id="PackageLogic.arity_type_aassertion_IITN_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.min_alg_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.mor_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.alg_aassertion_def|fact"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.set_pre_aassertion_def|fact"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.rel_pre_aassertion_def|fact"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.map_pre_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.arity_typerep_aassertion_pre_aassertion_bdT|fact"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_bdT_def|fact"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_bdT_inst.typerep_aassertion_pre_aassertion_bdT|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.type_definition_aassertion_pre_aassertion_bdT|fact"><span class="entity_def" id="PackageLogic.arity_type_aassertion_pre_aassertion_bdT|fact"><span class="entity_def" id="PackageLogic.aassertion.arity_typerep_aassertion_pre_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_def|fact"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_inst.typerep_aassertion_pre_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_induct|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_cases|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_inject|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_inverse|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion|fact"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.type_definition_aassertion_pre_aassertion|fact"><span class="entity_def" id="PackageLogic.arity_type_aassertion_pre_aassertion|fact"><span class="entity_def" id="PackageLogic.arity_full_exhaustive_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.full_exhaustive_aassertion.simps|thm"><span class="entity_def" id="PackageLogic.full_exhaustive_aassertion_inst.full_exhaustive_aassertion|thm"><span class="entity_def" id="PackageLogic.arity_random_aassertion|thm"><span class="entity_def" id="PackageLogic.random_aassertion_def|thm"><span class="entity_def" id="PackageLogic.random_aassertion_inst.random_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.random_aux.simps|thm"><span class="entity_def" id="PackageLogic.random_aux_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.size_neq|thm"><span class="entity_def" id="PackageLogic.aassertion.size_gen(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.size_gen(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.size_gen(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.size(6)|thm"><span class="entity_def" id="PackageLogic.aassertion.size(5)|thm"><span class="entity_def" id="PackageLogic.aassertion.size(4)|thm"><span class="entity_def" id="PackageLogic.aassertion.size(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.size(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.size(1)|thm"><span class="entity_def" id="PackageLogic.arity_size_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.size_aassertion_overloaded_def|thm"><span class="entity_def" id="PackageLogic.size_aassertion_inst.size_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.size_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(15)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(14)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(13)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(12)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(11)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(10)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(9)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(8)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(7)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(6)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(5)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(4)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.simps(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.rec_transfer|thm"><span class="entity_def" id="PackageLogic.aassertion.rec(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.rec(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.rec(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.induct|thm"><span class="entity_def" id="PackageLogic.aassertion.case_transfer|thm"><span class="entity_def" id="PackageLogic.aassertion.splits(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.splits(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.split_asm|thm"><span class="entity_def" id="PackageLogic.aassertion.split|thm"><span class="entity_def" id="PackageLogic.aassertion.nchotomy|thm"><span class="entity_def" id="PackageLogic.aassertion.inject(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.inject(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.inject(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.exhaust|thm"><span class="entity_def" id="PackageLogic.aassertion.distinct(6)|thm"><span class="entity_def" id="PackageLogic.aassertion.distinct(5)|thm"><span class="entity_def" id="PackageLogic.aassertion.distinct(4)|thm"><span class="entity_def" id="PackageLogic.aassertion.distinct(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.distinct(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.distinct(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.case_distrib|thm"><span class="entity_def" id="PackageLogic.aassertion.case_cong_weak|thm"><span class="entity_def" id="PackageLogic.aassertion.case_cong|thm"><span class="entity_def" id="PackageLogic.aassertion.case(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.case(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.case(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(15)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(14)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(13)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(12)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(11)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(10)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(9)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(8)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(7)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(6)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(5)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(4)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(3)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(2)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.simps(1)|thm"><span class="entity_def" id="PackageLogic.aassertion.eq.refl|thm"><span class="entity_def" id="PackageLogic.arity_equal_aassertion|thm"><span class="entity_def" id="PackageLogic.equal_aassertion_def|thm"><span class="entity_def" id="PackageLogic.equal_aassertion_inst.equal_aassertion|thm"><span class="entity_def" id="PackageLogic.arity_partial_term_of_aassertion|thm"><span class="entity_def" id="PackageLogic.partial_term_of_aassertion_triv|thm"><span class="entity_def" id="PackageLogic.partial_term_of_aassertion_inst.partial_term_of_aassertion|thm"><span class="entity_def" id="PackageLogic.arity_term_of_aassertion|thm"><span class="entity_def" id="PackageLogic.term_of_aassertion_triv|thm"><span class="entity_def" id="PackageLogic.term_of_aassertion_inst.term_of_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.case_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.ctor_rec_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.dtor_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.ctor_fold_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.ctor_aassertion_def|thm"><span class="entity_def" id="PackageLogic.arity_typerep_aassertion|thm"><span class="entity_def" id="PackageLogic.typerep_aassertion_def|thm"><span class="entity_def" id="PackageLogic.typerep_aassertion_inst.typerep_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.type_definition_aassertion|thm"><span class="entity_def" id="PackageLogic.arity_type_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.str_init_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.arity_typerep_aassertion_IITN_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_IITN_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_IITN_aassertion_inst.typerep_aassertion_IITN_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.type_definition_aassertion_IITN_aassertion|thm"><span class="entity_def" id="PackageLogic.arity_type_aassertion_IITN_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.min_alg_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.mor_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.alg_aassertion_def|thm"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.set_pre_aassertion_def|thm"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.rel_pre_aassertion_def|thm"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.map_pre_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.arity_typerep_aassertion_pre_aassertion_bdT|thm"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_bdT_def|thm"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_bdT_inst.typerep_aassertion_pre_aassertion_bdT|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.type_definition_aassertion_pre_aassertion_bdT|thm"><span class="entity_def" id="PackageLogic.arity_type_aassertion_pre_aassertion_bdT|thm"><span class="entity_def" id="PackageLogic.aassertion.arity_typerep_aassertion_pre_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_def|thm"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_inst.typerep_aassertion_pre_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_induct|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_cases|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_inject|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion_inverse|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion|thm"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.type_definition_aassertion_pre_aassertion|thm"><span class="entity_def" id="PackageLogic.arity_type_aassertion_pre_aassertion|thm"><span class="entity_def" id="PackageLogic.full_exhaustive_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.full_exhaustive_aassertion_inst.full_exhaustive_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.random_aassertion_def_raw|axiom"><span class="entity_def" id="PackageLogic.random_aassertion_inst.random_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.random_aux_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.size_aassertion_overloaded_def|axiom"><span class="entity_def" id="PackageLogic.size_aassertion_inst.size_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.size_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.rec_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.equal_aassertion_def_raw|axiom"><span class="entity_def" id="PackageLogic.equal_aassertion_inst.equal_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.partial_term_of_aassertion_triv_raw|axiom"><span class="entity_def" id="PackageLogic.partial_term_of_aassertion_inst.partial_term_of_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.term_of_aassertion_triv_raw|axiom"><span class="entity_def" id="PackageLogic.term_of_aassertion_inst.term_of_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.case_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.ASem_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.AImp_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.AStar_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.ctor_rec_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.dtor_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.ctor_fold_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.ctor_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.typerep_aassertion_def_raw|axiom"><span class="entity_def" id="PackageLogic.typerep_aassertion_inst.typerep_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.type_definition_aassertion|axiom"><span class="entity_def" id="PackageLogic.arity_type_aassertion|axiom"><span class="entity_def" id="PackageLogic.aassertion.str_init_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_IITN_aassertion_def_raw|axiom"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_IITN_aassertion_inst.typerep_aassertion_IITN_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.type_definition_aassertion_IITN_aassertion|axiom"><span class="entity_def" id="PackageLogic.arity_type_aassertion_IITN_aassertion|axiom"><span class="entity_def" id="PackageLogic.aassertion.min_alg_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.mor_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.alg_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.wit_pre_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.pred_pre_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.rel_pre_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.bd_pre_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.set_pre_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.map_pre_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_bdT_def_raw|axiom"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_bdT_inst.typerep_aassertion_pre_aassertion_bdT_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.type_definition_aassertion_pre_aassertion_bdT|axiom"><span class="entity_def" id="PackageLogic.arity_type_aassertion_pre_aassertion_bdT|axiom"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_def_raw|axiom"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_inst.typerep_aassertion_pre_aassertion_def|axiom"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.type_definition_aassertion_pre_aassertion|axiom"><span class="entity_def" id="PackageLogic.arity_type_aassertion_pre_aassertion|axiom"><span class="entity_def" id="PackageLogic.raw_sum.aassertion.sum.Sum_Type.pred_raw_sum_def|axiom"><span class="entity_def" id="PackageLogic.raw_sum.aassertion.sum.Sum_Type.rel_raw_sum_def|axiom"><span class="entity_def" id="PackageLogic.raw_sum.aassertion.sum.Sum_Type.map_raw_sum_def|axiom"><span class="entity_def" id="PackageLogic.full_exhaustive_aassertion_inst.full_exhaustive_aassertion|const"><span class="entity_def" id="PackageLogic.random_aassertion_inst.random_aassertion|const"><span class="entity_def" id="PackageLogic.random_aux_aassertion|const"><span class="entity_def" id="PackageLogic.size_aassertion_inst.size_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.size_aassertion|const"><span class="entity_def" id="PackageLogic.equal_aassertion_inst.equal_aassertion|const"><span class="entity_def" id="PackageLogic.partial_term_of_aassertion_inst.partial_term_of_aassertion|const"><span class="entity_def" id="PackageLogic.term_of_aassertion_inst.term_of_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.case_aassertion|const"><span class="entity_def" id="PackageLogic.typerep_aassertion_inst.typerep_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.Abs_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.Rep_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_IITN_aassertion_inst.typerep_aassertion_IITN_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Abs_aassertion_IITN_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion.Rep_aassertion_IITN_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.mor_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.alg_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_bdT_inst.typerep_aassertion_pre_aassertion_bdT|const"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Abs_aassertion_pre_aassertion_bdT|const"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT.Rep_aassertion_pre_aassertion_bdT|const"><span class="entity_def" id="PackageLogic.aassertion.typerep_aassertion_pre_aassertion_inst.typerep_aassertion_pre_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Abs_aassertion_pre_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion.Rep_aassertion_pre_aassertion|const"><span class="entity_def" id="PackageLogic.raw_sum.aassertion.sum.Sum_Type.pred_raw_sum|const"><span class="entity_def" id="PackageLogic.raw_sum.aassertion.sum.Sum_Type.rel_raw_sum|const"><span class="entity_def" id="PackageLogic.raw_sum.aassertion.sum.Sum_Type.map_raw_sum|const"><span class="entity_def" id="PackageLogic.aassertion.aassertion_IITN_aassertion|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="PackageLogic.aassertion.rec_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.ctor_rec_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.dtor_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.ctor_fold_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.ctor_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.str_init_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion.min_alg_aassertion|const"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.wit_pre_aassertion|const"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.pred_pre_aassertion|const"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.rel_pre_aassertion|const"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.bd_pre_aassertion|const"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.set_pre_aassertion|const"><span class="entity_def" id="PackageLogic.pre_aassertion.aassertion.map_pre_aassertion|const"><span class="entity_def" id="PackageLogic.aassertion|type"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion_bdT|type"><span class="entity_def" id="PackageLogic.aassertion.aassertion_pre_aassertion|type"><span>aassertion</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="entity_def" id="PackageLogic.aassertion.AStar|const"><span>AStar</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="PackageLogic.aassertion.AImp|const"><span>AImp</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.abool|type"><span>abool</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="PackageLogic.aassertion.ASem|const"><span>ASem</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.abool|type"><span>abool</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.axioms|fact"><span class="entity_def" id="PackageLogic.package_logic.intro|fact"><span class="entity_def" id="PackageLogic.package_logic_def|fact"><span class="entity_def" id="PackageLogic.package_logic_axioms.intro|fact"><span class="entity_def" id="PackageLogic.package_logic_axioms_def|fact"><span class="entity_def" id="PackageLogic.package_logic.axioms(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.axioms(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.intro|thm"><span class="entity_def" id="PackageLogic.package_logic_def|thm"><span class="entity_def" id="PackageLogic.package_logic_axioms.intro|thm"><span class="entity_def" id="PackageLogic.package_logic_axioms_def|thm"><span class="entity_def" id="PackageLogic.package_logic_def|axiom"><span class="entity_def" id="PackageLogic.package_logic_axioms_def|axiom"><span class="entity_def" id="offset_428..434">locale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic|locale"><span class="entity_def" id="PackageLogic.package_logic|const"><span class="entity_def" id="PackageLogic.package_logic_axioms|const"><span class="entity_def" id="offset_435..448">package_logic</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra|locale"><span>sep_algebra</span></a><span> </span><span class="main"><span>+</span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.unit_neutral|fact"><span class="entity_def" id="PackageLogic.package_logic.unit_neutral|thm"><span class="entity_def" id="offset_528..540">unit_neutral</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.stable_sum|fact"><span class="entity_def" id="PackageLogic.package_logic.stable_sum|thm"><span class="entity_def" id="offset_572..582">stable_sum</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.stable_unit|fact"><span class="entity_def" id="PackageLogic.package_logic.stable_unit|thm"><span class="entity_def" id="offset_644..655">stable_unit</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.sat.elims|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.induct|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.simps|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.pelims|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.cases|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.termination|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.pinduct|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.psimps|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.inducts|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.simps|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.induct|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.cases|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.intros|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_sumC.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.inducts|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.simps|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.induct|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.cases|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.intros|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.elims(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.elims(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.elims(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.induct|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.simps(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.simps(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.simps(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.pelims(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.pelims(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.pelims(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.cases|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.termination|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.pinduct|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.psimps(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.psimps(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat.psimps(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.inducts|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.simps|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.induct|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.cases|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.intros(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.intros(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_rel.intros(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_sumC.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.inducts|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.simps|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.induct|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.cases|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.intros(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.intros(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.intros(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_graph.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.sat_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.sat_rel_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.sat_sumC_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.sat_graph_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.sat_dom|const"><span class="entity_def" id="PackageLogic.package_logic.sat_rel|const"><span class="entity_def" id="PackageLogic.package_logic.sat_sumC|const"><span class="entity_def" id="PackageLogic.package_logic.sat_graph|const"><span class="entity_def" id="offset_679..682">fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.sat.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.sat.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.sat|const"><span class="entity_def" id="offset_683..686">sat</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sat</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>sat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>sat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sat</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>sat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sat</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond_def|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond_def|thm"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond_def_raw|axiom"><span class="entity_def" id="offset_856..866">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond|const"><span class="entity_def" id="offset_867..881">mono_pure_cond</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mono_pure_cond</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï'</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>pure</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="bound"><span>Ï'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.bool_conj_def|fact"><span class="entity_def" id="PackageLogic.package_logic.bool_conj_def|thm"><span class="entity_def" id="PackageLogic.package_logic.bool_conj_def_raw|axiom"><span class="entity_def" id="offset_986..996">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bool_conj</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.pruner|type"><span>pruner</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> Only positively, so not-well defined = false </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.mono_pruner_def|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_pruner_def|thm"><span class="entity_def" id="PackageLogic.package_logic.mono_pruner_def_raw|axiom"><span class="entity_def" id="offset_1135..1145">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.mono_pruner.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_pruner.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.mono_pruner|const"><span class="entity_def" id="offset_1146..1157">mono_pruner</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.pruner|type"><span>pruner</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mono_pruner</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï'</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>pure</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="bound"><span>Ï'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span> opposite of mono_cond </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.elims|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.induct|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.simps|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.pelims|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.cases|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.termination|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.pinduct|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.psimps|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.inducts|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.simps|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.induct|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.cases|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.intros|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_sumC.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.inducts|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.simps|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.induct|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.cases|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.intros|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.elims(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.elims(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.elims(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.induct|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.simps(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.simps(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.simps(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.pelims(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.pelims(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.pelims(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.cases|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.termination|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.pinduct|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.psimps(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.psimps(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.psimps(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.inducts|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.simps|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.induct|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.cases|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.intros(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.intros(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel.intros(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_sumC.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.inducts|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.simps|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.induct|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.cases|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.intros(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.intros(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.intros(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_sumC_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph_def|axiom"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_dom|const"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_rel|const"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_sumC|const"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_graph|const"><span class="entity_def" id="offset_1284..1287">fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion|const"><span class="entity_def" id="offset_1288..1300">wf_assertion</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wf_assertion</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>wf_assertion</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>wf_assertion</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wf_assertion</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>wf_assertion</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wf_assertion</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1146..1157"><span>mono_pruner</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.transformer|type"><span>transformer</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'c</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.ext_state|type"><span>ext_state</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.transformer|type"><span>transformer</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.inducts|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.simps|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.induct|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.cases|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.intros|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.inducts|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.simps|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.induct|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.cases|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.intros(4)|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.intros(3)|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.intros(2)|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.intros(1)|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_def|axiom"><span class="entity_def" id="offset_1574..1583">inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs|const"><span class="entity_def" id="offset_1584..1595">package_rhs</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.ext_state|type"><span>ext_state</span></a><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.abool|type"><span>abool</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.ext_state|type"><span>ext_state</span></a><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 

  </span><span class="entity_def" id="PackageLogic.package_logic.package_rhs.AStar|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.AStar|thm"><span class="entity_def" id="offset_1703..1708">AStar</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S''</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S''</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.package_rhs.AImp|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.AImp|thm"><span class="entity_def" id="offset_1837..1841">AImp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span>"</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span> witness means we *choose* how we satisfy B </span><span>*</span><span>)</span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.package_rhs.ASem|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.ASem|thm"><span class="entity_def" id="offset_1985..1989">ASem</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>witness</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>;</span></span><span>
  </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>âª</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>witness</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â§</span></span><span>
  </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span>"</span></span></span><span>

</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.package_rhs.AddFromOutside|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs.AddFromOutside|thm"><span class="entity_def" id="offset_2251..2265">AddFromOutside</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S''</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>;</span></span><span> </span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>;</span></span><span>
  </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â§</span></span><span>
  </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>package_rhs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f''</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S''</span></span></span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.package_sat_def|fact"><span class="entity_def" id="PackageLogic.package_logic.package_sat_def|thm"><span class="entity_def" id="PackageLogic.package_logic.package_sat_def_raw|axiom"><span class="entity_def" id="offset_2484..2494">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.package_sat.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.package_sat.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.package_sat|const"><span class="entity_def" id="offset_2495..2506">package_sat</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>package_sat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span class="bound"><span class="entity"><span>a'</span></span></span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span class="bound"><span class="entity"><span>a'</span></span></span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>u'</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection_def|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection_def|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection_def_raw|axiom"><span class="entity_def" id="offset_2599..2609">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection|const"><span class="entity_def" id="offset_2610..2632">package_rhs_connection</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.ext_state|type"><span>ext_state</span></a><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.abool|type"><span>abool</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.ext_state|type"><span>ext_state</span></a><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>package_rhs_connection</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S'</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f'</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>pc</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.mono_transformer_def|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_transformer_def|thm"><span class="entity_def" id="PackageLogic.package_logic.mono_transformer_def_raw|axiom"><span class="entity_def" id="offset_3012..3022">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.mono_transformer.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_transformer.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.mono_transformer|const"><span class="entity_def" id="offset_3023..3039">mono_transformer</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.transformer|type"><span>transformer</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mono_transformer</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>Ï'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.valid_package_set_def|fact"><span class="entity_def" id="PackageLogic.package_logic.valid_package_set_def|thm"><span class="entity_def" id="PackageLogic.package_logic.valid_package_set_def_raw|axiom"><span class="entity_def" id="offset_3144..3154">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.valid_package_set.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.valid_package_set.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.valid_package_set|const"><span class="entity_def" id="offset_3155..3172">valid_package_set</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_package_set</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>u</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.intuitionistic_def|fact"><span class="entity_def" id="PackageLogic.package_logic.intuitionistic_def|thm"><span class="entity_def" id="PackageLogic.package_logic.intuitionistic_def_raw|axiom"><span class="entity_def" id="offset_3279..3289">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.intuitionistic.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.intuitionistic.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.intuitionistic|const"><span class="entity_def" id="offset_3290..3304">intuitionistic</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>intuitionistic</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï'</span></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>Ï'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.pure_remains_def|fact"><span class="entity_def" id="PackageLogic.package_logic.pure_remains_def|thm"><span class="entity_def" id="PackageLogic.package_logic.pure_remains_def_raw|axiom"><span class="entity_def" id="offset_3364..3374">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.pure_remains.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.pure_remains.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.pure_remains|const"><span class="entity_def" id="offset_3375..3387">pure_remains</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pure_remains</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>.</span></span><span> </span><span>pure</span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_general_def|fact"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_general_def|thm"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_general_def_raw|axiom"><span class="entity_def" id="offset_3441..3451">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_general.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_general.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_general|const"><span class="entity_def" id="offset_3452..3472">is_footprint_general</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_footprint_general</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standard_def|fact"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standard_def|thm"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standard_def_raw|axiom"><span class="entity_def" id="offset_3626..3636">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standard.cong|fact"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standard.cong|thm"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standard|const"><span class="entity_def" id="offset_3637..3658">is_footprint_standard</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion|type"><span>aassertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_footprint_standard</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="plain_text"><span>Lemmas</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3811..3816">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.is_footprint_generalI|fact"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_generalI|thm"><span class="entity_def" id="offset_3817..3838">is_footprint_generalI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3452..3472"><span>is_footprint_general</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3811..3816"><span>assms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3441..3451"><span>is_footprint_general_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3985..3990">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standardI|fact"><span class="entity_def" id="PackageLogic.package_logic.is_footprint_standardI|thm"><span class="entity_def" id="offset_3991..4013">is_footprint_standardI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3637..3658"><span>is_footprint_standard</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3985..3990"><span>assms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3626..3636"><span>is_footprint_standard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4157..4162">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.mono_pure_condI|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_condI|thm"><span class="entity_def" id="offset_4163..4178">mono_pure_condI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>pure</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>Ï'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4157..4162"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4157..4162"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4355..4360">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond_conj|fact"><span class="entity_def" id="PackageLogic.package_logic.mono_pure_cond_conj|thm"><span class="entity_def" id="offset_4361..4380">mono_pure_cond_conj</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="free"><span>pc</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4163..4178"><span>mono_pure_condI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>b</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4355..4360"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4355..4360"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_986..996"><span>bool_conj_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>pure</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>Ï'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4355..4360"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4355..4360"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_986..996"><span>bool_conj_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4789..4794">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.bigger_sum|fact"><span class="entity_def" id="PackageLogic.package_logic.bigger_sum|thm"><span class="entity_def" id="offset_4795..4805">bigger_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4789..4794"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4789..4794"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>asso2</span><span> </span><span>domD</span><span> </span><span>domI</span><span> </span><span>domIff</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4789..4794"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>asso1</span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.greater_equiv|fact"><span>sep_algebra.greater_equiv</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5197..5202">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_sat_larger_pure|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_sat_larger_pure|thm"><span class="entity_def" id="offset_5203..5231">wf_assertion_sat_larger_pure</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>pure</span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_5197..5202"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï'</span></span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_5429..5430">1</span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_5429..5430"><span>1.prems</span></a><span>"</span></span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>asso2</span><span> </span><span>option.collapse</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_5429..5430"><span>1.prems</span></a><span>"</span></span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>asso2</span><span> </span><span>commutative</span><span> </span><span>option.collapse</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_5429..5430"><span>1</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>asso1</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>3</span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1135..1145"><span>mono_pruner_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6080..6085">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.package_satI|fact"><span class="entity_def" id="PackageLogic.package_logic.package_satI|thm"><span class="entity_def" id="offset_6086..6098">package_satI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="free"><span>u'</span></span><span> </span><span class="free"><span>u</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6080..6085"><span>assms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2484..2494"><span>package_sat_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6240..6245">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection_instantiate|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connection_instantiate|thm"><span>package_rhs_connection_instantiate</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>au</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="free"><span>u</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6240..6245"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6240..6245"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6604..6609">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connectionI|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_connectionI|thm"><span class="entity_def" id="offset_6610..6633">package_rhs_connectionI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6604..6609"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7017..7022">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.valid_package_setI|fact"><span class="entity_def" id="PackageLogic.package_logic.valid_package_setI|thm"><span class="entity_def" id="offset_7023..7041">valid_package_setI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>u</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7017..7022"><span>assms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7209..7214">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.defined_sum_move|fact"><span class="entity_def" id="PackageLogic.package_logic.defined_sum_move|thm"><span class="entity_def" id="offset_7215..7231">defined_sum_move</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7209..7214"><span>assms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso1|fact"><span>sep_algebra.asso1</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7396..7401">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.bigger_core_sum_defined|fact"><span class="entity_def" id="PackageLogic.package_logic.bigger_core_sum_defined|thm"><span class="entity_def" id="offset_7402..7425">bigger_core_sum_defined</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7396..7401"><span>assms</span></a><span> </span><span>asso1</span><span> </span><span>core_is_smaller</span><span> </span><span>greater_equiv</span><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_prop</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span> </span><span>pure_smaller</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7610..7615">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.package_rhs_proof|fact"><span class="entity_def" id="PackageLogic.package_logic.package_rhs_proof|thm"><span class="entity_def" id="offset_7616..7633">package_rhs_proof</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="free"><span>pc</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f'</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="free"><span>S'</span></span><span> </span><span class="free"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7610..7615"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1574..1583"><span>package_rhs.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_7953..7957">AImp</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7993..7997">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4361..4380"><span>mono_pure_cond_conj</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?pc</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8239..8240">Â§</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7993..7997"><span>asm0</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>


  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6610..6633"><span>package_rhs_connectionI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f'</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f'</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>au</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8845..8849">asm2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_8239..8240"><span>Â§</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>

    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_9219..9223">asm3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_9276..9279">au'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_8845..8849"><span>asm2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>minus_default</span><span> </span><span>minus_smaller</span><span> </span><span>succ_refl</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_9276..9279"><span>au'</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_9219..9223"><span>asm3</span></a><span> </span><span>asso3</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>minus_exists</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>core_is_smaller</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>option.exhaust_sel</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso2|fact"><span>sep_algebra.asso2</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6086..6098"><span>package_satI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_986..996"><span>bool_conj_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_9276..9279"><span>au'</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.package_sat_def|fact"><span>package_logic.package_sat_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_435..448"><span>package_logic_axioms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7953..7957"><span>AImp.prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span>core_sum</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>max_projection_prop_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>minus_exists</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_9276..9279"><span>au'</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_9219..9223"><span>asm3</span></a><span> </span><span>asso2</span><span> </span><span>commutative</span><span> </span><span>core_is_smaller</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>minus_and_plus</span><span> </span><span>option.collapse</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_9276..9279"><span>au'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_8845..8849"><span>asm2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>f'</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_11283..11288">AStar</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="skolem"><span>S''</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11336..11338">r1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11336..11338"><span>r1</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>S</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>pc</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>A</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Ï'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>f'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>S'</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11586..11588">r2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11283..11288"><span>AStar.hyps</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11283..11288"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11283..11288"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="entity_def" id="offset_11778..11784">fa_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11336..11338"><span>r1</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="entity_def" id="offset_12097..12103">fb_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11586..11588"><span>r2</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>


  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6610..6633"><span>package_rhs_connectionI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11778..11784"><span>fa_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12097..12103"><span>fb_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12097..12103"><span>fb_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11778..11784"><span>fa_def</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11778..11784"><span>fa_def</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12097..12103"><span>fb_def</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>


    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_12771..12775">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12807..12812">f_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12771..12775"><span>asm0</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12097..12103"><span>fb_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11778..11784"><span>fa_def</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>commutative</span><span> </span><span>minus_and_plus</span><span> </span><span>minus_equiv_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>au</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_13309..13315">au_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>â</span></span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12771..12775"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_13904..13908">True</span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12771..12775"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>asso3</span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12807..12812"><span>f_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_13309..13315"><span>au_def</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>au'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_14335..14342">au'_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span>"</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a''</span></span><span> </span><span class="bound"><span>u''</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="bound"><span>a''</span></span><span> </span><span class="bound"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>â</span></span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14733..14741">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_13904..13908"><span>True</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_14733..14741"><span>calculation</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7215..7231"><span>defined_sum_move</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12807..12812"><span>f_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a''</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>splus</span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>splus</span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>splus</span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_12807..12812"><span>f_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_14335..14342"><span>au'_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>splus_asso</span><span> </span><span>splus_comm</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6086..6098"><span>package_satI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_11283..11288"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span>âº</span></span></span><span> </span><span>greater_equiv</span><span> </span><span>minus_core</span><span> </span><span>minus_core_weaker</span><span> </span><span>minus_equiv_def</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2484..2494"><span>package_sat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>x'</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2484..2494"><span>package_sat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>minus_default</span><span> </span><span>minus_smaller</span><span> </span><span>succ_refl</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u''</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_13904..13908"><span>True</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_smaller</span><span> </span><span>not_None_eq</span><span> </span><span>smaller_compatible</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><span>minus_and_plus</span><span> </span><span>minus_equiv_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17463..17471">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_17463..17471"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>core_is_pure</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso1|fact"><span>sep_algebra.asso1</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.minus_exists|fact"><span>sep_algebra.minus_exists</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="skolem"><span>x'</span></span></span><span class="main"><span>]</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>x'</span></span><span>âº</span></span></span><span>  </span><span>commutative</span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>x'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>u'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_13309..13315"><span>au_def</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_13309..13315"><span>au_def</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_18484..18488">ASem</span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7023..7041"><span>valid_package_setI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_18601..18605">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18601..18605"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.hyps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>option.exhaust_sel</span><span> </span><span>smaller_compatible</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><span>minus_equiv_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>

      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span>asso1</span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>minus_core</span><span> </span><span>succ_refl</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>minus_core</span><span> </span><span>mpp_mono</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>core_is_pure</span><span> </span><span>core_sum</span><span> </span><span>minus_core</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span> </span><span>smaller_pure_sum_smaller</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>minus_core</span><span> </span><span>mpp_mono</span><span> </span><span>mpp_smaller</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mpp_invo|fact"><span>sep_algebra.mpp_invo</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.succ_trans|fact"><span>sep_algebra.succ_trans</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6610..6633"><span>package_rhs_connectionI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>succ_refl</span><span class="main"><span>)</span></span><span>
            
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_21021..21025">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span>

    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>au</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?u</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_21533..21537">True</span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?a</span></span><span class="main"><span>,</span></span><span> </span><span class="var"><span>?u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_21021..21025"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.hyps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_21533..21537"><span>True</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_21021..21025"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?a</span></span><span class="main"><span>,</span></span><span> </span><span class="var"><span>?u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="var"><span>?u</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>minus_core</span><span> </span><span>succ_refl</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
              </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
              </span><span>commutative</span><span> </span><span>option.distinct</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span>option.exhaust_sel</span><span> </span><span>asso3</span><span> </span><span>minus_equiv_def</span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span>
              </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>option.distinct</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span>option.exhaust_sel</span><span> </span><span>asso3</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>]</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22896..22904">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?a</span></span><span> </span><span class="var"><span>?u</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6086..6098"><span>package_satI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="var"><span>?u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_22896..22904"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>commutative</span><span> </span><span>minus_equiv_def</span><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>option.exhaust_sel</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso3|fact"><span>sep_algebra.asso3</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="var"><span>?u</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?u</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span>minus_smaller</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?b</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>minus_core</span><span> </span><span>minus_equiv_def</span><span> </span><span>option.exhaust</span><span> </span><span>smaller_compatible</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_24051..24059">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>minus_bigger</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_24051..24059"><span>calculation</span></a><span> </span><span>greater_equiv</span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
              </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>max_projection_prop_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span>pure</span></span><span> </span><span class="quoted"><span class="free"><span>core</span></span></span><span class="main"><span>]</span></span><span>
              </span><span>max_projection_prop_pure_core</span><span> </span><span>minus_equiv_def_any_elem</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1135..1145"><span>mono_pruner_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>B</span></span></span><span class="main"><span>]</span></span><span>
              </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>B</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>B</span></span></span><span class="main"><span>]</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_24909..24914">False</span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2484..2494"><span>package_sat_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_24909..24914"><span>False</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_18484..18488"><span>ASem.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_21021..21025"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span>succ_refl</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>core_is_smaller</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>max_projection_prop_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>minusI</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>au</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span>core_sum</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7402..7425"><span>bigger_core_sum_defined</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_25982..25996">AddFromOutside</span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7023..7041"><span>valid_package_setI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span>(</span></span><span>6</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><span>greater_equiv</span><span> </span><span>minus_core</span><span> </span><span>minus_equiv_def</span><span> </span><span>minus_smaller</span><span> </span><span>succ_trans</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_mono</span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26813..26814">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>asso1</span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_572..582"><span>stable_sum</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="entity_def" id="offset_27153..27155">r2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27463..27471">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_6610..6633"><span>package_rhs_connectionI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>Ï''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>asso1</span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27153..27155"><span>r2</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="skolem"><span>f''</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27463..27471"><span>calculation</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27153..27155"><span>r2</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_572..582"><span>stable_sum</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4795..4805"><span>bigger_sum</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27153..27155"><span>r2</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_27959..27963">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>au</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_28282..28286">asm1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>f</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27959..27963"><span>asm0</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>commutative</span><span> </span><span>greater_equiv</span><span> </span><span>minus_and_plus</span><span> </span><span>minus_equiv_def</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27153..27155"><span>r2</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><span>asso2</span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>minus_exists</span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>option.collapse</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28867..28875">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>greater_equiv</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_28282..28286"><span>asm1</span></a><span> </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>au</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span class="main"><span>]</span></span><span> </span><span>asso2</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_28867..28875"><span>calculation</span></a><span> </span><span>commutative</span><span>
            </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>]</span></span><span> </span><span>greater_equiv</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_25982..25996"><span>AddFromOutside.hyps</span></a><span class="main"><span>(</span></span><span>6</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27959..27963"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29370..29378">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_28282..28286"><span>asm1</span></a><span> </span><span>asso3</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span class="main"><span>)</span></span><span>

      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'a</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'a</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_27153..27155"><span>r2</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_29370..29378"><span>calculation</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>au'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a''</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_29760..29762">r3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_29760..29762"><span>r3</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>au</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span class="main"><span>]</span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7215..7231"><span>defined_sum_move</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>au</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_30275..30277">r4</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>core_sum</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_30275..30277"><span>r4</span></a><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>        
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>âº</span></span></span><span>
          </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_29760..29762"><span>r3</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span>asso1</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>splus.simps</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span>splus_asso</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f''</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_26813..26814"><span>r</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.unit_core|fact"><span class="entity_def" id="PackageLogic.package_logic.unit_core|thm"><span class="entity_def" id="offset_31204..31213">unit_core</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>unit</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>core_is_pure</span><span> </span><span>max_projection_prop_pure_core</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.cancellative|fact"><span>sep_algebra.cancellative</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mpp_invo|fact"><span>sep_algebra.mpp_invo</span></a><span> </span><span>sep_algebra_axioms</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.unit_smaller|fact"><span class="entity_def" id="PackageLogic.package_logic.unit_smaller|thm"><span class="entity_def" id="offset_31374..31386">unit_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>greater_equiv</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Lemmas for completeness</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31484..31489">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.sat_star_exists_bigger|fact"><span class="entity_def" id="PackageLogic.package_logic.sat_star_exists_bigger|thm"><span class="entity_def" id="offset_31490..31512">sat_star_exists_bigger</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31484..31489"><span>assms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>greater_equiv</span><span> </span><span>option.collapse</span><span> </span><span>smaller_compatible_core</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>b'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31484..31489"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31484..31489"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span>core_is_pure</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_5203..5231"><span>wf_assertion_sat_larger_pure</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span>asso1</span><span> </span><span>commutative</span><span> </span><span>core_is_smaller</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>Ï</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>smaller_than_core</span><span> </span><span>succ_refl</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32550..32555">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.let_pair_instantiate|fact"><span class="entity_def" id="PackageLogic.package_logic.let_pair_instantiate|thm"><span class="entity_def" id="offset_32556..32576">let_pair_instantiate</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_32550..32555"><span>assms</span></a><span> </span><span>case_prod_conv</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32689..32694">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.greater_than_sum_exists|fact"><span class="entity_def" id="PackageLogic.package_logic.greater_than_sum_exists|thm"><span>greater_than_sum_exists</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b1</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b2</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>r</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b1</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_32689..32694"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_32689..32694"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4795..4805"><span>bigger_sum</span></a><span> </span><span>commutative</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>option.exhaust</span><span> </span><span>smaller_compatible_core</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b1</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><span>core_is_smaller</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso1|fact"><span>sep_algebra.asso1</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b1</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span>core_is_pure</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>smaller_than_core</span><span> </span><span>succ_trans</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33328..33333">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.bigger_the|fact"><span class="entity_def" id="PackageLogic.package_logic.bigger_the|thm"><span>bigger_the</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>the</span><span> </span><span class="main"><span>(</span></span><span>   </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span>  </span><span class="free"><span>x'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span>   </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>x'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_33328..33333"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>##</span></span><span>  </span><span class="free"><span>x'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>smaller_compatible_core</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33603..33611">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_33328..33333"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_33603..33611"><span>calculation</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso3|fact"><span>sep_algebra.asso3</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.minus_exists|fact"><span>sep_algebra.minus_exists</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>addition_bigger</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_33328..33333"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33838..33843">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_and_the|fact"><span class="entity_def" id="PackageLogic.package_logic.wf_assertion_and_the|thm"><span>wf_assertion_and_the</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_33838..33843"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_33838..33843"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_33838..33843"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>option.collapse</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mpp_prop|fact"><span>sep_algebra.mpp_prop</span></a><span> </span><span>sep_algebra_axioms</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_5203..5231"><span>wf_assertion_sat_larger_pure</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34149..34154">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.minus_some|fact"><span class="entity_def" id="PackageLogic.package_logic.minus_some|thm"><span class="entity_def" id="offset_34155..34165">minus_some</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34149..34154"><span>assms</span></a><span> </span><span>commutative</span><span> </span><span>minus_equiv_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34268..34273">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.core_mono|fact"><span class="entity_def" id="PackageLogic.package_logic.core_mono|thm"><span class="entity_def" id="offset_34274..34283">core_mono</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>b</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34268..34273"><span>assms</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_mono</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34385..34390">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.prove_last_completeness|fact"><span class="entity_def" id="PackageLogic.package_logic.prove_last_completeness|thm"><span class="entity_def" id="offset_34391..34414">prove_last_completeness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>nf1</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>nf1</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>f2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34385..34390"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34385..34390"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>greater_minus_trans</span><span> </span><span>minus_bigger</span><span> </span><span>succ_trans</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34579..34584">lemma</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.completeness_aux|fact"><span class="entity_def" id="PackageLogic.package_logic.completeness_aux|thm"><span class="entity_def" id="offset_34585..34601">completeness_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="free"><span>pc</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34579..34584"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>A</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quoted"><span class="free"><span>pc</span></span></span><span> </span><span class="quoted"><span class="free"><span>f1</span></span></span><span> </span><span class="quoted"><span class="free"><span>f2</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_35034..35038">AImp</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?pc</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="skolem"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_4361..4380"><span>mono_pure_cond_conj</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_35581..35585">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_986..996"><span>bool_conj_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35581..35585"><span>asm0</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_36017..36025">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_36017..36025"><span>calculation</span></a><span> </span><span>commutative</span><span> </span><span>core_is_smaller</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_mono</span><span> </span><span>option.discI</span><span> </span><span>succ_antisym</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>option.collapse</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><span>core_is_pure</span><span> </span><span>core_sum</span><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_smaller</span><span> </span><span>smaller_than_core</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_986..996"><span>bool_conj_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35034..35038"><span>AImp.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_35581..35585"><span>asm0</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_37045..37046">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AImp|const"><span>AImp</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1837..1841"><span>package_rhs.AImp</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37045..37046"><span>r</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.bool_conj|const"><span>bool_conj</span></a><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1837..1841"><span>package_rhs.AImp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_37482..37486">ASem</span><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?witness</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_37562..37568">S'_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>}</span></span><span>
  </span><span class="main"><span>âª</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?witness</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1985..1989"><span>package_rhs.ASem</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?witness</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37562..37568"><span>S'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_38000..38004">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_38148..38156">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37482..37486"><span>ASem.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_38000..38004"><span>asm0</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37482..37486"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_38000..38004"><span>asm0</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_38148..38156"><span>calculation</span></a><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>minus_bigger</span><span> </span><span>minus_core</span><span> </span><span>option.exhaust_sel</span><span> </span><span>smaller_compatible_core</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_38533..38541">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>asso1</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_38533..38541"><span>calculation</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span>commutative</span><span> </span><span>core_is_smaller</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_38533..38541"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>commutative</span><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_smaller</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mpp_prop|fact"><span>sep_algebra.mpp_prop</span></a><span> </span><span>sep_algebra_axioms</span><span> </span><span>smaller_pure_sum_smaller</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.ASem|const"><span>ASem</span></a><span> </span><span class="skolem"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>max_projection_prop_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_679..682"><span>sat.simps</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span>smaller_pure_sum_smaller</span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_39356..39360">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37482..37486"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span>greater_equiv</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?witness</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37562..37568"><span>S'_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_39356..39360"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?witness</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37482..37486"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40107..40115">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_40107..40115"><span>calculation</span></a><span> </span><span>case_prod_conv</span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>option.exhaust_sel</span><span> </span><span>smaller_compatible_core</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>commutative</span><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_smaller</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mpp_prop|fact"><span>sep_algebra.mpp_prop</span></a><span> </span><span>sep_algebra_axioms</span><span> </span><span>smaller_pure_sum_smaller</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_37482..37486"><span>ASem.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span class="main"><span>]</span></span><span>
            </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
            </span><span>commutative</span><span> </span><span>core_is_smaller</span><span> </span><span>minus_bigger</span><span> </span><span>option.exhaust_sel</span><span> </span><span>option.simps</span><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
            </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>asso2</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
            </span><span>split_conv</span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span>minus_core</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_41076..41081">AStar</span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?fA</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?fB</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?f2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_41405..41406">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_41673..41677">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span>
      </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
          </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>max_projection_prop_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span>pure</span></span><span> </span><span class="quoted"><span class="free"><span>core</span></span></span><span class="main"><span>]</span></span><span> </span><span>max_projection_prop_pure_core</span><span>
          </span><a class="entity_ref" href="PackageLogic.html#offset_31490..31512"><span>sat_star_exists_bigger</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>A</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>B</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
          </span><span>succ_trans</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1284..1287"><span>wf_assertion.simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>A</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>B</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_42420..42425">False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>core_is_smaller</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_42420..42425"><span>False</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_smaller</span><span> </span><span>succ_refl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>af</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>af</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>minus_bigger</span><span> </span><span>minus_core</span><span> </span><span>option.exhaust_sel</span><span> </span><span>smaller_compatible_core</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41673..41677"><span>asm0</span></a><span> </span><span>commutative</span><span> </span><span>core_is_smaller</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_mono</span><span> </span><span>option.sel</span><span> </span><span>succ_antisym</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_43369..43377">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>af</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_43369..43377"><span>calculation</span></a><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>option.discI</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.asso3|fact"><span>sep_algebra.asso3</span></a><span> </span><span>sep_algebra_axioms</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>option.exhaust_sel</span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.wf_assertion.simps|fact"><span>package_logic.wf_assertion.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_435..448"><span>package_logic_axioms</span></a><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mpp_prop|fact"><span>sep_algebra.mpp_prop</span></a><span> </span><span>sep_algebra_axioms</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_5203..5231"><span>wf_assertion_sat_larger_pure</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>x</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span>core_is_pure</span><span> </span><span>max_projection_propE</span><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41673..41677"><span>asm0</span></a><span> </span><span>minusI</span><span> </span><span>minus_core</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>yy</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>yy</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>yy</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>yy</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>y</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
        </span><span>option.distinct</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>]</span></span><span> </span><span>option.exhaust_sel</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>asso2</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
 </span><span>option.distinct</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span>option.exhaust_sel</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>asso2</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>yy</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>yy</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>yy</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>ih1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="skolem"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="skolem"><span>pc</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_46752..46756">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_46788..46789">b</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_46752..46756"><span>asm0</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_46788..46789"><span>b</span></a><span> </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="main"><span>]</span></span><span>
        </span><span>asso2</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="main"><span>]</span></span><span> </span><span>option.sel</span><span> </span><span>succ_trans</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_46752..46756"><span>asm0</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_46788..46789"><span>b</span></a><span> </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
          </span><span>asso2</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>option.sel</span><span>
  </span><span>option.exhaust_sel</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_46752..46756"><span>asm0</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_46788..46789"><span>b</span></a><span>
          </span><span>asso2</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="main"><span>]</span></span><span> </span><span>option.sel</span><span> </span><span>succ_trans</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_47970..47972">r'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?project</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_48209..48221">project_prop</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="var"><span>?project</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="var"><span>?project</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?nf1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?project</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?nf2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?nf1</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S''</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span class="bound"><span>S''</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.package_rhs_proof|fact"><span>package_logic.package_rhs_proof</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#PackageLogic.package_logic.wf_assertion.simps|fact"><span>package_logic.wf_assertion.simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_435..448"><span>package_logic_axioms</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="skolem"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="skolem"><span>pc</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_49581..49588">a_u_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?project</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_48209..48221"><span>project_prop</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_49699..49705">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nf1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_49741..49747">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nf2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nf2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_49797..49805">rnf1_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?x</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="var"><span>?x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>
          </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49581..49588"><span>a_u_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49581..49588"><span>a_u_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>asso2</span><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>option.exhaust_sel</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>succ_trans</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span>
           </span><span>commutative</span><span>
           </span><span>greater_equiv</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
           </span><span>minus_equiv_def_any_elem</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span class="main"><span>]</span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?x</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_32556..32576"><span>let_pair_instantiate</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49581..49588"><span>a_u_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49699..49705"><span>nf1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>argo</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>rnf2_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>nf2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nf2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>nf1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49699..49705"><span>nf1_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49741..49747"><span>nf2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>nf1</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>nf1</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
              </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34274..34283"><span>core_mono</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
              </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
              </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>succ_trans</span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49581..49588"><span>a_u_def</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
                </span><a class="entity_ref" href="PackageLogic.html#offset_7402..7425"><span>bigger_core_sum_defined</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
                </span><span>greater_equiv</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span>
              </span><span>core_is_pure</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span class="main"><span>]</span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>smaller_pure_sum_smaller</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49797..49805"><span>rnf1_def</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34155..34165"><span>minus_some</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49741..49747"><span>nf2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49581..49588"><span>a_u_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>pc</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49581..49588"><span>a_u_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49797..49805"><span>rnf1_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>nf1</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7402..7425"><span>bigger_core_sum_defined</span></a><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34274..34283"><span>core_mono</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_invo</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49699..49705"><span>nf1_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49797..49805"><span>rnf1_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>argo</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49699..49705"><span>nf1_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49797..49805"><span>rnf1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>max_projection_propE</span><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span>max_projection_prop_pure_core</span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.mpp_prop|fact"><span>sep_algebra.mpp_prop</span></a><span> </span><span>sep_algebra_axioms</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_49699..49705"><span>nf1_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>

  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#PackageLogic.aassertion.AStar|const"><span>AStar</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="skolem"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="skolem"><span>pc</span></span><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1703..1708"><span>package_rhs.AStar</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a''</span></span><span> </span><span class="bound"><span>u''</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="skolem"><span>u''</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u''</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span>

    
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S''</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_54286..54293">a_u_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?project</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_48209..48221"><span>project_prop</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_54405..54411">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nf1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_54447..54453">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nf2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nf2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>

    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_54504..54512">rnf1_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?x</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="var"><span>?x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>f1</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>
          </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>pc</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fA</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="skolem"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41076..41081"><span>AStar.prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>asso2</span><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>option.exhaust_sel</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>succ_trans</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>commutative</span><span> </span><span>greater_equiv</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>minus_equiv_def_any_elem</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span> </span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?nf1</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?x</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_32556..32576"><span>let_pair_instantiate</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>T</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54405..54411"><span>nf1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>argo</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>rnf2_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nf2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>nf1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54405..54411"><span>nf1_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54447..54453"><span>nf2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>nf1</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
              </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34274..34283"><span>core_mono</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
              </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
              </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>succ_trans</span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
                </span><a class="entity_ref" href="PackageLogic.html#offset_7402..7425"><span>bigger_core_sum_defined</span></a><span>
                </span><span>greater_equiv</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> 
              </span><span>core_is_pure</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span>smaller_pure_sum_smaller</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54504..54512"><span>rnf1_def</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_56906..56908">r1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>nf1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>nf2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34155..34165"><span>minus_some</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54447..54453"><span>nf2_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>nf2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>nf1</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>r2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34391..34414"><span>prove_last_completeness</span></a><span class="main"><span>)</span></span><span>

          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54504..54512"><span>rnf1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
              </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34274..34283"><span>core_mono</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
              </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_41405..41406"><span>r</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
              </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>succ_trans</span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
                </span><a class="entity_ref" href="PackageLogic.html#offset_7402..7425"><span>bigger_core_sum_defined</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
                </span><span>greater_equiv</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nf1</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?fB</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>nf1</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
            </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span> </span><span class="main"><span>]</span></span><span> </span><span>core_is_pure</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54504..54512"><span>rnf1_def</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>âº</span></span></span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_56906..56908"><span>r1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54447..54453"><span>nf2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>argo</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54405..54411"><span>nf1_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54447..54453"><span>nf2_def</span></a><span>
        </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?nf2</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>âº</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>succ_trans</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a''</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a''</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_47970..47972"><span>r'</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_54286..54293"><span>a_u_def</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>






</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="plain_text"><span>Soundness</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_59030..59037">theorem</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.general_soundness|fact"><span class="entity_def" id="PackageLogic.package_logic.general_soundness|thm"><span class="entity_def" id="offset_59038..59055">general_soundness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="bound"><span>T</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3290..3304"><span>intuitionistic</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3375..3387"><span>pure_remains</span></a><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?S</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?pc</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_2610..2632"><span>package_rhs_connection</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="var"><span>?S</span></span><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="free"><span>S'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7616..7633"><span>package_rhs_proof</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_59030..59037"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7023..7041"><span>valid_package_setI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_59030..59037"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31204..31213"><span>unit_core</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_59030..59037"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31204..31213"><span>unit_core</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31374..31386"><span>unit_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_59030..59037"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_644..655"><span>stable_unit</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="entity_def" id="offset_60500..60501">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>au</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2599..2609"><span>package_rhs_connection_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_60874..60878">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_59030..59037"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>commutative</span><span> </span><span>minus_equiv_def</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31374..31386"><span>unit_smaller</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>au</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â¶</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_60500..60501"><span>r</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_60874..60878"><span>asm0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>option.inject</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>au</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="bound"><span>u'</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_60874..60878"><span>asm0</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span>       
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2484..2494"><span>package_sat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>commutative</span><span> </span><span>minus_equiv_def</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>splus.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31374..31386"><span>unit_smaller</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="free"><span>unit</span></span><span>âº</span></span></span><span> </span><span>addition_bigger</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_60874..60878"><span>asm0</span></a><span> </span><span>max_projection_prop_pure_core</span><span> </span><span>mpp_smaller</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3290..3304"><span>intuitionistic</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3279..3289"><span>intuitionistic_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3375..3387"><span>pure_remains</span></a><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_59030..59037"><span>assms</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>pure</span><span> </span><span class="skolem"><span>a'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3364..3374"><span>pure_remains_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="free"><span>unit</span></span><span>âº</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2495..2506"><span>package_sat</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="free"><span>unit</span></span><span>âº</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>u'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_60874..60878"><span>asm0</span></a><span> </span><span>core_is_smaller</span><span>
          </span><span>core_max</span><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>pure_def</span></a><span> </span><span>asso1</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a'</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SepAlgebra.html#SepAlgebra.sep_algebra.defined_def|fact"><span>sep_algebra.defined_def</span></a><span> </span><span>sep_algebra_axioms</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_60500..60501"><span>r</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_60500..60501"><span>r</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_63146..63153">theorem</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.soundness|fact"><span class="entity_def" id="PackageLogic.package_logic.soundness|thm"><span class="entity_def" id="offset_63154..63163">soundness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3290..3304"><span>intuitionistic</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3375..3387"><span>pure_remains</span></a><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3452..3472"><span>is_footprint_general</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?S</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span> </span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_63526..63527">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>â</span></span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_59038..59055"><span>general_soundness</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_63146..63153"><span>assms</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="bound"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_63146..63153"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_63146..63153"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3290..3304"><span>intuitionistic</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3375..3387"><span>pure_remains</span></a><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_63146..63153"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3452..3472"><span>is_footprint_general</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3817..3838"><span>is_footprint_generalI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_64116..64119">asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?S</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_63146..63153"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_63526..63527"><span>r</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64116..64119"><span>asm</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64116..64119"><span>asm</span></a><span> </span><span>option.sel</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_64391..64400">corollary</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.soundness_paper|fact"><span class="entity_def" id="PackageLogic.package_logic.soundness_paper|thm"><span>soundness_paper</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span>id</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3290..3304"><span>intuitionistic</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3375..3387"><span>pure_remains</span></a><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3637..3658"><span>is_footprint_standard</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3452..3472"><span>is_footprint_general</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>id</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64391..64400"><span>assms</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_63154..63163"><span>soundness</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>B</span></span></span><span> </span><span class="quoted"><span class="free"><span>A</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>id</span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï</span></span></span><span> </span><span class="quoted"><span class="free"><span>Ï'</span></span></span><span> </span><span class="quoted"><span class="free"><span>w</span></span></span><span> </span><span class="quoted"><span class="free"><span>S'</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3441..3451"><span>is_footprint_general_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3991..4013"><span>is_footprint_standardI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="plain_text"><span>Completeness</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_64979..64986">theorem</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.general_completeness|fact"><span class="entity_def" id="PackageLogic.package_logic.general_completeness|thm"><span class="entity_def" id="offset_64987..65007">general_completeness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_65256..65262">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?pc</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S''</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?f2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?f1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S''</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>S''</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>S''</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span> </span><span class="var"><span>?f2</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="bound"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_34585..34601"><span>completeness_aux</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_867..881"><span>mono_pure_cond</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_856..866"><span>mono_pure_cond_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64979..64986"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7023..7041"><span>valid_package_setI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="skolem"><span>T</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_65937..65940">asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u'</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_65256..65262"><span>S'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span> </span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64979..64986"><span>assms</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>minus_core</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u'</span></span><span> </span><span class="main"><span>â§</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u'</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span class="free"><span>|</span></span></span><span> </span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_65937..65940"><span>asm</span></a><span> </span><span>core_sum</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>greater_def</span></a><span> </span><span>greater_equiv</span><span> </span><span>minus_equiv_def</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><span>succ_trans</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64979..64986"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64979..64986"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><span>domI</span><span> </span><span>domIff</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>S'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_65256..65262"><span>S'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_66709..66717">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>unit</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3144..3154"><span>valid_package_set_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>commutative</span><span> </span><span>minus_default</span><span> </span><span>minus_equiv_def</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64979..64986"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_66709..66717"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_66709..66717"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>commutative</span><span> </span><span>core_is_smaller</span><span> </span><span>option.sel</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span>True</span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span>the</span><span> </span><span class="main"><span>(</span></span><span> </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>succ_refl</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64979..64986"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_2251..2265"><span>package_rhs.AddFromOutside</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S''</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S'</span></span><span> </span><span class="var"><span>?pc</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>S''</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64979..64986"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>commutative</span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>S'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_65256..65262"><span>S'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_67896..67903">theorem</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.completeness|fact"><span class="entity_def" id="PackageLogic.package_logic.completeness|thm"><span class="entity_def" id="offset_67904..67916">completeness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3452..3472"><span>is_footprint_general</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="bound"><span>S'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?S</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="bound"><span>S'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_64987..65007"><span>general_completeness</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span class="quoted"><span class="var"><span>?S</span></span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>w</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>B</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>Ï</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>Ï'</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_67896..67903"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3441..3451"><span>is_footprint_general_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_67896..67903"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_67896..67903"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_67896..67903"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_3155..3172"><span>valid_package_set</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>unit</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_7023..7041"><span>valid_package_setI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>##</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â§</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>a</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>u</span></span><span class="main"><span class="free"><span>|</span></span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span class="skolem"><span>T</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â½</span></span><span>  </span><span class="main"><span class="free"><span>|</span></span></span><span class="skolem"><span>T</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span class="free"><span>|</span></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_67896..67903"><span>assms</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_428..434"><span>defined_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31204..31213"><span>unit_core</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_528..540"><span>unit_neutral</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_31374..31386"><span>unit_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>meson</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_69094..69103">corollary</span></span></span><span> </span><span class="entity_def" id="PackageLogic.package_logic.completeness_paper|fact"><span class="entity_def" id="PackageLogic.package_logic.completeness_paper|thm"><span>completeness_paper</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PackageLogic.html#offset_1288..1300"><span>wf_assertion</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3637..3658"><span>is_footprint_standard</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span>id</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="bound"><span>S'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>S'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_1584..1595"><span>package_rhs</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>unit</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>id</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="bound"><span>S'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_69094..69103"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_67904..67916"><span>completeness</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3452..3472"><span>is_footprint_general</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span>id</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_69094..69103"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3441..3451"><span>is_footprint_general_def</span></a><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3626..3636"><span>is_footprint_standard_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_69094..69103"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_683..686"><span>sat</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3023..3039"><span>mono_transformer</span></a><span> </span><span>id</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PackageLogic.html#offset_3012..3022"><span>mono_transformer_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>meson</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div>