<div id='CombinableWands'>iv class="head">
<h1>Theory PosRat</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>State Model with Fractional Permissions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>In this section, we define a concrete state model based on fractional permissions \cite{Boyland03}.
</span><span>A state is a pair of a permission mask and a partial heap.
</span><span>A permission mask is a total map from heap locations to a rational between 0 and 1 (included),
</span><span>while a partial heap is a partial map from heap locations to values.
</span><span>We also define a partial addition on these states, and show that this state model corresponds to a separation algebra.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Non-negative rationals (permission amounts)</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>PosRat</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span> </span><a href="../../HOL/HOL/Rat.html"><span>HOL.Rat</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="plain_text"><span>Definitions</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.arity_typerep_prat|fact"><span class="entity_def" id="PosRat.typerep_prat_def|fact"><span class="entity_def" id="PosRat.typerep_prat_inst.typerep_prat|fact"><span class="entity_def" id="PosRat.prat.Abs_prat_induct|fact"><span class="entity_def" id="PosRat.prat.Rep_prat_induct|fact"><span class="entity_def" id="PosRat.prat.Abs_prat_cases|fact"><span class="entity_def" id="PosRat.prat.Rep_prat_cases|fact"><span class="entity_def" id="PosRat.prat.Abs_prat_inject|fact"><span class="entity_def" id="PosRat.prat.Rep_prat_inject|fact"><span class="entity_def" id="PosRat.prat.Abs_prat_inverse|fact"><span class="entity_def" id="PosRat.prat.Rep_prat_inverse|fact"><span class="entity_def" id="PosRat.prat.Rep_prat|fact"><span class="entity_def" id="PosRat.prat.type_definition_prat|fact"><span class="entity_def" id="PosRat.arity_type_prat|fact"><span class="entity_def" id="PosRat.arity_typerep_prat|thm"><span class="entity_def" id="PosRat.typerep_prat_def|thm"><span class="entity_def" id="PosRat.typerep_prat_inst.typerep_prat|thm"><span class="entity_def" id="PosRat.prat.Abs_prat_induct|thm"><span class="entity_def" id="PosRat.prat.Rep_prat_induct|thm"><span class="entity_def" id="PosRat.prat.Abs_prat_cases|thm"><span class="entity_def" id="PosRat.prat.Rep_prat_cases|thm"><span class="entity_def" id="PosRat.prat.Abs_prat_inject|thm"><span class="entity_def" id="PosRat.prat.Rep_prat_inject|thm"><span class="entity_def" id="PosRat.prat.Abs_prat_inverse|thm"><span class="entity_def" id="PosRat.prat.Rep_prat_inverse|thm"><span class="entity_def" id="PosRat.prat.Rep_prat|thm"><span class="entity_def" id="PosRat.prat.type_definition_prat|thm"><span class="entity_def" id="PosRat.arity_type_prat|thm"><span class="entity_def" id="PosRat.typerep_prat_def_raw|axiom"><span class="entity_def" id="PosRat.typerep_prat_inst.typerep_prat_def|axiom"><span class="entity_def" id="PosRat.prat.type_definition_prat|axiom"><span class="entity_def" id="PosRat.arity_type_prat|axiom"><span class="entity_def" id="PosRat.typerep_prat_inst.typerep_prat|const"><span class="entity_def" id="PosRat.prat.Abs_prat|const"><span class="entity_def" id="PosRat.prat.Rep_prat|const"><span>typedef</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.prat|type"><span>prat</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span>rat</span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.Quotient_prat|fact"><span class="entity_def" id="PosRat.prat.domain_eq|fact"><span class="entity_def" id="PosRat.prat.domain_par_left_total|fact"><span class="entity_def" id="PosRat.prat.domain_par|fact"><span class="entity_def" id="PosRat.prat.domain|fact"><span class="entity_def" id="PosRat.prat.rep_transfer|fact"><span class="entity_def" id="PosRat.prat.right_total|fact"><span class="entity_def" id="PosRat.prat.bi_unique|fact"><span class="entity_def" id="PosRat.prat.right_unique|fact"><span class="entity_def" id="PosRat.prat.left_unique|fact"><span class="entity_def" id="PosRat.arity_term_of_prat|fact"><span class="entity_def" id="PosRat.term_of_prat_triv|fact"><span class="entity_def" id="PosRat.term_of_prat_inst.term_of_prat|fact"><span class="entity_def" id="PosRat.prat.pcr_cr_eq|fact"><span class="entity_def" id="PosRat.pcr_prat_def|fact"><span class="entity_def" id="PosRat.cr_prat_def|fact"><span class="entity_def" id="PosRat.prat.lifting|bundle"><span class="entity_def" id="PosRat.Quotient_prat|thm"><span class="entity_def" id="PosRat.prat.domain_eq|thm"><span class="entity_def" id="PosRat.prat.domain_par_left_total|thm"><span class="entity_def" id="PosRat.prat.domain_par|thm"><span class="entity_def" id="PosRat.prat.domain|thm"><span class="entity_def" id="PosRat.prat.rep_transfer|thm"><span class="entity_def" id="PosRat.prat.right_total|thm"><span class="entity_def" id="PosRat.prat.bi_unique|thm"><span class="entity_def" id="PosRat.prat.right_unique|thm"><span class="entity_def" id="PosRat.prat.left_unique|thm"><span class="entity_def" id="PosRat.arity_term_of_prat|thm"><span class="entity_def" id="PosRat.term_of_prat_triv|thm"><span class="entity_def" id="PosRat.term_of_prat_inst.term_of_prat|thm"><span class="entity_def" id="PosRat.prat.pcr_cr_eq|thm"><span class="entity_def" id="PosRat.pcr_prat_def|thm"><span class="entity_def" id="PosRat.cr_prat_def|thm"><span class="entity_def" id="PosRat.term_of_prat_triv_raw|axiom"><span class="entity_def" id="PosRat.term_of_prat_inst.term_of_prat_def|axiom"><span class="entity_def" id="PosRat.pcr_prat_def_raw|axiom"><span class="entity_def" id="PosRat.cr_prat_def|axiom"><span class="entity_def" id="PosRat.term_of_prat_inst.term_of_prat|const"><span class="entity_def" id="PosRat.pcr_prat|const"><span class="entity_def" id="PosRat.cr_prat|const"><span>setup_lifting</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.type_definition_prat|fact"><span>type_definition_prat</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pwrite.rep_eq|fact"><span class="entity_def" id="PosRat.pwrite.abs_eq|fact"><span class="entity_def" id="PosRat.pwrite.transfer|fact"><span class="entity_def" id="PosRat.pwrite.rsp|fact"><span class="entity_def" id="PosRat.pwrite_def|fact"><span class="entity_def" id="PosRat.pwrite.rep_eq|thm"><span class="entity_def" id="PosRat.pwrite.abs_eq|thm"><span class="entity_def" id="PosRat.pwrite.transfer|thm"><span class="entity_def" id="PosRat.pwrite.rsp|thm"><span class="entity_def" id="PosRat.pwrite_def|thm"><span class="entity_def" id="PosRat.pwrite_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pwrite|const"><span>pwrite</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pnone.rep_eq|fact"><span class="entity_def" id="PosRat.pnone.abs_eq|fact"><span class="entity_def" id="PosRat.pnone.transfer|fact"><span class="entity_def" id="PosRat.pnone.rsp|fact"><span class="entity_def" id="PosRat.pnone_def|fact"><span class="entity_def" id="PosRat.pnone.rep_eq|thm"><span class="entity_def" id="PosRat.pnone.abs_eq|thm"><span class="entity_def" id="PosRat.pnone.transfer|thm"><span class="entity_def" id="PosRat.pnone.rsp|thm"><span class="entity_def" id="PosRat.pnone_def|thm"><span class="entity_def" id="PosRat.pnone_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pnone|const"><span>pnone</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.half.rep_eq|fact"><span class="entity_def" id="PosRat.half.abs_eq|fact"><span class="entity_def" id="PosRat.half.transfer|fact"><span class="entity_def" id="PosRat.half.rsp|fact"><span class="entity_def" id="PosRat.half_def|fact"><span class="entity_def" id="PosRat.half.rep_eq|thm"><span class="entity_def" id="PosRat.half.abs_eq|thm"><span class="entity_def" id="PosRat.half.transfer|thm"><span class="entity_def" id="PosRat.half.rsp|thm"><span class="entity_def" id="PosRat.half_def|thm"><span class="entity_def" id="PosRat.half_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.half|const"><span>half</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>1</span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pgte.rep_eq|fact"><span class="entity_def" id="PosRat.pgte.abs_eq|fact"><span class="entity_def" id="PosRat.pgte.transfer|fact"><span class="entity_def" id="PosRat.pgte.rsp|fact"><span class="entity_def" id="PosRat.pgte_def|fact"><span class="entity_def" id="PosRat.pgte.rep_eq|thm"><span class="entity_def" id="PosRat.pgte.abs_eq|thm"><span class="entity_def" id="PosRat.pgte.transfer|thm"><span class="entity_def" id="PosRat.pgte.rsp|thm"><span class="entity_def" id="PosRat.pgte_def|thm"><span class="entity_def" id="PosRat.pgte_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pgte|const"><span>pgte</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(â¥)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pgt.rep_eq|fact"><span class="entity_def" id="PosRat.pgt.abs_eq|fact"><span class="entity_def" id="PosRat.pgt.transfer|fact"><span class="entity_def" id="PosRat.pgt.rsp|fact"><span class="entity_def" id="PosRat.pgt_def|fact"><span class="entity_def" id="PosRat.pgt.rep_eq|thm"><span class="entity_def" id="PosRat.pgt.abs_eq|thm"><span class="entity_def" id="PosRat.pgt.transfer|thm"><span class="entity_def" id="PosRat.pgt.rsp|thm"><span class="entity_def" id="PosRat.pgt_def|thm"><span class="entity_def" id="PosRat.pgt_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pgt|const"><span>pgt</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(&gt;)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span> lift_definition lte :: "prat â prat â bool" is "(â¤)" done </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.lt.rep_eq|fact"><span class="entity_def" id="PosRat.lt.abs_eq|fact"><span class="entity_def" id="PosRat.lt.transfer|fact"><span class="entity_def" id="PosRat.lt.rsp|fact"><span class="entity_def" id="PosRat.lt_def|fact"><span class="entity_def" id="PosRat.lt.rep_eq|thm"><span class="entity_def" id="PosRat.lt.abs_eq|thm"><span class="entity_def" id="PosRat.lt.transfer|thm"><span class="entity_def" id="PosRat.lt.rsp|thm"><span class="entity_def" id="PosRat.lt_def|thm"><span class="entity_def" id="PosRat.lt_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.lt|const"><span>lt</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(&lt;)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.ppos.rep_eq|fact"><span class="entity_def" id="PosRat.ppos.abs_eq|fact"><span class="entity_def" id="PosRat.ppos.transfer|fact"><span class="entity_def" id="PosRat.ppos.rsp|fact"><span class="entity_def" id="PosRat.ppos_def|fact"><span class="entity_def" id="PosRat.ppos.rep_eq|thm"><span class="entity_def" id="PosRat.ppos.abs_eq|thm"><span class="entity_def" id="PosRat.ppos.transfer|thm"><span class="entity_def" id="PosRat.ppos.rsp|thm"><span class="entity_def" id="PosRat.ppos_def|thm"><span class="entity_def" id="PosRat.ppos_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.ppos|const"><span>ppos</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pmult.rep_eq|fact"><span class="entity_def" id="PosRat.pmult.abs_eq|fact"><span class="entity_def" id="PosRat.pmult.transfer|fact"><span class="entity_def" id="PosRat.pmult.rsp|fact"><span class="entity_def" id="PosRat.pmult_def|fact"><span class="entity_def" id="PosRat.pmult.rep_eq|thm"><span class="entity_def" id="PosRat.pmult.abs_eq|thm"><span class="entity_def" id="PosRat.pmult.transfer|thm"><span class="entity_def" id="PosRat.pmult.rsp|thm"><span class="entity_def" id="PosRat.pmult_def|thm"><span class="entity_def" id="PosRat.pmult_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pmult|const"><span>pmult</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(*)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.padd.rep_eq|fact"><span class="entity_def" id="PosRat.padd.abs_eq|fact"><span class="entity_def" id="PosRat.padd.transfer|fact"><span class="entity_def" id="PosRat.padd.rsp|fact"><span class="entity_def" id="PosRat.padd_def|fact"><span class="entity_def" id="PosRat.padd.rep_eq|thm"><span class="entity_def" id="PosRat.padd.abs_eq|thm"><span class="entity_def" id="PosRat.padd.transfer|thm"><span class="entity_def" id="PosRat.padd.rsp|thm"><span class="entity_def" id="PosRat.padd_def|thm"><span class="entity_def" id="PosRat.padd_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.padd|const"><span>padd</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(+)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pdiv.rep_eq|fact"><span class="entity_def" id="PosRat.pdiv.abs_eq|fact"><span class="entity_def" id="PosRat.pdiv.transfer|fact"><span class="entity_def" id="PosRat.pdiv.rsp|fact"><span class="entity_def" id="PosRat.pdiv_def|fact"><span class="entity_def" id="PosRat.pdiv.rep_eq|thm"><span class="entity_def" id="PosRat.pdiv.abs_eq|thm"><span class="entity_def" id="PosRat.pdiv.transfer|thm"><span class="entity_def" id="PosRat.pdiv.rsp|thm"><span class="entity_def" id="PosRat.pdiv_def|thm"><span class="entity_def" id="PosRat.pdiv_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pdiv|const"><span>pdiv</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(/)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pmin.rep_eq|fact"><span class="entity_def" id="PosRat.pmin.abs_eq|fact"><span class="entity_def" id="PosRat.pmin.transfer|fact"><span class="entity_def" id="PosRat.pmin.rsp|fact"><span class="entity_def" id="PosRat.pmin_def|fact"><span class="entity_def" id="PosRat.pmin.rep_eq|thm"><span class="entity_def" id="PosRat.pmin.abs_eq|thm"><span class="entity_def" id="PosRat.pmin.transfer|thm"><span class="entity_def" id="PosRat.pmin.rsp|thm"><span class="entity_def" id="PosRat.pmin_def|thm"><span class="entity_def" id="PosRat.pmin_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pmin|const"><span>pmin</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>min</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pmax.rep_eq|fact"><span class="entity_def" id="PosRat.pmax.abs_eq|fact"><span class="entity_def" id="PosRat.pmax.transfer|fact"><span class="entity_def" id="PosRat.pmax.rsp|fact"><span class="entity_def" id="PosRat.pmax_def|fact"><span class="entity_def" id="PosRat.pmax.rep_eq|thm"><span class="entity_def" id="PosRat.pmax.abs_eq|thm"><span class="entity_def" id="PosRat.pmax.transfer|thm"><span class="entity_def" id="PosRat.pmax.rsp|thm"><span class="entity_def" id="PosRat.pmax_def|thm"><span class="entity_def" id="PosRat.pmax_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PosRat.pmax|const"><span>pmax</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>max</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="plain_text"><span>Lemmas</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmin_comm|fact"><span class="entity_def" id="PosRat.pmin_comm|thm"><span>pmin_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmin|const"><span>pmin</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin|const"><span>pmin</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>min.commute</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin.rep_eq|fact"><span>pmin.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmin_greater|fact"><span class="entity_def" id="PosRat.pmin_greater|thm"><span>pmin_greater</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmin|const"><span>pmin</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin.rep_eq|fact"><span>pmin.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1690..1695">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmin_is|fact"><span class="entity_def" id="PosRat.pmin_is|thm"><span>pmin_is</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmin|const"><span>pmin</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><a class="entity_ref" href="PosRat.html#offset_1690..1695"><span>assms</span></a><span> </span><span>min_absorb2</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin.rep_eq|fact"><span>pmin.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmax_comm|fact"><span class="entity_def" id="PosRat.pmax_comm|thm"><span>pmax_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmax|const"><span>pmax</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax|const"><span>pmax</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>max.commute</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax.rep_eq|fact"><span>pmax.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmax_smaller|fact"><span class="entity_def" id="PosRat.pmax_smaller|thm"><span>pmax_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmax|const"><span>pmax</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax.rep_eq|fact"><span>pmax.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2001..2006">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmax_is|fact"><span class="entity_def" id="PosRat.pmax_is|thm"><span>pmax_is</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmax|const"><span>pmax</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><a class="entity_ref" href="PosRat.html#offset_2001..2006"><span>assms</span></a><span> </span><span>max.absorb_iff1</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax.rep_eq|fact"><span>pmax.rep_eq</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2137..2142">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmax_is_smaller|fact"><span class="entity_def" id="PosRat.pmax_is_smaller|thm"><span>pmax_is_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmax|const"><span>pmax</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_2137..2142"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax_is|fact"><span>pmax_is</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_2137..2142"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax.rep_eq|fact"><span>pmax.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.half_between_0_1|fact"><span class="entity_def" id="PosRat.half_between_0_1|thm"><span>half_between_0_1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half|const"><span>half</span></a><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half|const"><span>half</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half.rep_eq|fact"><span>half.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2543..2548">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pgt_implies_pgte|fact"><span class="entity_def" id="PosRat.pgt_implies_pgte|thm"><span>pgt_implies_pgte</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_2543..2548"><span>assms</span></a><span> </span><span>less_imp_le</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.half_plus_half|fact"><span class="entity_def" id="PosRat.half_plus_half|thm"><span>half_plus_half</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half|const"><span>half</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half|const"><span>half</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>divide_less_eq_numeral1</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>dual_order.irrefl</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half.rep_eq|fact"><span>half.rep_eq</span></a><span> </span><span>less_divide_eq_numeral1</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>linorder_neqE_linordered_idom</span><span> </span><span>mult.right_neutral</span><span> </span><span>one_add_one</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span> </span><span>ring_class.ring_distribs</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.padd_comm|fact"><span class="entity_def" id="PosRat.padd_comm|thm"><span>padd_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>add.commute</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.padd_asso|fact"><span class="entity_def" id="PosRat.padd_asso|thm"><span>padd_asso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>group_cancel.add1</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.p_greater_exists|fact"><span class="entity_def" id="PosRat.p_greater_exists|thm"><span>p_greater_exists</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>iffI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_3290..3293">asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>aa</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>bb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="skolem"><span>bb</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_3290..3293"><span>asm</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>rr</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>rr</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="skolem"><span>bb</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.prat.Abs_prat|const"><span>Abs_prat</span></a><span> </span><span class="skolem"><span>rr</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Abs_prat_inverse|fact"><span>Abs_prat_inverse</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>bb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>bb</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="skolem"><span>aa</span></span><span>âº</span></span></span><span> </span><span>add.commute</span><span> </span><span>diff_add_cancel</span><span> </span><span>diff_ge_0_iff_ge</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3856..3861">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pgte_antisym|fact"><span class="entity_def" id="PosRat.pgte_antisym|thm"><span>pgte_antisym</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><a class="entity_ref" href="PosRat.html#offset_3856..3861"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_3856..3861"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>leD</span><span> </span><span>le_less</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4009..4014">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.greater_sum_both|fact"><span class="entity_def" id="PosRat.greater_sum_both|thm"><span>greater_sum_both</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>aa</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bb</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>cc</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>bb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>cc</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="skolem"><span>bb</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>cc</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_4009..4014"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>bb</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="skolem"><span>cc</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>add.commute</span><span> </span><span>add_le_cancel_left</span><span> </span><span>diff_add_cancel</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_4009..4014"><span>assms</span></a><span> </span><span>order_refl</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4497..4502">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.padd_cancellative|fact"><span class="entity_def" id="PosRat.padd_cancellative|thm"><span>padd_cancellative</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>add_le_cancel_right</span><span> </span><a class="entity_ref" href="PosRat.html#offset_4497..4502"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_4497..4502"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>leD</span><span> </span><span>less_eq_rat_def</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.not_pgte_charact|fact"><span class="entity_def" id="PosRat.not_pgte_charact|thm"><span>not_pgte_charact</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>not_less</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4786..4791">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pgte_pgt|fact"><span class="entity_def" id="PosRat.pgte_pgt|thm"><span>pgte_pgt</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_4786..4791"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_4786..4791"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmult_distr|fact"><span class="entity_def" id="PosRat.pmult_distr|thm"><span>pmult_distr</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>distrib_left</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmult_comm|fact"><span class="entity_def" id="PosRat.pmult_comm|thm"><span>pmult_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>mult.commute</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmult_special|fact"><span class="entity_def" id="PosRat.pmult_special(2)|thm"><span class="entity_def" id="PosRat.pmult_special(1)|thm"><span>pmult_special</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>comm_monoid_mult_class.mult_1</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>mult_zero_left</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.pinv_def|fact"><span class="entity_def" id="PosRat.pinv_def|thm"><span class="entity_def" id="PosRat.pinv_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PosRat.pinv|const"><span>pinv</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pinv</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pinv_double_half|fact"><span class="entity_def" id="PosRat.pinv_double_half|thm"><span>pinv_double_half</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half|const"><span>half</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pinv|const"><span>pinv</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pinv|const"><span>pinv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Fract</span><span> </span><span class="main"><span>1</span></span><span> </span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>Fract</span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>Fract</span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>+</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>One_rat_def</span><span> </span><span>comm_monoid_mult_class.mult_1</span><span> </span><span>divide_rat</span><span> </span><span>mult_2</span><span> </span><span>mult_rat</span><span> </span><span>rat_number_expand</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>times_divide_times_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half.rep_eq|fact"><span>half.rep_eq</span></a><span> </span><span>mult_2</span><span> </span><span>mult_numeral_1_right</span><span> </span><span>numeral_One</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pinv_def|fact"><span>pinv_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span> </span><span>times_divide_times_eq</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6006..6011">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.ppos_mult|fact"><span class="entity_def" id="PosRat.ppos_mult|thm"><span>ppos_mult</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_6006..6011"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_6006..6011"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.padd_zero|fact"><span class="entity_def" id="PosRat.padd_zero|thm"><span>padd_zero</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>add.right_neutral</span><span> </span><span>leD</span><span> </span><span>le_add_same_cancel2</span><span> </span><span>less_eq_rat_def</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6349..6354">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.ppos_add|fact"><span class="entity_def" id="PosRat.ppos_add|thm"><span>ppos_add</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><a class="entity_ref" href="PosRat.html#offset_6349..6354"><span>assms</span></a><span> </span><span>dual_order.strict_iff_order</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_zero|fact"><span>padd_zero</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6535..6540">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pinv_inverts|fact"><span class="entity_def" id="PosRat.pinv_inverts|thm"><span>pinv_inverts</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pinv|const"><span>pinv</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pinv|const"><span>pinv</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_6535..6540"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Fract</span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>/</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="main"><span>(</span></span><span>Fract</span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>/</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>One_rat_def</span><span> </span><a class="entity_ref" href="PosRat.html#offset_6535..6540"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>frac_le</span><span> </span><span>le_numeral_extra</span><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span>zero_le_one</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>One_rat_def</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pinv_def|fact"><span>pinv_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6969..6974">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pinv_pmult_ok|fact"><span class="entity_def" id="PosRat.pinv_pmult_ok|thm"><span>pinv_pmult_ok</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pinv|const"><span>pinv</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>Fract</span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fract</span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_6969..6974"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>One_rat_def</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>p</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pinv_def|fact"><span>pinv_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pinv_pwrite|fact"><span class="entity_def" id="PosRat.pinv_pwrite|thm"><span>pinv_pwrite</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pinv|const"><span>pinv</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>div_by_1</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pinv_def|fact"><span>pinv_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7433..7438">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmult_ppos|fact"><span class="entity_def" id="PosRat.pmult_ppos|thm"><span>pmult_ppos</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_7433..7438"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_7433..7438"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7579..7584">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.ppos_inv|fact"><span class="entity_def" id="PosRat.ppos_inv|thm"><span>ppos_inv</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pinv|const"><span>pinv</span></a><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><a class="entity_ref" href="PosRat.html#offset_7579..7584"><span>assms</span></a><span> </span><span>less_eq_rat_def</span><span> </span><span>mem_Collect_eq</span><span> </span><span>not_one_le_zero</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pinv_pmult_ok|fact"><span>pinv_pmult_ok</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7811..7816">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmin_pmax|fact"><span class="entity_def" id="PosRat.pmin_pmax|thm"><span>pmin_pmax</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmin|const"><span>pmin</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin|const"><span>pmin</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmax|const"><span>pmax</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmax|const"><span>pmax</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax_is|fact"><span>pmax_is</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax_smaller|fact"><span>pmax_smaller</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_7811..7816"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax_is|fact"><span>pmax_is</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmax_smaller|fact"><span>pmax_smaller</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PosRat.comp_one_def|fact"><span class="entity_def" id="PosRat.comp_one_def|thm"><span class="entity_def" id="PosRat.comp_one_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PosRat.comp_one|const"><span>comp_one</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>comp_one</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8219..8224">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.padd_comp_one|fact"><span class="entity_def" id="PosRat.padd_comp_one|thm"><span>padd_comp_one</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_8219..8224"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.comp_one_def|fact"><span>comp_one_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.ppos_eq_pnone|fact"><span class="entity_def" id="PosRat.ppos_eq_pnone|thm"><span>ppos_eq_pnone</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â </span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>dual_order.strict_iff_order</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8538..8543">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmult_order|fact"><span class="entity_def" id="PosRat.pmult_order|thm"><span>pmult_order</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_8538..8543"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8681..8686">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.multiply_smaller_pwrite|fact"><span class="entity_def" id="PosRat.multiply_smaller_pwrite|thm"><span>multiply_smaller_pwrite</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_8681..8686"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_8681..8686"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_order|fact"><span>pmult_order</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8889..8894">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmult_pdiv_cancel|fact"><span class="entity_def" id="PosRat.pmult_pdiv_cancel|thm"><span>pmult_pdiv_cancel</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><a class="entity_ref" href="PosRat.html#offset_8889..8894"><span>assms</span></a><span> </span><span>divide_cancel_right</span><span> </span><span>dual_order.strict_iff_order</span><span> </span><span>nonzero_mult_div_cancel_left</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pmult_padd|fact"><span class="entity_def" id="PosRat.pmult_padd|thm"><span>pmult_padd</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>mult.assoc</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9295..9300">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.pdiv_smaller|fact"><span class="entity_def" id="PosRat.pdiv_smaller|thm"><span>pdiv_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_9295..9300"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_9295..9300"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>divide_le_eq_1_pos</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9624..9629">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.sum_coeff|fact"><span class="entity_def" id="PosRat.sum_coeff|thm"><span>sum_coeff</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|const"><span>Rep_prat</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="var"><span>?b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>/</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="var"><span>?b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>add_divide_distrib</span><span> </span><span>add_pos_pos</span><span> </span><a class="entity_ref" href="PosRat.html#offset_9624..9629"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_9624..9629"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>less_irrefl</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span>right_inverse_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10049..10054">lemma</span></span></span><span> </span><span class="entity_def" id="PosRat.padd_one_ineq_sum|fact"><span class="entity_def" id="PosRat.padd_one_ineq_sum|thm"><span>padd_one_ineq_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>aa</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>bb</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>aa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>bb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PosRat.html#offset_10049..10054"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_10049..10054"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#offset_10049..10054"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>convex_bound_le</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div><div id='CombinableWands'> class="head">
<h1>Theory Mask</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Permission masks: Maps from heap locations to permission amounts</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Mask</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="PosRat.html"><span>PosRat</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definitions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Mask.field|type"><span>field</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>string</span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Mask.address|type"><span>address</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>nat</span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Mask.heap_loc|type"><span>heap_loc</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.address|type"><span>address</span></a><span> </span><span class="main"><span>Ã</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.field|type"><span>field</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Mask.mask|type"><span>mask</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.heap_loc|type"><span>heap_loc</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Mask.bmask|type"><span>bmask</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.heap_loc|type"><span>heap_loc</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.null_def|fact"><span class="entity_def" id="Mask.null_def|thm"><span class="entity_def" id="Mask.null_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.null|const"><span>null</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>null</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.full_mask_def|fact"><span class="entity_def" id="Mask.full_mask_def|thm"><span class="entity_def" id="Mask.full_mask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.full_mask|const"><span>full_mask</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>full_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span>fst</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span> </span><span class="keyword1"><span>then</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span> </span><span class="keyword1"><span>else</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.multiply_mask_def|fact"><span class="entity_def" id="Mask.multiply_mask_def|thm"><span class="entity_def" id="Mask.multiply_mask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.multiply_mask|const"><span>multiply_mask</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>multiply_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.empty_mask.elims|fact"><span class="entity_def" id="Mask.empty_mask.induct|fact"><span class="entity_def" id="Mask.empty_mask.simps|fact"><span class="entity_def" id="Mask.empty_mask.pelims|fact"><span class="entity_def" id="Mask.empty_mask.cases|fact"><span class="entity_def" id="Mask.empty_mask.termination|fact"><span class="entity_def" id="Mask.empty_mask.pinduct|fact"><span class="entity_def" id="Mask.empty_mask.psimps|fact"><span class="entity_def" id="Mask.empty_mask_rel.inducts|fact"><span class="entity_def" id="Mask.empty_mask_rel.simps|fact"><span class="entity_def" id="Mask.empty_mask_rel.induct|fact"><span class="entity_def" id="Mask.empty_mask_rel.cases|fact"><span class="entity_def" id="Mask.empty_mask_rel.intros|fact"><span class="entity_def" id="Mask.empty_mask_graph.inducts|fact"><span class="entity_def" id="Mask.empty_mask_graph.simps|fact"><span class="entity_def" id="Mask.empty_mask_graph.induct|fact"><span class="entity_def" id="Mask.empty_mask_graph.cases|fact"><span class="entity_def" id="Mask.empty_mask_graph.intros|fact"><span class="entity_def" id="Mask.empty_mask.elims|thm"><span class="entity_def" id="Mask.empty_mask.induct|thm"><span class="entity_def" id="Mask.empty_mask.simps|thm"><span class="entity_def" id="Mask.empty_mask.pelims|thm"><span class="entity_def" id="Mask.empty_mask.cases|thm"><span class="entity_def" id="Mask.empty_mask.termination|thm"><span class="entity_def" id="Mask.empty_mask.pinduct|thm"><span class="entity_def" id="Mask.empty_mask.psimps|thm"><span class="entity_def" id="Mask.empty_mask_rel.inducts|thm"><span class="entity_def" id="Mask.empty_mask_rel.simps|thm"><span class="entity_def" id="Mask.empty_mask_rel.induct|thm"><span class="entity_def" id="Mask.empty_mask_rel.cases|thm"><span class="entity_def" id="Mask.empty_mask_graph.inducts|thm"><span class="entity_def" id="Mask.empty_mask_graph.simps|thm"><span class="entity_def" id="Mask.empty_mask_graph.induct|thm"><span class="entity_def" id="Mask.empty_mask_graph.cases|thm"><span class="entity_def" id="Mask.empty_mask_graph.intros|thm"><span class="entity_def" id="Mask.empty_mask_def|axiom"><span class="entity_def" id="Mask.empty_mask_rel_def|axiom"><span class="entity_def" id="Mask.empty_mask_sumC_def|axiom"><span class="entity_def" id="Mask.empty_mask_graph_def|axiom"><span class="entity_def" id="Mask.empty_mask_dom|const"><span class="entity_def" id="Mask.empty_mask_rel|const"><span class="entity_def" id="Mask.empty_mask_sumC|const"><span class="entity_def" id="Mask.empty_mask_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.empty_mask|const"><span>empty_mask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>empty_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.empty_bmask.elims|fact"><span class="entity_def" id="Mask.empty_bmask.induct|fact"><span class="entity_def" id="Mask.empty_bmask.simps|fact"><span class="entity_def" id="Mask.empty_bmask.pelims|fact"><span class="entity_def" id="Mask.empty_bmask.cases|fact"><span class="entity_def" id="Mask.empty_bmask.termination|fact"><span class="entity_def" id="Mask.empty_bmask.pinduct|fact"><span class="entity_def" id="Mask.empty_bmask.psimps|fact"><span class="entity_def" id="Mask.empty_bmask_rel.inducts|fact"><span class="entity_def" id="Mask.empty_bmask_rel.simps|fact"><span class="entity_def" id="Mask.empty_bmask_rel.induct|fact"><span class="entity_def" id="Mask.empty_bmask_rel.cases|fact"><span class="entity_def" id="Mask.empty_bmask_rel.intros|fact"><span class="entity_def" id="Mask.empty_bmask_graph.inducts|fact"><span class="entity_def" id="Mask.empty_bmask_graph.simps|fact"><span class="entity_def" id="Mask.empty_bmask_graph.induct|fact"><span class="entity_def" id="Mask.empty_bmask_graph.cases|fact"><span class="entity_def" id="Mask.empty_bmask_graph.intros|fact"><span class="entity_def" id="Mask.empty_bmask.elims(3)|thm"><span class="entity_def" id="Mask.empty_bmask.elims(2)|thm"><span class="entity_def" id="Mask.empty_bmask.elims(1)|thm"><span class="entity_def" id="Mask.empty_bmask.induct|thm"><span class="entity_def" id="Mask.empty_bmask.simps|thm"><span class="entity_def" id="Mask.empty_bmask.pelims(3)|thm"><span class="entity_def" id="Mask.empty_bmask.pelims(2)|thm"><span class="entity_def" id="Mask.empty_bmask.pelims(1)|thm"><span class="entity_def" id="Mask.empty_bmask.cases|thm"><span class="entity_def" id="Mask.empty_bmask.termination|thm"><span class="entity_def" id="Mask.empty_bmask.pinduct|thm"><span class="entity_def" id="Mask.empty_bmask.psimps|thm"><span class="entity_def" id="Mask.empty_bmask_rel.inducts|thm"><span class="entity_def" id="Mask.empty_bmask_rel.simps|thm"><span class="entity_def" id="Mask.empty_bmask_rel.induct|thm"><span class="entity_def" id="Mask.empty_bmask_rel.cases|thm"><span class="entity_def" id="Mask.empty_bmask_graph.inducts|thm"><span class="entity_def" id="Mask.empty_bmask_graph.simps|thm"><span class="entity_def" id="Mask.empty_bmask_graph.induct|thm"><span class="entity_def" id="Mask.empty_bmask_graph.cases|thm"><span class="entity_def" id="Mask.empty_bmask_graph.intros|thm"><span class="entity_def" id="Mask.empty_bmask_def|axiom"><span class="entity_def" id="Mask.empty_bmask_rel_def|axiom"><span class="entity_def" id="Mask.empty_bmask_sumC_def|axiom"><span class="entity_def" id="Mask.empty_bmask_graph_def|axiom"><span class="entity_def" id="Mask.empty_bmask_dom|const"><span class="entity_def" id="Mask.empty_bmask_rel|const"><span class="entity_def" id="Mask.empty_bmask_sumC|const"><span class="entity_def" id="Mask.empty_bmask_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.empty_bmask|const"><span>empty_bmask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>empty_bmask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>False</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.add_acc.elims|fact"><span class="entity_def" id="Mask.add_acc.induct|fact"><span class="entity_def" id="Mask.add_acc.simps|fact"><span class="entity_def" id="Mask.add_acc.pelims|fact"><span class="entity_def" id="Mask.add_acc.cases|fact"><span class="entity_def" id="Mask.add_acc.termination|fact"><span class="entity_def" id="Mask.add_acc.pinduct|fact"><span class="entity_def" id="Mask.add_acc.psimps|fact"><span class="entity_def" id="Mask.add_acc_rel.inducts|fact"><span class="entity_def" id="Mask.add_acc_rel.simps|fact"><span class="entity_def" id="Mask.add_acc_rel.induct|fact"><span class="entity_def" id="Mask.add_acc_rel.cases|fact"><span class="entity_def" id="Mask.add_acc_rel.intros|fact"><span class="entity_def" id="Mask.add_acc_graph.inducts|fact"><span class="entity_def" id="Mask.add_acc_graph.simps|fact"><span class="entity_def" id="Mask.add_acc_graph.induct|fact"><span class="entity_def" id="Mask.add_acc_graph.cases|fact"><span class="entity_def" id="Mask.add_acc_graph.intros|fact"><span class="entity_def" id="Mask.add_acc.elims|thm"><span class="entity_def" id="Mask.add_acc.induct|thm"><span class="entity_def" id="Mask.add_acc.simps|thm"><span class="entity_def" id="Mask.add_acc.pelims|thm"><span class="entity_def" id="Mask.add_acc.cases|thm"><span class="entity_def" id="Mask.add_acc.termination|thm"><span class="entity_def" id="Mask.add_acc.pinduct|thm"><span class="entity_def" id="Mask.add_acc.psimps|thm"><span class="entity_def" id="Mask.add_acc_rel.inducts|thm"><span class="entity_def" id="Mask.add_acc_rel.simps|thm"><span class="entity_def" id="Mask.add_acc_rel.induct|thm"><span class="entity_def" id="Mask.add_acc_rel.cases|thm"><span class="entity_def" id="Mask.add_acc_graph.inducts|thm"><span class="entity_def" id="Mask.add_acc_graph.simps|thm"><span class="entity_def" id="Mask.add_acc_graph.induct|thm"><span class="entity_def" id="Mask.add_acc_graph.cases|thm"><span class="entity_def" id="Mask.add_acc_graph.intros|thm"><span class="entity_def" id="Mask.add_acc_def|axiom"><span class="entity_def" id="Mask.add_acc_rel_def|axiom"><span class="entity_def" id="Mask.add_acc_sumC_def|axiom"><span class="entity_def" id="Mask.add_acc_graph_def|axiom"><span class="entity_def" id="Mask.add_acc_dom|const"><span class="entity_def" id="Mask.add_acc_rel|const"><span class="entity_def" id="Mask.add_acc_sumC|const"><span class="entity_def" id="Mask.add_acc_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.add_acc|const"><span>add_acc</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>add_acc</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.rm_acc.inducts|fact"><span class="entity_def" id="Mask.rm_acc.simps|fact"><span class="entity_def" id="Mask.rm_acc.induct|fact"><span class="entity_def" id="Mask.rm_acc.cases|fact"><span class="entity_def" id="Mask.rm_acc.intros|fact"><span class="entity_def" id="Mask.rm_acc.inducts|thm"><span class="entity_def" id="Mask.rm_acc.simps|thm"><span class="entity_def" id="Mask.rm_acc.induct|thm"><span class="entity_def" id="Mask.rm_acc.cases|thm"><span class="entity_def" id="Mask.rm_acc.intros|thm"><span class="entity_def" id="Mask.rm_acc_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.rm_acc|const"><span>rm_acc</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>rm_acc</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.add_masks.elims|fact"><span class="entity_def" id="Mask.add_masks.induct|fact"><span class="entity_def" id="Mask.add_masks.simps|fact"><span class="entity_def" id="Mask.add_masks.pelims|fact"><span class="entity_def" id="Mask.add_masks.cases|fact"><span class="entity_def" id="Mask.add_masks.termination|fact"><span class="entity_def" id="Mask.add_masks.pinduct|fact"><span class="entity_def" id="Mask.add_masks.psimps|fact"><span class="entity_def" id="Mask.add_masks_rel.inducts|fact"><span class="entity_def" id="Mask.add_masks_rel.simps|fact"><span class="entity_def" id="Mask.add_masks_rel.induct|fact"><span class="entity_def" id="Mask.add_masks_rel.cases|fact"><span class="entity_def" id="Mask.add_masks_rel.intros|fact"><span class="entity_def" id="Mask.add_masks_graph.inducts|fact"><span class="entity_def" id="Mask.add_masks_graph.simps|fact"><span class="entity_def" id="Mask.add_masks_graph.induct|fact"><span class="entity_def" id="Mask.add_masks_graph.cases|fact"><span class="entity_def" id="Mask.add_masks_graph.intros|fact"><span class="entity_def" id="Mask.add_masks.elims|thm"><span class="entity_def" id="Mask.add_masks.induct|thm"><span class="entity_def" id="Mask.add_masks.simps|thm"><span class="entity_def" id="Mask.add_masks.pelims|thm"><span class="entity_def" id="Mask.add_masks.cases|thm"><span class="entity_def" id="Mask.add_masks.termination|thm"><span class="entity_def" id="Mask.add_masks.pinduct|thm"><span class="entity_def" id="Mask.add_masks.psimps|thm"><span class="entity_def" id="Mask.add_masks_rel.inducts|thm"><span class="entity_def" id="Mask.add_masks_rel.simps|thm"><span class="entity_def" id="Mask.add_masks_rel.induct|thm"><span class="entity_def" id="Mask.add_masks_rel.cases|thm"><span class="entity_def" id="Mask.add_masks_graph.inducts|thm"><span class="entity_def" id="Mask.add_masks_graph.simps|thm"><span class="entity_def" id="Mask.add_masks_graph.induct|thm"><span class="entity_def" id="Mask.add_masks_graph.cases|thm"><span class="entity_def" id="Mask.add_masks_graph.intros|thm"><span class="entity_def" id="Mask.add_masks_def|axiom"><span class="entity_def" id="Mask.add_masks_rel_def|axiom"><span class="entity_def" id="Mask.add_masks_sumC_def|axiom"><span class="entity_def" id="Mask.add_masks_graph_def|axiom"><span class="entity_def" id="Mask.add_masks_dom|const"><span class="entity_def" id="Mask.add_masks_rel|const"><span class="entity_def" id="Mask.add_masks_sumC|const"><span class="entity_def" id="Mask.add_masks_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.add_masks|const"><span>add_masks</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>add_masks</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.greater_mask_def|fact"><span class="entity_def" id="Mask.greater_mask_def|thm"><span class="entity_def" id="Mask.greater_mask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.greater_mask|const"><span>greater_mask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>greater_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.uni_mask.elims|fact"><span class="entity_def" id="Mask.uni_mask.induct|fact"><span class="entity_def" id="Mask.uni_mask.simps|fact"><span class="entity_def" id="Mask.uni_mask.pelims|fact"><span class="entity_def" id="Mask.uni_mask.cases|fact"><span class="entity_def" id="Mask.uni_mask.termination|fact"><span class="entity_def" id="Mask.uni_mask.pinduct|fact"><span class="entity_def" id="Mask.uni_mask.psimps|fact"><span class="entity_def" id="Mask.uni_mask_rel.inducts|fact"><span class="entity_def" id="Mask.uni_mask_rel.simps|fact"><span class="entity_def" id="Mask.uni_mask_rel.induct|fact"><span class="entity_def" id="Mask.uni_mask_rel.cases|fact"><span class="entity_def" id="Mask.uni_mask_rel.intros|fact"><span class="entity_def" id="Mask.uni_mask_graph.inducts|fact"><span class="entity_def" id="Mask.uni_mask_graph.simps|fact"><span class="entity_def" id="Mask.uni_mask_graph.induct|fact"><span class="entity_def" id="Mask.uni_mask_graph.cases|fact"><span class="entity_def" id="Mask.uni_mask_graph.intros|fact"><span class="entity_def" id="Mask.uni_mask.elims|thm"><span class="entity_def" id="Mask.uni_mask.induct|thm"><span class="entity_def" id="Mask.uni_mask.simps|thm"><span class="entity_def" id="Mask.uni_mask.pelims|thm"><span class="entity_def" id="Mask.uni_mask.cases|thm"><span class="entity_def" id="Mask.uni_mask.termination|thm"><span class="entity_def" id="Mask.uni_mask.pinduct|thm"><span class="entity_def" id="Mask.uni_mask.psimps|thm"><span class="entity_def" id="Mask.uni_mask_rel.inducts|thm"><span class="entity_def" id="Mask.uni_mask_rel.simps|thm"><span class="entity_def" id="Mask.uni_mask_rel.induct|thm"><span class="entity_def" id="Mask.uni_mask_rel.cases|thm"><span class="entity_def" id="Mask.uni_mask_graph.inducts|thm"><span class="entity_def" id="Mask.uni_mask_graph.simps|thm"><span class="entity_def" id="Mask.uni_mask_graph.induct|thm"><span class="entity_def" id="Mask.uni_mask_graph.cases|thm"><span class="entity_def" id="Mask.uni_mask_graph.intros|thm"><span class="entity_def" id="Mask.uni_mask_def|axiom"><span class="entity_def" id="Mask.uni_mask_rel_def|axiom"><span class="entity_def" id="Mask.uni_mask_sumC_def|axiom"><span class="entity_def" id="Mask.uni_mask_graph_def|axiom"><span class="entity_def" id="Mask.uni_mask_dom|const"><span class="entity_def" id="Mask.uni_mask_rel|const"><span class="entity_def" id="Mask.uni_mask_sumC|const"><span class="entity_def" id="Mask.uni_mask_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.uni_mask|const"><span>uni_mask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>uni_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.valid_mask.elims|fact"><span class="entity_def" id="Mask.valid_mask.induct|fact"><span class="entity_def" id="Mask.valid_mask.simps|fact"><span class="entity_def" id="Mask.valid_mask.pelims|fact"><span class="entity_def" id="Mask.valid_mask.cases|fact"><span class="entity_def" id="Mask.valid_mask.termination|fact"><span class="entity_def" id="Mask.valid_mask.pinduct|fact"><span class="entity_def" id="Mask.valid_mask.psimps|fact"><span class="entity_def" id="Mask.valid_mask_rel.inducts|fact"><span class="entity_def" id="Mask.valid_mask_rel.simps|fact"><span class="entity_def" id="Mask.valid_mask_rel.induct|fact"><span class="entity_def" id="Mask.valid_mask_rel.cases|fact"><span class="entity_def" id="Mask.valid_mask_rel.intros|fact"><span class="entity_def" id="Mask.valid_mask_graph.inducts|fact"><span class="entity_def" id="Mask.valid_mask_graph.simps|fact"><span class="entity_def" id="Mask.valid_mask_graph.induct|fact"><span class="entity_def" id="Mask.valid_mask_graph.cases|fact"><span class="entity_def" id="Mask.valid_mask_graph.intros|fact"><span class="entity_def" id="Mask.valid_mask.elims(3)|thm"><span class="entity_def" id="Mask.valid_mask.elims(2)|thm"><span class="entity_def" id="Mask.valid_mask.elims(1)|thm"><span class="entity_def" id="Mask.valid_mask.induct|thm"><span class="entity_def" id="Mask.valid_mask.simps|thm"><span class="entity_def" id="Mask.valid_mask.pelims(3)|thm"><span class="entity_def" id="Mask.valid_mask.pelims(2)|thm"><span class="entity_def" id="Mask.valid_mask.pelims(1)|thm"><span class="entity_def" id="Mask.valid_mask.cases|thm"><span class="entity_def" id="Mask.valid_mask.termination|thm"><span class="entity_def" id="Mask.valid_mask.pinduct|thm"><span class="entity_def" id="Mask.valid_mask.psimps|thm"><span class="entity_def" id="Mask.valid_mask_rel.inducts|thm"><span class="entity_def" id="Mask.valid_mask_rel.simps|thm"><span class="entity_def" id="Mask.valid_mask_rel.induct|thm"><span class="entity_def" id="Mask.valid_mask_rel.cases|thm"><span class="entity_def" id="Mask.valid_mask_graph.inducts|thm"><span class="entity_def" id="Mask.valid_mask_graph.simps|thm"><span class="entity_def" id="Mask.valid_mask_graph.induct|thm"><span class="entity_def" id="Mask.valid_mask_graph.cases|thm"><span class="entity_def" id="Mask.valid_mask_graph.intros|thm"><span class="entity_def" id="Mask.valid_mask_def|axiom"><span class="entity_def" id="Mask.valid_mask_rel_def|axiom"><span class="entity_def" id="Mask.valid_mask_sumC_def|axiom"><span class="entity_def" id="Mask.valid_mask_graph_def|axiom"><span class="entity_def" id="Mask.valid_mask_dom|const"><span class="entity_def" id="Mask.valid_mask_rel|const"><span class="entity_def" id="Mask.valid_mask_sumC|const"><span class="entity_def" id="Mask.valid_mask_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.valid_mask|const"><span>valid_mask</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.valid_null_def|fact"><span class="entity_def" id="Mask.valid_null_def|thm"><span class="entity_def" id="Mask.valid_null_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.valid_null|const"><span>valid_null</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_null</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.equal_on_mask_def|fact"><span class="entity_def" id="Mask.equal_on_mask_def|thm"><span class="entity_def" id="Mask.equal_on_mask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.equal_on_mask|const"><span>equal_on_mask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>equal_on_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.equal_on_bmask_def|fact"><span class="entity_def" id="Mask.equal_on_bmask_def|thm"><span class="entity_def" id="Mask.equal_on_bmask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.equal_on_bmask|const"><span>equal_on_bmask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>equal_on_bmask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.big_add_masks_def|fact"><span class="entity_def" id="Mask.big_add_masks_def|thm"><span class="entity_def" id="Mask.big_add_masks_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.big_add_masks|const"><span>big_add_masks</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>big_add_masks</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î </span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î '</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Î </span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Î '</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.big_greater_mask_def|fact"><span class="entity_def" id="Mask.big_greater_mask_def|thm"><span class="entity_def" id="Mask.big_greater_mask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.big_greater_mask|const"><span>big_greater_mask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>big_greater_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î </span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î '</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>h</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Î </span></span></span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Î '</span></span></span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.greater_bmask_def|fact"><span class="entity_def" id="Mask.greater_bmask_def|thm"><span class="entity_def" id="Mask.greater_bmask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.greater_bmask|const"><span>greater_bmask</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>greater_bmask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>H</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>H'</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>h</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>H'</span></span></span></span><span> </span><span class="bound"><span>h</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>H</span></span></span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.update_dm_def|fact"><span class="entity_def" id="Mask.update_dm_def|thm"><span class="entity_def" id="Mask.update_dm_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.update_dm|const"><span>update_dm</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>update_dm</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>dm</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>dm</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.pre_get_m.elims|fact"><span class="entity_def" id="Mask.pre_get_m.induct|fact"><span class="entity_def" id="Mask.pre_get_m.simps|fact"><span class="entity_def" id="Mask.pre_get_m.pelims|fact"><span class="entity_def" id="Mask.pre_get_m.cases|fact"><span class="entity_def" id="Mask.pre_get_m.termination|fact"><span class="entity_def" id="Mask.pre_get_m.pinduct|fact"><span class="entity_def" id="Mask.pre_get_m.psimps|fact"><span class="entity_def" id="Mask.pre_get_m_rel.inducts|fact"><span class="entity_def" id="Mask.pre_get_m_rel.simps|fact"><span class="entity_def" id="Mask.pre_get_m_rel.induct|fact"><span class="entity_def" id="Mask.pre_get_m_rel.cases|fact"><span class="entity_def" id="Mask.pre_get_m_rel.intros|fact"><span class="entity_def" id="Mask.pre_get_m_graph.inducts|fact"><span class="entity_def" id="Mask.pre_get_m_graph.simps|fact"><span class="entity_def" id="Mask.pre_get_m_graph.induct|fact"><span class="entity_def" id="Mask.pre_get_m_graph.cases|fact"><span class="entity_def" id="Mask.pre_get_m_graph.intros|fact"><span class="entity_def" id="Mask.pre_get_m.elims|thm"><span class="entity_def" id="Mask.pre_get_m.induct|thm"><span class="entity_def" id="Mask.pre_get_m.simps|thm"><span class="entity_def" id="Mask.pre_get_m.pelims|thm"><span class="entity_def" id="Mask.pre_get_m.cases|thm"><span class="entity_def" id="Mask.pre_get_m.termination|thm"><span class="entity_def" id="Mask.pre_get_m.pinduct|thm"><span class="entity_def" id="Mask.pre_get_m.psimps|thm"><span class="entity_def" id="Mask.pre_get_m_rel.inducts|thm"><span class="entity_def" id="Mask.pre_get_m_rel.simps|thm"><span class="entity_def" id="Mask.pre_get_m_rel.induct|thm"><span class="entity_def" id="Mask.pre_get_m_rel.cases|thm"><span class="entity_def" id="Mask.pre_get_m_graph.inducts|thm"><span class="entity_def" id="Mask.pre_get_m_graph.simps|thm"><span class="entity_def" id="Mask.pre_get_m_graph.induct|thm"><span class="entity_def" id="Mask.pre_get_m_graph.cases|thm"><span class="entity_def" id="Mask.pre_get_m_graph.intros|thm"><span class="entity_def" id="Mask.pre_get_m_def|axiom"><span class="entity_def" id="Mask.pre_get_m_rel_def|axiom"><span class="entity_def" id="Mask.pre_get_m_sumC_def|axiom"><span class="entity_def" id="Mask.pre_get_m_graph_def|axiom"><span class="entity_def" id="Mask.pre_get_m_dom|const"><span class="entity_def" id="Mask.pre_get_m_rel|const"><span class="entity_def" id="Mask.pre_get_m_sumC|const"><span class="entity_def" id="Mask.pre_get_m_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.pre_get_m|const"><span>pre_get_m</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pre_get_m</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>fst</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.pre_get_h.elims|fact"><span class="entity_def" id="Mask.pre_get_h.induct|fact"><span class="entity_def" id="Mask.pre_get_h.simps|fact"><span class="entity_def" id="Mask.pre_get_h.pelims|fact"><span class="entity_def" id="Mask.pre_get_h.cases|fact"><span class="entity_def" id="Mask.pre_get_h.termination|fact"><span class="entity_def" id="Mask.pre_get_h.pinduct|fact"><span class="entity_def" id="Mask.pre_get_h.psimps|fact"><span class="entity_def" id="Mask.pre_get_h_rel.inducts|fact"><span class="entity_def" id="Mask.pre_get_h_rel.simps|fact"><span class="entity_def" id="Mask.pre_get_h_rel.induct|fact"><span class="entity_def" id="Mask.pre_get_h_rel.cases|fact"><span class="entity_def" id="Mask.pre_get_h_rel.intros|fact"><span class="entity_def" id="Mask.pre_get_h_graph.inducts|fact"><span class="entity_def" id="Mask.pre_get_h_graph.simps|fact"><span class="entity_def" id="Mask.pre_get_h_graph.induct|fact"><span class="entity_def" id="Mask.pre_get_h_graph.cases|fact"><span class="entity_def" id="Mask.pre_get_h_graph.intros|fact"><span class="entity_def" id="Mask.pre_get_h.elims|thm"><span class="entity_def" id="Mask.pre_get_h.induct|thm"><span class="entity_def" id="Mask.pre_get_h.simps|thm"><span class="entity_def" id="Mask.pre_get_h.pelims|thm"><span class="entity_def" id="Mask.pre_get_h.cases|thm"><span class="entity_def" id="Mask.pre_get_h.termination|thm"><span class="entity_def" id="Mask.pre_get_h.pinduct|thm"><span class="entity_def" id="Mask.pre_get_h.psimps|thm"><span class="entity_def" id="Mask.pre_get_h_rel.inducts|thm"><span class="entity_def" id="Mask.pre_get_h_rel.simps|thm"><span class="entity_def" id="Mask.pre_get_h_rel.induct|thm"><span class="entity_def" id="Mask.pre_get_h_rel.cases|thm"><span class="entity_def" id="Mask.pre_get_h_graph.inducts|thm"><span class="entity_def" id="Mask.pre_get_h_graph.simps|thm"><span class="entity_def" id="Mask.pre_get_h_graph.induct|thm"><span class="entity_def" id="Mask.pre_get_h_graph.cases|thm"><span class="entity_def" id="Mask.pre_get_h_graph.intros|thm"><span class="entity_def" id="Mask.pre_get_h_def|axiom"><span class="entity_def" id="Mask.pre_get_h_rel_def|axiom"><span class="entity_def" id="Mask.pre_get_h_sumC_def|axiom"><span class="entity_def" id="Mask.pre_get_h_graph_def|axiom"><span class="entity_def" id="Mask.pre_get_h_dom|const"><span class="entity_def" id="Mask.pre_get_h_rel|const"><span class="entity_def" id="Mask.pre_get_h_sumC|const"><span class="entity_def" id="Mask.pre_get_h_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.pre_get_h|const"><span>pre_get_h</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pre_get_h</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>snd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.srm_acc.elims|fact"><span class="entity_def" id="Mask.srm_acc.induct|fact"><span class="entity_def" id="Mask.srm_acc.simps|fact"><span class="entity_def" id="Mask.srm_acc.pelims|fact"><span class="entity_def" id="Mask.srm_acc.cases|fact"><span class="entity_def" id="Mask.srm_acc.termination|fact"><span class="entity_def" id="Mask.srm_acc.pinduct|fact"><span class="entity_def" id="Mask.srm_acc.psimps|fact"><span class="entity_def" id="Mask.srm_acc_rel.inducts|fact"><span class="entity_def" id="Mask.srm_acc_rel.simps|fact"><span class="entity_def" id="Mask.srm_acc_rel.induct|fact"><span class="entity_def" id="Mask.srm_acc_rel.cases|fact"><span class="entity_def" id="Mask.srm_acc_rel.intros|fact"><span class="entity_def" id="Mask.srm_acc_graph.inducts|fact"><span class="entity_def" id="Mask.srm_acc_graph.simps|fact"><span class="entity_def" id="Mask.srm_acc_graph.induct|fact"><span class="entity_def" id="Mask.srm_acc_graph.cases|fact"><span class="entity_def" id="Mask.srm_acc_graph.intros|fact"><span class="entity_def" id="Mask.srm_acc.elims|thm"><span class="entity_def" id="Mask.srm_acc.induct|thm"><span class="entity_def" id="Mask.srm_acc.simps|thm"><span class="entity_def" id="Mask.srm_acc.pelims|thm"><span class="entity_def" id="Mask.srm_acc.cases|thm"><span class="entity_def" id="Mask.srm_acc.termination|thm"><span class="entity_def" id="Mask.srm_acc.pinduct|thm"><span class="entity_def" id="Mask.srm_acc.psimps|thm"><span class="entity_def" id="Mask.srm_acc_rel.inducts|thm"><span class="entity_def" id="Mask.srm_acc_rel.simps|thm"><span class="entity_def" id="Mask.srm_acc_rel.induct|thm"><span class="entity_def" id="Mask.srm_acc_rel.cases|thm"><span class="entity_def" id="Mask.srm_acc_graph.inducts|thm"><span class="entity_def" id="Mask.srm_acc_graph.simps|thm"><span class="entity_def" id="Mask.srm_acc_graph.induct|thm"><span class="entity_def" id="Mask.srm_acc_graph.cases|thm"><span class="entity_def" id="Mask.srm_acc_graph.intros|thm"><span class="entity_def" id="Mask.srm_acc_def|axiom"><span class="entity_def" id="Mask.srm_acc_rel_def|axiom"><span class="entity_def" id="Mask.srm_acc_sumC_def|axiom"><span class="entity_def" id="Mask.srm_acc_graph_def|axiom"><span class="entity_def" id="Mask.srm_acc_dom|const"><span class="entity_def" id="Mask.srm_acc_rel|const"><span class="entity_def" id="Mask.srm_acc_sumC|const"><span class="entity_def" id="Mask.srm_acc_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.srm_acc|const"><span>srm_acc</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>srm_acc</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.rm_acc|const"><span>rm_acc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.pre_get_m|const"><span>pre_get_m</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.pre_get_h|const"><span>pre_get_h</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.val.size_gen|fact"><span class="entity_def" id="Mask.val.size|fact"><span class="entity_def" id="Mask.arity_size_val|fact"><span class="entity_def" id="Mask.val.size_val_overloaded_def|fact"><span class="entity_def" id="Mask.size_val_inst.size_val|fact"><span class="entity_def" id="Mask.val.size_val_def|fact"><span class="entity_def" id="Mask.val.simps|fact"><span class="entity_def" id="Mask.val.rec_transfer|fact"><span class="entity_def" id="Mask.val.rec|fact"><span class="entity_def" id="Mask.val.induct|fact"><span class="entity_def" id="Mask.val.case_transfer|fact"><span class="entity_def" id="Mask.val.splits|fact"><span class="entity_def" id="Mask.val.split_sels|fact"><span class="entity_def" id="Mask.val.split_sel_asm|fact"><span class="entity_def" id="Mask.val.split_sel|fact"><span class="entity_def" id="Mask.val.split_asm|fact"><span class="entity_def" id="Mask.val.split|fact"><span class="entity_def" id="Mask.val.sel|fact"><span class="entity_def" id="Mask.val.nchotomy|fact"><span class="entity_def" id="Mask.val.inject|fact"><span class="entity_def" id="Mask.val.expand|fact"><span class="entity_def" id="Mask.val.exhaust_sel|fact"><span class="entity_def" id="Mask.val.exhaust_disc|fact"><span class="entity_def" id="Mask.val.exhaust|fact"><span class="entity_def" id="Mask.val.distinct_disc|fact"><span class="entity_def" id="Mask.val.distinct|fact"><span class="entity_def" id="Mask.val.discI|fact"><span class="entity_def" id="Mask.val.disc_eq_case|fact"><span class="entity_def" id="Mask.val.disc|fact"><span class="entity_def" id="Mask.val.collapse|fact"><span class="entity_def" id="Mask.val.case_eq_if|fact"><span class="entity_def" id="Mask.val.case_distrib|fact"><span class="entity_def" id="Mask.val.case_cong_weak|fact"><span class="entity_def" id="Mask.val.case_cong|fact"><span class="entity_def" id="Mask.val.case|fact"><span class="entity_def" id="Mask.val.eq.simps|fact"><span class="entity_def" id="Mask.val.eq.refl|fact"><span class="entity_def" id="Mask.arity_equal_val|fact"><span class="entity_def" id="Mask.equal_val_def|fact"><span class="entity_def" id="Mask.equal_val_inst.equal_val|fact"><span class="entity_def" id="Mask.arity_partial_term_of_val|fact"><span class="entity_def" id="Mask.partial_term_of_val_triv|fact"><span class="entity_def" id="Mask.partial_term_of_val_inst.partial_term_of_val|fact"><span class="entity_def" id="Mask.arity_term_of_val|fact"><span class="entity_def" id="Mask.term_of_val_triv|fact"><span class="entity_def" id="Mask.term_of_val_inst.term_of_val|fact"><span class="entity_def" id="Mask.val.the_rat_def|fact"><span class="entity_def" id="Mask.val.the_address_def|fact"><span class="entity_def" id="Mask.val.the_bool_def|fact"><span class="entity_def" id="Mask.val.is_Rat_def|fact"><span class="entity_def" id="Mask.val.is_Address_def|fact"><span class="entity_def" id="Mask.val.is_Bool_def|fact"><span class="entity_def" id="Mask.val.case_val_def|fact"><span class="entity_def" id="Mask.val.ctor_rec_val_def|fact"><span class="entity_def" id="Mask.val.dtor_val_def|fact"><span class="entity_def" id="Mask.val.ctor_fold_val_def|fact"><span class="entity_def" id="Mask.val.ctor_val_def|fact"><span class="entity_def" id="Mask.arity_typerep_val|fact"><span class="entity_def" id="Mask.typerep_val_def|fact"><span class="entity_def" id="Mask.typerep_val_inst.typerep_val|fact"><span class="entity_def" id="Mask.val.Abs_val_induct|fact"><span class="entity_def" id="Mask.val.Rep_val_induct|fact"><span class="entity_def" id="Mask.val.Abs_val_cases|fact"><span class="entity_def" id="Mask.val.Rep_val_cases|fact"><span class="entity_def" id="Mask.val.Abs_val_inject|fact"><span class="entity_def" id="Mask.val.Rep_val_inject|fact"><span class="entity_def" id="Mask.val.Abs_val_inverse|fact"><span class="entity_def" id="Mask.val.Rep_val_inverse|fact"><span class="entity_def" id="Mask.val.Rep_val|fact"><span class="entity_def" id="Mask.val.type_definition_val|fact"><span class="entity_def" id="Mask.arity_type_val|fact"><span class="entity_def" id="Mask.val.str_init_val_def|fact"><span class="entity_def" id="Mask.val.arity_typerep_val_IITN_val|fact"><span class="entity_def" id="Mask.val.typerep_val_IITN_val_def|fact"><span class="entity_def" id="Mask.val.typerep_val_IITN_val_inst.typerep_val_IITN_val|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_induct|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_induct|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_cases|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_cases|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_inject|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_inject|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_inverse|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_inverse|fact"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val|fact"><span class="entity_def" id="Mask.val.val_IITN_val.type_definition_val_IITN_val|fact"><span class="entity_def" id="Mask.arity_type_val_IITN_val|fact"><span class="entity_def" id="Mask.val.min_alg_val_def|fact"><span class="entity_def" id="Mask.val.mor_val_def|fact"><span class="entity_def" id="Mask.val.alg_val_def|fact"><span class="entity_def" id="Mask.pre_val.val.set_pre_val_def|fact"><span class="entity_def" id="Mask.pre_val.val.rel_pre_val_def|fact"><span class="entity_def" id="Mask.pre_val.val.map_pre_val_def|fact"><span class="entity_def" id="Mask.val.size_gen(3)|thm"><span class="entity_def" id="Mask.val.size_gen(2)|thm"><span class="entity_def" id="Mask.val.size_gen(1)|thm"><span class="entity_def" id="Mask.val.size(6)|thm"><span class="entity_def" id="Mask.val.size(5)|thm"><span class="entity_def" id="Mask.val.size(4)|thm"><span class="entity_def" id="Mask.val.size(3)|thm"><span class="entity_def" id="Mask.val.size(2)|thm"><span class="entity_def" id="Mask.val.size(1)|thm"><span class="entity_def" id="Mask.arity_size_val|thm"><span class="entity_def" id="Mask.val.size_val_overloaded_def|thm"><span class="entity_def" id="Mask.size_val_inst.size_val|thm"><span class="entity_def" id="Mask.val.size_val_def|thm"><span class="entity_def" id="Mask.val.simps(15)|thm"><span class="entity_def" id="Mask.val.simps(14)|thm"><span class="entity_def" id="Mask.val.simps(13)|thm"><span class="entity_def" id="Mask.val.simps(12)|thm"><span class="entity_def" id="Mask.val.simps(11)|thm"><span class="entity_def" id="Mask.val.simps(10)|thm"><span class="entity_def" id="Mask.val.simps(9)|thm"><span class="entity_def" id="Mask.val.simps(8)|thm"><span class="entity_def" id="Mask.val.simps(7)|thm"><span class="entity_def" id="Mask.val.simps(6)|thm"><span class="entity_def" id="Mask.val.simps(5)|thm"><span class="entity_def" id="Mask.val.simps(4)|thm"><span class="entity_def" id="Mask.val.simps(3)|thm"><span class="entity_def" id="Mask.val.simps(2)|thm"><span class="entity_def" id="Mask.val.simps(1)|thm"><span class="entity_def" id="Mask.val.rec_transfer|thm"><span class="entity_def" id="Mask.val.rec(3)|thm"><span class="entity_def" id="Mask.val.rec(2)|thm"><span class="entity_def" id="Mask.val.rec(1)|thm"><span class="entity_def" id="Mask.val.induct|thm"><span class="entity_def" id="Mask.val.case_transfer|thm"><span class="entity_def" id="Mask.val.splits(2)|thm"><span class="entity_def" id="Mask.val.splits(1)|thm"><span class="entity_def" id="Mask.val.split_sels(2)|thm"><span class="entity_def" id="Mask.val.split_sels(1)|thm"><span class="entity_def" id="Mask.val.split_sel_asm|thm"><span class="entity_def" id="Mask.val.split_sel|thm"><span class="entity_def" id="Mask.val.split_asm|thm"><span class="entity_def" id="Mask.val.split|thm"><span class="entity_def" id="Mask.val.sel(3)|thm"><span class="entity_def" id="Mask.val.sel(2)|thm"><span class="entity_def" id="Mask.val.sel(1)|thm"><span class="entity_def" id="Mask.val.nchotomy|thm"><span class="entity_def" id="Mask.val.inject(3)|thm"><span class="entity_def" id="Mask.val.inject(2)|thm"><span class="entity_def" id="Mask.val.inject(1)|thm"><span class="entity_def" id="Mask.val.expand|thm"><span class="entity_def" id="Mask.val.exhaust_sel|thm"><span class="entity_def" id="Mask.val.exhaust_disc|thm"><span class="entity_def" id="Mask.val.exhaust|thm"><span class="entity_def" id="Mask.val.distinct_disc(6)|thm"><span class="entity_def" id="Mask.val.distinct_disc(5)|thm"><span class="entity_def" id="Mask.val.distinct_disc(4)|thm"><span class="entity_def" id="Mask.val.distinct_disc(3)|thm"><span class="entity_def" id="Mask.val.distinct_disc(2)|thm"><span class="entity_def" id="Mask.val.distinct_disc(1)|thm"><span class="entity_def" id="Mask.val.distinct(6)|thm"><span class="entity_def" id="Mask.val.distinct(5)|thm"><span class="entity_def" id="Mask.val.distinct(4)|thm"><span class="entity_def" id="Mask.val.distinct(3)|thm"><span class="entity_def" id="Mask.val.distinct(2)|thm"><span class="entity_def" id="Mask.val.distinct(1)|thm"><span class="entity_def" id="Mask.val.discI(3)|thm"><span class="entity_def" id="Mask.val.discI(2)|thm"><span class="entity_def" id="Mask.val.discI(1)|thm"><span class="entity_def" id="Mask.val.disc_eq_case(3)|thm"><span class="entity_def" id="Mask.val.disc_eq_case(2)|thm"><span class="entity_def" id="Mask.val.disc_eq_case(1)|thm"><span class="entity_def" id="Mask.val.disc(9)|thm"><span class="entity_def" id="Mask.val.disc(8)|thm"><span class="entity_def" id="Mask.val.disc(7)|thm"><span class="entity_def" id="Mask.val.disc(6)|thm"><span class="entity_def" id="Mask.val.disc(5)|thm"><span class="entity_def" id="Mask.val.disc(4)|thm"><span class="entity_def" id="Mask.val.disc(3)|thm"><span class="entity_def" id="Mask.val.disc(2)|thm"><span class="entity_def" id="Mask.val.disc(1)|thm"><span class="entity_def" id="Mask.val.collapse(3)|thm"><span class="entity_def" id="Mask.val.collapse(2)|thm"><span class="entity_def" id="Mask.val.collapse(1)|thm"><span class="entity_def" id="Mask.val.case_eq_if|thm"><span class="entity_def" id="Mask.val.case_distrib|thm"><span class="entity_def" id="Mask.val.case_cong_weak|thm"><span class="entity_def" id="Mask.val.case_cong|thm"><span class="entity_def" id="Mask.val.case(3)|thm"><span class="entity_def" id="Mask.val.case(2)|thm"><span class="entity_def" id="Mask.val.case(1)|thm"><span class="entity_def" id="Mask.val.eq.simps(15)|thm"><span class="entity_def" id="Mask.val.eq.simps(14)|thm"><span class="entity_def" id="Mask.val.eq.simps(13)|thm"><span class="entity_def" id="Mask.val.eq.simps(12)|thm"><span class="entity_def" id="Mask.val.eq.simps(11)|thm"><span class="entity_def" id="Mask.val.eq.simps(10)|thm"><span class="entity_def" id="Mask.val.eq.simps(9)|thm"><span class="entity_def" id="Mask.val.eq.simps(8)|thm"><span class="entity_def" id="Mask.val.eq.simps(7)|thm"><span class="entity_def" id="Mask.val.eq.simps(6)|thm"><span class="entity_def" id="Mask.val.eq.simps(5)|thm"><span class="entity_def" id="Mask.val.eq.simps(4)|thm"><span class="entity_def" id="Mask.val.eq.simps(3)|thm"><span class="entity_def" id="Mask.val.eq.simps(2)|thm"><span class="entity_def" id="Mask.val.eq.simps(1)|thm"><span class="entity_def" id="Mask.val.eq.refl|thm"><span class="entity_def" id="Mask.arity_equal_val|thm"><span class="entity_def" id="Mask.equal_val_def|thm"><span class="entity_def" id="Mask.equal_val_inst.equal_val|thm"><span class="entity_def" id="Mask.arity_partial_term_of_val|thm"><span class="entity_def" id="Mask.partial_term_of_val_triv|thm"><span class="entity_def" id="Mask.partial_term_of_val_inst.partial_term_of_val|thm"><span class="entity_def" id="Mask.arity_term_of_val|thm"><span class="entity_def" id="Mask.term_of_val_triv|thm"><span class="entity_def" id="Mask.term_of_val_inst.term_of_val|thm"><span class="entity_def" id="Mask.val.the_rat_def|thm"><span class="entity_def" id="Mask.val.the_address_def|thm"><span class="entity_def" id="Mask.val.the_bool_def|thm"><span class="entity_def" id="Mask.val.is_Rat_def|thm"><span class="entity_def" id="Mask.val.is_Address_def|thm"><span class="entity_def" id="Mask.val.is_Bool_def|thm"><span class="entity_def" id="Mask.val.case_val_def|thm"><span class="entity_def" id="Mask.val.ctor_rec_val_def|thm"><span class="entity_def" id="Mask.val.dtor_val_def|thm"><span class="entity_def" id="Mask.val.ctor_fold_val_def|thm"><span class="entity_def" id="Mask.val.ctor_val_def|thm"><span class="entity_def" id="Mask.arity_typerep_val|thm"><span class="entity_def" id="Mask.typerep_val_def|thm"><span class="entity_def" id="Mask.typerep_val_inst.typerep_val|thm"><span class="entity_def" id="Mask.val.Abs_val_induct|thm"><span class="entity_def" id="Mask.val.Rep_val_induct|thm"><span class="entity_def" id="Mask.val.Abs_val_cases|thm"><span class="entity_def" id="Mask.val.Rep_val_cases|thm"><span class="entity_def" id="Mask.val.Abs_val_inject|thm"><span class="entity_def" id="Mask.val.Rep_val_inject|thm"><span class="entity_def" id="Mask.val.Abs_val_inverse|thm"><span class="entity_def" id="Mask.val.Rep_val_inverse|thm"><span class="entity_def" id="Mask.val.Rep_val|thm"><span class="entity_def" id="Mask.val.type_definition_val|thm"><span class="entity_def" id="Mask.arity_type_val|thm"><span class="entity_def" id="Mask.val.str_init_val_def|thm"><span class="entity_def" id="Mask.val.arity_typerep_val_IITN_val|thm"><span class="entity_def" id="Mask.val.typerep_val_IITN_val_def|thm"><span class="entity_def" id="Mask.val.typerep_val_IITN_val_inst.typerep_val_IITN_val|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_induct|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_induct|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_cases|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_cases|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_inject|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_inject|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val_inverse|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val_inverse|thm"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val|thm"><span class="entity_def" id="Mask.val.val_IITN_val.type_definition_val_IITN_val|thm"><span class="entity_def" id="Mask.arity_type_val_IITN_val|thm"><span class="entity_def" id="Mask.val.min_alg_val_def|thm"><span class="entity_def" id="Mask.val.mor_val_def|thm"><span class="entity_def" id="Mask.val.alg_val_def|thm"><span class="entity_def" id="Mask.pre_val.val.set_pre_val_def|thm"><span class="entity_def" id="Mask.pre_val.val.rel_pre_val_def|thm"><span class="entity_def" id="Mask.pre_val.val.map_pre_val_def|thm"><span class="entity_def" id="Mask.val.size_val_overloaded_def|axiom"><span class="entity_def" id="Mask.size_val_inst.size_val_def|axiom"><span class="entity_def" id="Mask.val.size_val_def|axiom"><span class="entity_def" id="Mask.val.rec_val_def|axiom"><span class="entity_def" id="Mask.equal_val_def_raw|axiom"><span class="entity_def" id="Mask.equal_val_inst.equal_val_def|axiom"><span class="entity_def" id="Mask.partial_term_of_val_triv_raw|axiom"><span class="entity_def" id="Mask.partial_term_of_val_inst.partial_term_of_val_def|axiom"><span class="entity_def" id="Mask.term_of_val_triv_raw|axiom"><span class="entity_def" id="Mask.term_of_val_inst.term_of_val_def|axiom"><span class="entity_def" id="Mask.val.the_rat_def_raw|axiom"><span class="entity_def" id="Mask.val.the_address_def_raw|axiom"><span class="entity_def" id="Mask.val.the_bool_def_raw|axiom"><span class="entity_def" id="Mask.val.is_Rat_def_raw|axiom"><span class="entity_def" id="Mask.val.is_Address_def_raw|axiom"><span class="entity_def" id="Mask.val.is_Bool_def_raw|axiom"><span class="entity_def" id="Mask.val.case_val_def|axiom"><span class="entity_def" id="Mask.val.Rat_def|axiom"><span class="entity_def" id="Mask.val.Address_def|axiom"><span class="entity_def" id="Mask.val.Bool_def|axiom"><span class="entity_def" id="Mask.val.ctor_rec_val_def|axiom"><span class="entity_def" id="Mask.val.dtor_val_def|axiom"><span class="entity_def" id="Mask.val.ctor_fold_val_def|axiom"><span class="entity_def" id="Mask.val.ctor_val_def|axiom"><span class="entity_def" id="Mask.typerep_val_def_raw|axiom"><span class="entity_def" id="Mask.typerep_val_inst.typerep_val_def|axiom"><span class="entity_def" id="Mask.val.type_definition_val|axiom"><span class="entity_def" id="Mask.arity_type_val|axiom"><span class="entity_def" id="Mask.val.str_init_val_def|axiom"><span class="entity_def" id="Mask.val.typerep_val_IITN_val_def_raw|axiom"><span class="entity_def" id="Mask.val.typerep_val_IITN_val_inst.typerep_val_IITN_val_def|axiom"><span class="entity_def" id="Mask.val.val_IITN_val.type_definition_val_IITN_val|axiom"><span class="entity_def" id="Mask.arity_type_val_IITN_val|axiom"><span class="entity_def" id="Mask.val.min_alg_val_def|axiom"><span class="entity_def" id="Mask.val.mor_val_def|axiom"><span class="entity_def" id="Mask.val.alg_val_def|axiom"><span class="entity_def" id="Mask.pre_val.val.wit_pre_val_def|axiom"><span class="entity_def" id="Mask.pre_val.val.pred_pre_val_def|axiom"><span class="entity_def" id="Mask.pre_val.val.rel_pre_val_def|axiom"><span class="entity_def" id="Mask.pre_val.val.set_pre_val_def|axiom"><span class="entity_def" id="Mask.pre_val.val.map_pre_val_def|axiom"><span class="entity_def" id="Mask.size_val_inst.size_val|const"><span class="entity_def" id="Mask.val.size_val|const"><span class="entity_def" id="Mask.equal_val_inst.equal_val|const"><span class="entity_def" id="Mask.partial_term_of_val_inst.partial_term_of_val|const"><span class="entity_def" id="Mask.term_of_val_inst.term_of_val|const"><span class="entity_def" id="Mask.val.is_Rat|const"><span class="entity_def" id="Mask.val.is_Address|const"><span class="entity_def" id="Mask.val.is_Bool|const"><span class="entity_def" id="Mask.val.case_val|const"><span class="entity_def" id="Mask.typerep_val_inst.typerep_val|const"><span class="entity_def" id="Mask.val.Abs_val|const"><span class="entity_def" id="Mask.val.Rep_val|const"><span class="entity_def" id="Mask.val.typerep_val_IITN_val_inst.typerep_val_IITN_val|const"><span class="entity_def" id="Mask.val.val_IITN_val.Abs_val_IITN_val|const"><span class="entity_def" id="Mask.val.val_IITN_val.Rep_val_IITN_val|const"><span class="entity_def" id="Mask.val.mor_val|const"><span class="entity_def" id="Mask.val.alg_val|const"><span class="entity_def" id="Mask.val.val_IITN_val|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Mask.val.rec_val|const"><span class="entity_def" id="Mask.val.ctor_rec_val|const"><span class="entity_def" id="Mask.val.dtor_val|const"><span class="entity_def" id="Mask.val.ctor_fold_val|const"><span class="entity_def" id="Mask.val.ctor_val|const"><span class="entity_def" id="Mask.val.str_init_val|const"><span class="entity_def" id="Mask.val.min_alg_val|const"><span class="entity_def" id="Mask.pre_val.val.wit_pre_val|const"><span class="entity_def" id="Mask.pre_val.val.pred_pre_val|const"><span class="entity_def" id="Mask.pre_val.val.rel_pre_val|const"><span class="entity_def" id="Mask.pre_val.val.set_pre_val|const"><span class="entity_def" id="Mask.pre_val.val.map_pre_val|const"><span class="entity_def" id="Mask.val|type"><span>val</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="Mask.val.Bool|const"><span>Bool</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Mask.val.the_bool|const"><span>the_bool</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span>bool</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Mask.val.Address|const"><span>Address</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Mask.val.the_address|const"><span>the_address</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Mask.html#Mask.address|type"><span>address</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Mask.val.Rat|const"><span>Rat</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Mask.val.the_rat|const"><span>the_rat</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Mask.upper_bounded_def|fact"><span class="entity_def" id="Mask.upper_bounded_def|thm"><span class="entity_def" id="Mask.upper_bounded_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Mask.upper_bounded|const"><span>upper_bounded</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>upper_bounded</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>




</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Lemmas</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2094..2099">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.ssubsetI|fact"><span class="entity_def" id="Mask.ssubsetI|thm"><span>ssubsetI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_2094..2099"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2191..2196">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.double_inclusion|fact"><span class="entity_def" id="Mask.double_inclusion|thm"><span>double_inclusion</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_2191..2196"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.add_masks_comm|fact"><span class="entity_def" id="Mask.add_masks_comm|thm"><span>add_masks_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>add.commute</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.add_masks_asso|fact"><span class="entity_def" id="Mask.add_masks_asso|thm"><span>add_masks_asso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>add.assoc</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.minus_empty|fact"><span class="entity_def" id="Mask.minus_empty|thm"><span>minus_empty</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>add.right_neutral</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask.simps|fact"><span>empty_mask.simps</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.add_acc_uni_mask|fact"><span class="entity_def" id="Mask.add_acc_uni_mask|thm"><span>add_acc_uni_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_acc|const"><span>add_acc</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>hl</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.uni_mask|const"><span>uni_mask</span></a><span> </span><span class="free"><span>hl</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_acc|const"><span>add_acc</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>hl</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.uni_mask|const"><span>uni_mask</span></a><span> </span><span class="free"><span>hl</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_acc.simps|fact"><span>add_acc.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><span>fun_upd_apply</span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.uni_mask.simps|fact"><span>uni_mask.simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.add_masks_equiv_valid_null|fact"><span class="entity_def" id="Mask.add_masks_equiv_valid_null|thm"><span>add_masks_equiv_valid_null</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_null|const"><span>valid_null</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_null|const"><span>valid_null</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_null|const"><span>valid_null</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_zero|fact"><span>padd_zero</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_null_def|fact"><span>valid_null_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3414..3419">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.valid_maskI|fact"><span class="entity_def" id="Mask.valid_maskI|thm"><span>valid_maskI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_3414..3419"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_3414..3419"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_mask_equiv_def|fact"><span class="entity_def" id="Mask.greater_mask_equiv_def|thm"><span>greater_mask_equiv_def</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>iffI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>clarify</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?B</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?r</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="var"><span>?r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?r</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?A</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4338..4343">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_maskI|fact"><span class="entity_def" id="Mask.greater_maskI|thm"><span>greater_maskI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_4338..4343"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_mask_properties|fact"><span class="entity_def" id="Mask.greater_mask_properties(3)|thm"><span class="entity_def" id="Mask.greater_mask_properties(2)|thm"><span class="entity_def" id="Mask.greater_mask_properties(1)|thm"><span>greater_mask_properties</span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_asso|fact"><span>add_masks_asso</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte_antisym|fact"><span>pgte_antisym</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4915..4920">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_mask_decomp|fact"><span class="entity_def" id="Mask.greater_mask_decomp|thm"><span>greater_mask_decomp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="bound"><span>a1</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="bound"><span>a2</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_asso|fact"><span>add_masks_asso</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_4915..4920"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_properties|fact"><span>greater_mask_properties</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.valid_empty|fact"><span class="entity_def" id="Mask.valid_empty|thm"><span>valid_empty</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask.simps|fact"><span>empty_mask.simps</span></a><span> </span><span>le_add_same_cancel1</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5309..5314">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.upper_valid_aux|fact"><span class="entity_def" id="Mask.upper_valid_aux|thm"><span>upper_valid_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_maskI|fact"><span>valid_maskI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_5309..5314"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_5309..5314"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_5309..5314"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_5309..5314"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask.simps|fact"><span>empty_mask.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte_antisym|fact"><span>pgte_antisym</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5726..5731">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.upper_valid|fact"><span class="entity_def" id="Mask.upper_valid|thm"><span>upper_valid</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_5726..5731"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_5726..5731"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5907..5912">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.equal_on_bmaskI|fact"><span class="entity_def" id="Mask.equal_on_bmaskI|thm"><span>equal_on_bmaskI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_5907..5912"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask_def|fact"><span>equal_on_bmask_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.big_add_greater|fact"><span class="entity_def" id="Mask.big_add_greater|thm"><span>big_add_greater</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.big_greater_mask|const"><span>big_greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks_def|fact"><span>big_add_masks_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.big_greater_mask_def|fact"><span>big_greater_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.big_greater_iff|fact"><span class="entity_def" id="Mask.big_greater_iff|thm"><span>big_greater_iff</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.big_greater_mask|const"><span>big_greater_mask</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.big_greater_mask|const"><span>big_greater_mask</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?C</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>h</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>h</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="var"><span>?C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?C</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>xa</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Mask.html#Mask.big_greater_mask|const"><span>big_greater_mask</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_greater_mask_def|fact"><span>big_greater_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><span>someI_ex</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xa</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>h</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>h</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks_def|fact"><span>big_add_masks_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>C</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.big_add_masks_asso|fact"><span class="entity_def" id="Mask.big_add_masks_asso|thm"><span>big_add_masks_asso</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_asso|fact"><span>add_masks_asso</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks_def|fact"><span>big_add_masks_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.big_add_mask_neutral|fact"><span class="entity_def" id="Mask.big_add_mask_neutral|thm"><span>big_add_mask_neutral</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>Î </span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Î </span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.big_add_masks|const"><span>big_add_masks</span></a><span> </span><span class="free"><span>Î </span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Î </span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.big_add_masks_def|fact"><span>big_add_masks_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.sym_equal_on_mask|fact"><span class="entity_def" id="Mask.sym_equal_on_mask|thm"><span>sym_equal_on_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask_def|fact"><span>equal_on_mask_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_mask_uni_equiv|fact"><span class="entity_def" id="Mask.greater_mask_uni_equiv|thm"><span>greater_mask_uni_equiv</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.uni_mask|const"><span>uni_mask</span></a><span> </span><span class="free"><span>hl</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><span>fun_upd_apply</span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.uni_mask.simps|fact"><span>uni_mask.simps</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7836..7841">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_mask_uniI|fact"><span class="entity_def" id="Mask.greater_mask_uniI|thm"><span>greater_mask_uniI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.uni_mask|const"><span>uni_mask</span></a><span> </span><span class="free"><span>hl</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_uni_equiv|fact"><span>greater_mask_uni_equiv</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_7836..7841"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_bmask_refl|fact"><span class="entity_def" id="Mask.greater_bmask_refl|thm"><span>greater_bmask_refl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_bmask|const"><span>greater_bmask</span></a><span> </span><span class="free"><span>H</span></span><span> </span><span class="free"><span>H</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_bmask_def|fact"><span>greater_bmask_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8059..8064">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_bmask_trans|fact"><span class="entity_def" id="Mask.greater_bmask_trans|thm"><span>greater_bmask_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_bmask|const"><span>greater_bmask</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_bmask|const"><span>greater_bmask</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_bmask|const"><span>greater_bmask</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_8059..8064"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_8059..8064"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_bmask_def|fact"><span>greater_bmask_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.update_dm_same|fact"><span class="entity_def" id="Mask.update_dm_same|thm"><span>update_dm_same</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>dm</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>dm</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm_def|fact"><span>update_dm_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8381..8386">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.update_trans|fact"><span class="entity_def" id="Mask.update_trans|thm"><span>update_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï''</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï''</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm_def|fact"><span>update_dm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>dm</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm_def|fact"><span>update_dm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>dm</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm_def|fact"><span>update_dm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_8381..8386"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_8381..8386"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_properties|fact"><span>greater_mask_properties</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte_antisym|fact"><span>pgte_antisym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï''</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_8381..8386"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte_antisym|fact"><span>pgte_antisym</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9488..9493">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.equal_on_bmask_greater|fact"><span class="entity_def" id="Mask.equal_on_bmask_greater|thm"><span>equal_on_bmask_greater</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_bmask|const"><span>greater_bmask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_9488..9493"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_9488..9493"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask_def|fact"><span>equal_on_bmask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_bmask_def|fact"><span>greater_bmask_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9708..9713">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.update_dm_equal_bmask|fact"><span class="entity_def" id="Mask.update_dm_equal_bmask|thm"><span>update_dm_equal_bmask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>   
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask_def|fact"><span>equal_on_bmask_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>dm</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm_def|fact"><span>update_dm_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10117..10125">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_9708..9713"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask_def|fact"><span>equal_on_bmask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask_def|fact"><span>equal_on_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm_def|fact"><span>update_dm_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask|const"><span>equal_on_bmask</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>add.right_neutral</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_9708..9713"><span>assms</span></a><span> </span><span>dual_order.strict_iff_order</span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_bmask_def|fact"><span>equal_on_bmask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask_def|fact"><span>equal_on_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_eq_pnone|fact"><span>ppos_eq_pnone</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm_def|fact"><span>update_dm_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.update_dm|const"><span>update_dm</span></a><span> </span><span class="free"><span>dm</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_10117..10125"><span>calculation</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10893..10898">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.const_sum_mask_greater|fact"><span class="entity_def" id="Mask.const_sum_mask_greater|thm"><span>const_sum_mask_greater</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>d</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>hl</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_10893..10898"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte_pgt|fact"><span>pgte_pgt</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>False</span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_10893..10898"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><span>order_refl</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11459..11464">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.add_masks_cancellative|fact"><span class="entity_def" id="Mask.add_masks_cancellative|thm"><span>add_masks_cancellative</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>d</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_11459..11464"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.const_sum_mask_greater|fact"><span>const_sum_mask_greater</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_properties|fact"><span>greater_mask_properties</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_properties|fact"><span>greater_mask_properties</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11697..11702">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.equal_on_maskI|fact"><span class="entity_def" id="Mask.equal_on_maskI|thm"><span>equal_on_maskI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_11697..11702"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask_def|fact"><span>equal_on_mask_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11836..11841">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_equal_on_mask|fact"><span class="entity_def" id="Mask.greater_equal_on_mask|thm"><span>greater_equal_on_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_maskI|fact"><span>equal_on_maskI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>h</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_11836..11841"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_11836..11841"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask_def|fact"><span>equal_on_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><span>less_le_trans</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.equal_on_mask_sum|fact"><span class="entity_def" id="Mask.equal_on_mask_sum|thm"><span>equal_on_mask_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï2</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>Ï2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>Ï2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï2</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_equal_on_mask|fact"><span>greater_equal_on_mask</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï2</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>Ï2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_maskI|fact"><span>equal_on_maskI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>Ï2</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>h</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï1</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï2</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask_def|fact"><span>equal_on_mask_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask|const"><span>equal_on_mask</span></a><span> </span><span class="free"><span>Ï2</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>Ï1</span></span><span> </span><span class="free"><span>Ï2</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.equal_on_mask_def|fact"><span>equal_on_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_zero|fact"><span>padd_zero</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_eq_pnone|fact"><span>ppos_eq_pnone</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.valid_larger_mask|fact"><span class="entity_def" id="Mask.valid_larger_mask|thm"><span>valid_larger_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.full_mask|const"><span>full_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>fst_eqD</span><span> </span><a class="entity_ref" href="Mask.html#Mask.full_mask_def|fact"><span>full_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><span>not_one_le_zero</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite.rep_eq|fact"><span>pwrite.rep_eq</span></a><span> </span><span>surjective_pairing</span><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.valid_mask_full_mask|fact"><span class="entity_def" id="Mask.valid_mask_full_mask|thm"><span>valid_mask_full_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.full_mask|const"><span>full_mask</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_properties|fact"><span>greater_mask_properties</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_larger_mask|fact"><span>valid_larger_mask</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13441..13446">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.mult_greater|fact"><span class="entity_def" id="Mask.mult_greater|thm"><span>mult_greater</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_13441..13446"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.mult_write_mask|fact"><span class="entity_def" id="Mask.mult_write_mask|thm"><span>mult_write_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.mult_distr_masks|fact"><span class="entity_def" id="Mask.mult_distr_masks|thm"><span>mult_distr_masks</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Mask.mult_add_states|fact"><span class="entity_def" id="Mask.mult_add_states|thm"><span>mult_add_states</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>    
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14408..14413">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.upper_boundedI|fact"><span class="entity_def" id="Mask.upper_boundedI|thm"><span>upper_boundedI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_14408..14413"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14531..14536">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.upper_bounded_smaller|fact"><span class="entity_def" id="Mask.upper_bounded_smaller|thm"><span>upper_bounded_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_14531..14536"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14733..14738">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.upper_bounded_bigger|fact"><span class="entity_def" id="Mask.upper_bounded_bigger|thm"><span>upper_bounded_bigger</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_14733..14738"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_14733..14738"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>order_trans</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14917..14922">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.valid_mult|fact"><span class="entity_def" id="Mask.valid_mult|thm"><span>valid_mult</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_maskI|fact"><span>valid_maskI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_14917..14922"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>p</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_smaller|fact"><span>upper_bounded_smaller</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_14917..14922"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_bigger|fact"><span>upper_bounded_bigger</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>add_0_left</span><span> </span><a class="entity_ref" href="Mask.html#offset_14917..14922"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_cancellative|fact"><span>padd_cancellative</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15581..15586">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.valid_sum|fact"><span class="entity_def" id="Mask.valid_sum(2)|thm"><span class="entity_def" id="Mask.valid_sum(1)|thm"><span>valid_sum</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>ma</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>mb</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>ma</span></span><span> </span><span class="free"><span>mb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>ma</span></span><span> </span><span class="free"><span>mb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_maskI|fact"><span>valid_maskI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>ma</span></span><span> </span><span class="free"><span>mb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><span>add_mono_thms_linordered_semiring</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_15581..15586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_15581..15586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_15581..15586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>dual_order.trans</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>add_0_left</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_15581..15586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_15581..15586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="free"><span>ma</span></span><span> </span><span class="free"><span>mb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>add_mono_thms_linordered_semiring</span><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_15581..15586"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Mask.html#offset_15581..15586"><span>assms</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16581..16586">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.valid_multiply|fact"><span class="entity_def" id="Mask.valid_multiply|thm"><span>valid_multiply</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.upper_bounded|const"><span>upper_bounded</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>ma</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>ma</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_16581..16586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_16581..16586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#offset_16581..16586"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_bigger|fact"><span>upper_bounded_bigger</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_def|fact"><span>upper_bounded_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_bounded_smaller|fact"><span>upper_bounded_smaller</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16934..16939">lemma</span></span></span><span> </span><span class="entity_def" id="Mask.greater_mult|fact"><span class="entity_def" id="Mask.greater_mult|thm"><span>greater_mult</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="Mask.html#offset_16934..16939"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><span>mem_Collect_eq</span><span> </span><span>mult_left_mono</span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div><div id='CombinableWands'>ody>
<div class="head">
<h1>Theory PartialHeapSA</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Partial heaps: Partial maps from heap location to values</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>PartialHeapSA</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Mask.html"><span>Mask</span></a><span> </span><span class="quoted"><span>"</span><a href="../Package_logic/PackageLogic.html"><span>Package_logic.PackageLogic</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definitions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.heap|type"><span>heap</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.heap_loc|type"><span>heap_loc</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.val|type"><span>val</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.pre_state|type"><span>pre_state</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>Ã</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.heap|type"><span>heap</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.valid_heap_def|fact"><span class="entity_def" id="PartialHeapSA.valid_heap_def|thm"><span class="entity_def" id="PartialHeapSA.valid_heap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.valid_heap|const"><span>valid_heap</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.heap|type"><span>heap</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_heap</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.valid_state.elims|fact"><span class="entity_def" id="PartialHeapSA.valid_state.induct|fact"><span class="entity_def" id="PartialHeapSA.valid_state.simps|fact"><span class="entity_def" id="PartialHeapSA.valid_state.pelims|fact"><span class="entity_def" id="PartialHeapSA.valid_state.cases|fact"><span class="entity_def" id="PartialHeapSA.valid_state.termination|fact"><span class="entity_def" id="PartialHeapSA.valid_state.pinduct|fact"><span class="entity_def" id="PartialHeapSA.valid_state.psimps|fact"><span class="entity_def" id="PartialHeapSA.valid_state_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.valid_state_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.valid_state_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.valid_state_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.valid_state_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.valid_state_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.valid_state_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.valid_state_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.valid_state_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.valid_state_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.valid_state.elims(3)|thm"><span class="entity_def" id="PartialHeapSA.valid_state.elims(2)|thm"><span class="entity_def" id="PartialHeapSA.valid_state.elims(1)|thm"><span class="entity_def" id="PartialHeapSA.valid_state.induct|thm"><span class="entity_def" id="PartialHeapSA.valid_state.simps|thm"><span class="entity_def" id="PartialHeapSA.valid_state.pelims(3)|thm"><span class="entity_def" id="PartialHeapSA.valid_state.pelims(2)|thm"><span class="entity_def" id="PartialHeapSA.valid_state.pelims(1)|thm"><span class="entity_def" id="PartialHeapSA.valid_state.cases|thm"><span class="entity_def" id="PartialHeapSA.valid_state.termination|thm"><span class="entity_def" id="PartialHeapSA.valid_state.pinduct|thm"><span class="entity_def" id="PartialHeapSA.valid_state.psimps|thm"><span class="entity_def" id="PartialHeapSA.valid_state_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.valid_state_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.valid_state_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.valid_state_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.valid_state_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.valid_state_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.valid_state_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.valid_state_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.valid_state_graph.intros|thm"><span class="entity_def" id="PartialHeapSA.valid_state_def|axiom"><span class="entity_def" id="PartialHeapSA.valid_state_rel_def|axiom"><span class="entity_def" id="PartialHeapSA.valid_state_sumC_def|axiom"><span class="entity_def" id="PartialHeapSA.valid_state_graph_def|axiom"><span class="entity_def" id="PartialHeapSA.valid_state_dom|const"><span class="entity_def" id="PartialHeapSA.valid_state_rel|const"><span class="entity_def" id="PartialHeapSA.valid_state_sumC|const"><span class="entity_def" id="PartialHeapSA.valid_state_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.valid_state|const"><span>valid_state</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.pre_state|type"><span>pre_state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_state</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap|const"><span>valid_heap</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_457..462">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.valid_stateI|fact"><span class="entity_def" id="PartialHeapSA.valid_stateI|thm"><span>valid_stateI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_457..462"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_457..462"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.empty_heap_def|fact"><span class="entity_def" id="PartialHeapSA.empty_heap_def|thm"><span class="entity_def" id="PartialHeapSA.empty_heap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.empty_heap|const"><span>empty_heap</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>empty_heap</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.valid_pre_unit|fact"><span class="entity_def" id="PartialHeapSA.valid_pre_unit|thm"><span>valid_pre_unit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_empty|fact"><span>valid_empty</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.arity_typerep_state|fact"><span class="entity_def" id="PartialHeapSA.typerep_state_def|fact"><span class="entity_def" id="PartialHeapSA.typerep_state_inst.typerep_state|fact"><span class="entity_def" id="PartialHeapSA.state.Abs_state_induct|fact"><span class="entity_def" id="PartialHeapSA.state.Rep_state_induct|fact"><span class="entity_def" id="PartialHeapSA.state.Abs_state_cases|fact"><span class="entity_def" id="PartialHeapSA.state.Rep_state_cases|fact"><span class="entity_def" id="PartialHeapSA.state.Abs_state_inject|fact"><span class="entity_def" id="PartialHeapSA.state.Rep_state_inject|fact"><span class="entity_def" id="PartialHeapSA.state.Abs_state_inverse|fact"><span class="entity_def" id="PartialHeapSA.state.Rep_state_inverse|fact"><span class="entity_def" id="PartialHeapSA.state.Rep_state|fact"><span class="entity_def" id="PartialHeapSA.state.type_definition_state|fact"><span class="entity_def" id="PartialHeapSA.arity_type_state|fact"><span class="entity_def" id="PartialHeapSA.arity_typerep_state|thm"><span class="entity_def" id="PartialHeapSA.typerep_state_def|thm"><span class="entity_def" id="PartialHeapSA.typerep_state_inst.typerep_state|thm"><span class="entity_def" id="PartialHeapSA.state.Abs_state_induct|thm"><span class="entity_def" id="PartialHeapSA.state.Rep_state_induct|thm"><span class="entity_def" id="PartialHeapSA.state.Abs_state_cases|thm"><span class="entity_def" id="PartialHeapSA.state.Rep_state_cases|thm"><span class="entity_def" id="PartialHeapSA.state.Abs_state_inject|thm"><span class="entity_def" id="PartialHeapSA.state.Rep_state_inject|thm"><span class="entity_def" id="PartialHeapSA.state.Abs_state_inverse|thm"><span class="entity_def" id="PartialHeapSA.state.Rep_state_inverse|thm"><span class="entity_def" id="PartialHeapSA.state.Rep_state|thm"><span class="entity_def" id="PartialHeapSA.state.type_definition_state|thm"><span class="entity_def" id="PartialHeapSA.arity_type_state|thm"><span class="entity_def" id="PartialHeapSA.typerep_state_def_raw|axiom"><span class="entity_def" id="PartialHeapSA.typerep_state_inst.typerep_state_def|axiom"><span class="entity_def" id="PartialHeapSA.state.type_definition_state|axiom"><span class="entity_def" id="PartialHeapSA.arity_type_state|axiom"><span class="entity_def" id="PartialHeapSA.typerep_state_inst.typerep_state|const"><span class="entity_def" id="PartialHeapSA.state.Abs_state|const"><span class="entity_def" id="PartialHeapSA.state.Rep_state|const"><span>typedef</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.state|type"><span>state</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_pre_unit|fact"><span>valid_pre_unit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.get_m.elims|fact"><span class="entity_def" id="PartialHeapSA.get_m.induct|fact"><span class="entity_def" id="PartialHeapSA.get_m.simps|fact"><span class="entity_def" id="PartialHeapSA.get_m.pelims|fact"><span class="entity_def" id="PartialHeapSA.get_m.cases|fact"><span class="entity_def" id="PartialHeapSA.get_m.termination|fact"><span class="entity_def" id="PartialHeapSA.get_m.pinduct|fact"><span class="entity_def" id="PartialHeapSA.get_m.psimps|fact"><span class="entity_def" id="PartialHeapSA.get_m_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.get_m_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.get_m_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.get_m_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.get_m_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.get_m_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.get_m_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.get_m_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.get_m_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.get_m_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.get_m.elims|thm"><span class="entity_def" id="PartialHeapSA.get_m.induct|thm"><span class="entity_def" id="PartialHeapSA.get_m.simps|thm"><span class="entity_def" id="PartialHeapSA.get_m.pelims|thm"><span class="entity_def" id="PartialHeapSA.get_m.cases|thm"><span class="entity_def" id="PartialHeapSA.get_m.termination|thm"><span class="entity_def" id="PartialHeapSA.get_m.pinduct|thm"><span class="entity_def" id="PartialHeapSA.get_m.psimps|thm"><span class="entity_def" id="PartialHeapSA.get_m_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.get_m_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.get_m_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.get_m_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.get_m_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.get_m_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.get_m_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.get_m_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.get_m_graph.intros|thm"><span class="entity_def" id="PartialHeapSA.get_m_def|axiom"><span class="entity_def" id="PartialHeapSA.get_m_rel_def|axiom"><span class="entity_def" id="PartialHeapSA.get_m_sumC_def|axiom"><span class="entity_def" id="PartialHeapSA.get_m_graph_def|axiom"><span class="entity_def" id="PartialHeapSA.get_m_dom|const"><span class="entity_def" id="PartialHeapSA.get_m_rel|const"><span class="entity_def" id="PartialHeapSA.get_m_sumC|const"><span class="entity_def" id="PartialHeapSA.get_m_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.get_m|const"><span>get_m</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>get_m</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.get_h.elims|fact"><span class="entity_def" id="PartialHeapSA.get_h.induct|fact"><span class="entity_def" id="PartialHeapSA.get_h.simps|fact"><span class="entity_def" id="PartialHeapSA.get_h.pelims|fact"><span class="entity_def" id="PartialHeapSA.get_h.cases|fact"><span class="entity_def" id="PartialHeapSA.get_h.termination|fact"><span class="entity_def" id="PartialHeapSA.get_h.pinduct|fact"><span class="entity_def" id="PartialHeapSA.get_h.psimps|fact"><span class="entity_def" id="PartialHeapSA.get_h_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.get_h_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.get_h_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.get_h_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.get_h_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.get_h_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.get_h_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.get_h_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.get_h_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.get_h_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.get_h.elims|thm"><span class="entity_def" id="PartialHeapSA.get_h.induct|thm"><span class="entity_def" id="PartialHeapSA.get_h.simps|thm"><span class="entity_def" id="PartialHeapSA.get_h.pelims|thm"><span class="entity_def" id="PartialHeapSA.get_h.cases|thm"><span class="entity_def" id="PartialHeapSA.get_h.termination|thm"><span class="entity_def" id="PartialHeapSA.get_h.pinduct|thm"><span class="entity_def" id="PartialHeapSA.get_h.psimps|thm"><span class="entity_def" id="PartialHeapSA.get_h_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.get_h_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.get_h_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.get_h_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.get_h_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.get_h_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.get_h_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.get_h_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.get_h_graph.intros|thm"><span class="entity_def" id="PartialHeapSA.get_h_def|axiom"><span class="entity_def" id="PartialHeapSA.get_h_rel_def|axiom"><span class="entity_def" id="PartialHeapSA.get_h_sumC_def|axiom"><span class="entity_def" id="PartialHeapSA.get_h_graph_def|axiom"><span class="entity_def" id="PartialHeapSA.get_h_dom|const"><span class="entity_def" id="PartialHeapSA.get_h_rel|const"><span class="entity_def" id="PartialHeapSA.get_h_sumC|const"><span class="entity_def" id="PartialHeapSA.get_h_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.get_h|const"><span>get_h</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.heap|type"><span>heap</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>get_h</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.compatible_options.elims|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.induct|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.simps|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.pelims|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.cases|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.termination|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.pinduct|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.psimps|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.compatible_options.elims(3)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.elims(2)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.elims(1)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.induct|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.simps(3)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.simps(2)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.simps(1)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.pelims(3)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.pelims(2)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.pelims(1)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.cases|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.termination|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.pinduct|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.psimps(3)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.psimps(2)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options.psimps(1)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.intros(3)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_graph.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.compatible_options_def|axiom"><span class="entity_def" id="PartialHeapSA.compatible_options_rel_def|axiom"><span class="entity_def" id="PartialHeapSA.compatible_options_sumC_def|axiom"><span class="entity_def" id="PartialHeapSA.compatible_options_graph_def|axiom"><span class="entity_def" id="PartialHeapSA.compatible_options_dom|const"><span class="entity_def" id="PartialHeapSA.compatible_options_rel|const"><span class="entity_def" id="PartialHeapSA.compatible_options_sumC|const"><span class="entity_def" id="PartialHeapSA.compatible_options_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.compatible_options|const"><span>compatible_options</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compatible_options</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compatible_options</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span>True</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.compatible_heaps_def|fact"><span class="entity_def" id="PartialHeapSA.compatible_heaps_def|thm"><span class="entity_def" id="PartialHeapSA.compatible_heaps_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.heap|type"><span>heap</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.heap|type"><span>heap</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compatible_heaps</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options|const"><span>compatible_options</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.compatible_def|fact"><span class="entity_def" id="PartialHeapSA.compatible_def|thm"><span class="entity_def" id="PartialHeapSA.compatible_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.compatible|const"><span>compatible</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.pre_state|type"><span>pre_state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.pre_state|type"><span>pre_state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>compatible</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><span>snd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>snd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.add_states.elims|fact"><span class="entity_def" id="PartialHeapSA.add_states.induct|fact"><span class="entity_def" id="PartialHeapSA.add_states.simps|fact"><span class="entity_def" id="PartialHeapSA.add_states.pelims|fact"><span class="entity_def" id="PartialHeapSA.add_states.cases|fact"><span class="entity_def" id="PartialHeapSA.add_states.termination|fact"><span class="entity_def" id="PartialHeapSA.add_states.pinduct|fact"><span class="entity_def" id="PartialHeapSA.add_states.psimps|fact"><span class="entity_def" id="PartialHeapSA.add_states_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.add_states_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.add_states_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.add_states_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.add_states_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.add_states_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.add_states_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.add_states_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.add_states_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.add_states_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.add_states.elims|thm"><span class="entity_def" id="PartialHeapSA.add_states.induct|thm"><span class="entity_def" id="PartialHeapSA.add_states.simps|thm"><span class="entity_def" id="PartialHeapSA.add_states.pelims|thm"><span class="entity_def" id="PartialHeapSA.add_states.cases|thm"><span class="entity_def" id="PartialHeapSA.add_states.termination|thm"><span class="entity_def" id="PartialHeapSA.add_states.pinduct|thm"><span class="entity_def" id="PartialHeapSA.add_states.psimps|thm"><span class="entity_def" id="PartialHeapSA.add_states_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.add_states_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.add_states_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.add_states_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.add_states_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.add_states_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.add_states_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.add_states_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.add_states_graph.intros|thm"><span class="entity_def" id="PartialHeapSA.add_states_def|axiom"><span class="entity_def" id="PartialHeapSA.add_states_rel_def|axiom"><span class="entity_def" id="PartialHeapSA.add_states_sumC_def|axiom"><span class="entity_def" id="PartialHeapSA.add_states_graph_def|axiom"><span class="entity_def" id="PartialHeapSA.add_states_dom|const"><span class="entity_def" id="PartialHeapSA.add_states_rel|const"><span class="entity_def" id="PartialHeapSA.add_states_sumC|const"><span class="entity_def" id="PartialHeapSA.add_states_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.add_states|const"><span>add_states</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.pre_state|type"><span>pre_state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.pre_state|type"><span>pre_state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.pre_state|type"><span>pre_state</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>add_states</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï'</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.larger_heap_def|fact"><span class="entity_def" id="PartialHeapSA.larger_heap_def|thm"><span class="entity_def" id="PartialHeapSA.larger_heap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.larger_heap|const"><span>larger_heap</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>larger_heap</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>h'</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.unit_def|fact"><span class="entity_def" id="PartialHeapSA.unit_def|thm"><span class="entity_def" id="PartialHeapSA.unit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.unit|const"><span>unit</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>unit</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.plus_def|fact"><span class="entity_def" id="PartialHeapSA.plus_def|thm"><span class="entity_def" id="PartialHeapSA.plus_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.plus|const"><span>plus</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â</span></span><span>"</span></span><span> 63</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span class="free"><span>â</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible|const"><span>compatible</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span>Some</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span>None</span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.core_def|fact"><span class="entity_def" id="PartialHeapSA.core_def|thm"><span class="entity_def" id="PartialHeapSA.core_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.core|const"><span>core</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span> </span><span class="keyword1"><span>|</span></span><span>_</span><span class="keyword1"><span>|</span></span><span> </span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>core</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.stable_def|fact"><span class="entity_def" id="PartialHeapSA.stable_def|thm"><span class="entity_def" id="PartialHeapSA.stable_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PartialHeapSA.stable|const"><span>stable</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>stable</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span class="main"><span>)</span></span><span>"</span></span></span><span>








</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="plain_text"><span>Lemmas</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2155..2160">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.valid_heapI|fact"><span class="entity_def" id="PartialHeapSA.valid_heapI|thm"><span>valid_heapI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap|const"><span>valid_heap</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_2155..2160"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2286..2291">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.valid_state_decompose|fact"><span class="entity_def" id="PartialHeapSA.valid_state_decompose|thm"><span>valid_state_decompose</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_2286..2291"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>h</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_2286..2291"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2632..2637">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.compatible_heapsI|fact"><span class="entity_def" id="PartialHeapSA.compatible_heapsI|thm"><span>compatible_heapsI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_2632..2637"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.elims|fact"><span>compatible_options.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2818..2823">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.compatibleI_old|fact"><span class="entity_def" id="PartialHeapSA.compatibleI_old|thm"><span>compatibleI_old</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>snd</span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible|const"><span>compatible</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="free"><span>Ï'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_2818..2823"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_2818..2823"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_def|fact"><span>compatible_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3063..3068">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_heap_anti|fact"><span class="entity_def" id="PartialHeapSA.larger_heap_anti|thm"><span>larger_heap_anti</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_3063..3068"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span>not_None_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_3063..3068"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3415..3420">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_heapI|fact"><span class="entity_def" id="PartialHeapSA.larger_heapI|thm"><span>larger_heapI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>h'</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>h'</span></span><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_3415..3420"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_heap_refl|fact"><span class="entity_def" id="PartialHeapSA.larger_heap_refl|thm"><span>larger_heap_refl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="free"><span>h</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3630..3635">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.compatible_heaps_comm|fact"><span class="entity_def" id="PartialHeapSA.compatible_heaps_comm|thm"><span>compatible_heaps_comm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>domIff</span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_3630..3635"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.elims|fact"><span>compatible_options.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_None</span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4123..4128">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_heaps_sum_ineq|fact"><span class="entity_def" id="PartialHeapSA.larger_heaps_sum_ineq|thm"><span>larger_heaps_sum_ineq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a'</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>a'</span></span><span> </span><span class="free"><span>b'</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heapI|fact"><span>larger_heapI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a'</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b'</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4123..4128"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span>map_add_SomeD</span><span> </span><span>map_add_find_right</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>aa</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4123..4128"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4123..4128"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4123..4128"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_comm|fact"><span>compatible_heaps_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span>map_add_Some_iff</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4747..4752">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_heap_trans|fact"><span class="entity_def" id="PartialHeapSA.larger_heap_trans|thm"><span>larger_heap_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4747..4752"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4747..4752"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4931..4936">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_heap_comp|fact"><span class="entity_def" id="PartialHeapSA.larger_heap_comp|thm"><span>larger_heap_comp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>ba</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>ba</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ba</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4931..4936"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_4931..4936"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.simps|fact"><span>compatible_options.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5260..5265">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_heap_plus|fact"><span class="entity_def" id="PartialHeapSA.larger_heap_plus|thm"><span>larger_heap_plus</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heapI|fact"><span>larger_heapI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_5260..5265"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span>map_add_SomeD</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>bb</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_5260..5265"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_5260..5265"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span>map_add_SomeD</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5755..5760">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.compatible_heaps_sum|fact"><span class="entity_def" id="PartialHeapSA.compatible_heaps_sum|thm"><span>compatible_heaps_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_5755..5760"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_5755..5760"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6019..6024">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_compatible_sum_heaps|fact"><span class="entity_def" id="PartialHeapSA.larger_compatible_sum_heaps|thm"><span>larger_compatible_sum_heaps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_6019..6024"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_6019..6024"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_6019..6024"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.simps|fact"><span>compatible_options.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.get_h_m|fact"><span class="entity_def" id="PartialHeapSA.get_h_m|thm"><span>get_h_m</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.get_pre|fact"><span class="entity_def" id="PartialHeapSA.get_pre(2)|thm"><span class="entity_def" id="PartialHeapSA.get_pre(1)|thm"><span>get_pre</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.plus_ab_defined|fact"><span class="entity_def" id="PartialHeapSA.plus_ab_defined|thm"><span>plus_ab_defined</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï'</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>Ï'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_def|fact"><span>compatible_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_def|fact"><span>compatible_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6838..6843">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.plus_charact|fact"><span class="entity_def" id="PartialHeapSA.plus_charact(2)|thm"><span class="entity_def" id="PartialHeapSA.plus_charact(1)|thm"><span>plus_charact</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_6838..6843"><span>assms</span></a><span> </span><span>option.discI</span><span> </span><span>option.inject</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible|const"><span>compatible</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_6838..6843"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>option.discI</span><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7225..7233">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_7225..7233"><span>calculation</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_def|fact"><span>compatible_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>map_add_None</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>map_add_None</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states.simps|fact"><span>add_states.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states.simps|fact"><span>add_states.simps</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span class="main"><span>)</span></span><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inject|fact"><span>Abs_state_inject</span></a><span> </span><span>CollectI</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states.simps|fact"><span>add_states.simps</span></a><span> </span><span>eq_snd_iff</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h.simps|fact"><span>get_h.simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.commutative|fact"><span class="entity_def" id="PartialHeapSA.commutative|thm"><span>commutative</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_8755..8759">True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.simps|fact"><span>compatible_options.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>++</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_comm|fact"><span>compatible_heaps_comm</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_8755..8759"><span>True</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states.simps|fact"><span>add_states.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.simps|fact"><span>compatible_options.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9424..9429">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.asso1|fact"><span class="entity_def" id="PartialHeapSA.asso1|thm"><span>asso1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>ab</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>bc</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ab</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>bc</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ab</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_9539..9543">None</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>ab</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9539..9543"><span>None</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_asso|fact"><span>add_masks_asso</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>None</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_comm|fact"><span>compatible_heaps_comm</span></a><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_find_right</span><span> </span><span>option.inject</span><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Some</span><span> </span><span class="skolem"><span>aa</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.commutative|fact"><span>commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.elims|fact"><span>compatible_options.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_find_right</span><span> </span><span>option.inject</span><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9539..9543"><span>None</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_10868..10872">Some</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_comm|fact"><span>compatible_heaps_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_sum|fact"><span>compatible_heaps_sum</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.simps|fact"><span>compatible_options.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>domIff</span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_10868..10872"><span>Some</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_asso|fact"><span>add_masks_asso</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>bc</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_10868..10872"><span>Some</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_asso|fact"><span>add_masks_asso</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states.simps|fact"><span>add_states.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_9424..9429"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>map_add_assoc</span><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11747..11752">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.asso2|fact"><span class="entity_def" id="PartialHeapSA.asso2|thm"><span>asso2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>ab</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><span class="free"><span>ab</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>None</span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_11747..11752"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>ab</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_11747..11752"><span>assms</span></a><span> </span><span>map_add_find_right</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.simps|fact"><span>compatible_options.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_cases|fact"><span>Abs_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_equiv_valid_null|fact"><span>add_masks_equiv_valid_null</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_null_def|fact"><span>valid_null_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>ab</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>ab</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_11747..11752"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>order_trans</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.core_defined|fact"><span class="entity_def" id="PartialHeapSA.core_defined(2)|thm"><span class="entity_def" id="PartialHeapSA.core_defined(1)|thm"><span>core_defined</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_def|fact"><span>core_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_empty|fact"><span>valid_empty</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><span>CollectI</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_def|fact"><span>core_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask.simps|fact"><span>empty_mask.simps</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>less_irrefl</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_empty|fact"><span>valid_empty</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13334..13339">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.state_ext|fact"><span class="entity_def" id="PartialHeapSA.state_ext|thm"><span>state_ext</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_13334..13339"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_13334..13339"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.core_is_smaller|fact"><span class="entity_def" id="PartialHeapSA.core_is_smaller|thm"><span>core_is_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.collapse</span><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13748..13756">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state_ext|fact"><span>state_ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>map_add_subsumed1</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_13748..13756"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_13748..13756"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.core_is_pure|fact"><span class="entity_def" id="PartialHeapSA.core_is_pure|thm"><span>core_is_pure</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_def|fact"><span>core_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_is_smaller|fact"><span>core_is_smaller</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14275..14283">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_14275..14283"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_def|fact"><span>core_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_is_smaller|fact"><span>core_is_smaller</span></a><span> </span><span>option.sel</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14418..14423">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.core_sum|fact"><span class="entity_def" id="PartialHeapSA.core_sum|thm"><span>core_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_14418..14423"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.exhaust_sel</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_empty|fact"><span>valid_empty</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14652..14660">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_14418..14423"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_14652..14660"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state_ext|fact"><span>state_ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14835..14840">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.core_max|fact"><span class="entity_def" id="PartialHeapSA.core_max|thm"><span>core_max</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span>Some</span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>r</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_14835..14840"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.asso2|fact"><span>asso2</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_is_smaller|fact"><span>core_is_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15007..15015">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_cancellative|fact"><span>add_masks_cancellative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_14835..14840"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15007..15015"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.commutative|fact"><span>commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_sum|fact"><span>core_sum</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.inject</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15260..15265">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.positivity|fact"><span class="entity_def" id="PartialHeapSA.positivity|thm"><span>positivity</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15260..15265"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15260..15265"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.asso2|fact"><span>asso2</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.commutative|fact"><span>commutative</span></a><span> </span><span>option.exhaust_sel</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15473..15481">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_cancellative|fact"><span>add_masks_cancellative</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15260..15265"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15260..15265"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15473..15481"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_is_smaller|fact"><span>core_is_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_properties|fact"><span>greater_mask_properties</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15763..15768">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.cancellative|fact"><span class="entity_def" id="PartialHeapSA.cancellative|thm"><span>cancellative</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>|</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_cancellative|fact"><span>add_masks_cancellative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15763..15768"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15763..15768"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_15763..15768"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state_ext|fact"><span>state_ext</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.unit_charact|fact"><span class="entity_def" id="PartialHeapSA.unit_charact(2)|thm"><span class="entity_def" id="PartialHeapSA.unit_charact(1)|thm"><span>unit_charact</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_pre_unit|fact"><span>valid_pre_unit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_def|fact"><span>unit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.empty_mask|const"><span>empty_mask</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_def|fact"><span>unit_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.empty_heap_neutral|fact"><span class="entity_def" id="PartialHeapSA.empty_heap_neutral|thm"><span>empty_heap_neutral</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap|const"><span>empty_heap</span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>domIff</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap_def|fact"><span>empty_heap_def</span></a><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.unit_neutral|fact"><span class="entity_def" id="PartialHeapSA.unit_neutral|thm"><span>unit_neutral</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_cases|fact"><span>Abs_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap_def|fact"><span>empty_heap_def</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>option.exhaust_sel</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><span>snd_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_def|fact"><span>unit_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_pre_unit|fact"><span>valid_pre_unit</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16926..16934">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state_ext|fact"><span>state_ext</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_16926..16934"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap_neutral|fact"><span>empty_heap_neutral</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_16926..16934"><span>calculation</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17233..17238">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.stableI|fact"><span class="entity_def" id="PartialHeapSA.stableI|thm"><span>stableI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable|const"><span>stable</span></a><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_17233..17238"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable_def|fact"><span>stable_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.stable_unit|fact"><span class="entity_def" id="PartialHeapSA.stable_unit|thm"><span>stable_unit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable|const"><span>stable</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.empty_heap_def|fact"><span>empty_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable_def|fact"><span>stable_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_pre_unit|fact"><span>valid_pre_unit</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17512..17517">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.stable_sum|fact"><span class="entity_def" id="PartialHeapSA.stable_sum|thm"><span>stable_sum</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable|const"><span>stable</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable|const"><span>stable</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable|const"><span>stable</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stableI|fact"><span>stableI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>add_le_same_cancel2</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_17512..17517"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_17512..17517"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_17512..17517"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>leI</span><span> </span><span>less_le_trans</span><span> </span><span>map_add_None</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable_def|fact"><span>stable_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?A</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_17512..17517"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_17512..17517"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_17512..17517"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_None</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable_def|fact"><span>stable_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18084..18089">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.multiply_valid|fact"><span class="entity_def" id="PartialHeapSA.multiply_valid|thm"><span>multiply_valid</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_18084..18089"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mult|fact"><span>valid_mult</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_cases|fact"><span>Abs_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_eq_pnone|fact"><span>ppos_eq_pnone</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>This state model corresponds to a separation algebra</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PartialHeapSA.PartialSA.completeness_paper|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.completeness|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.general_completeness|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.soundness_paper|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.soundness|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.general_soundness|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.completeness_aux|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.prove_last_completeness|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.core_mono|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_some|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_and_the|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_the|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_than_sum_exists|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.let_pair_instantiate|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_star_exists_bigger|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.unit_smaller|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.unit_core|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_proof|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_core_sum_defined|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.defined_sum_move|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.valid_package_setI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_connectionI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_connection_instantiate|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_satI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_sat_larger_pure|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pure_cond_conj|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pure_condI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_standardI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_generalI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_standard_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_general_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_remains_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.intuitionistic_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.valid_package_set_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_transformer_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_connection_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_sat_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.AddFromOutside|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.ASem|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.AImp|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.AStar|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.elims|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.pelims|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.termination|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.pinduct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.psimps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pruner_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.bool_conj_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pure_cond_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.elims|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.pelims|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.termination|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.pinduct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.psimps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.stable_unit|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.stable_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.unit_neutral|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.package_logic_axioms|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.empty_set_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sum_then_singleton|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_bigger|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_bigger_than_head|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_implies_multi_plus_of_drop|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_deter|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.not_multi_plus_empty|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_head_tail|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_two|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_single|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_take_drop|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_decompose|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.upper_closure_up_closed|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.upper_closure_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.larger_set_refl|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sub_bigger|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.equivI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.setify_sum_image|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.setify_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_prop_set_equiv|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_prop_set|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_propI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.equiv_up_closed_subset|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.equiv_stable_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.up_close_equiv|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_bigger_subset|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_elem|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_singleton|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_set|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_setI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_set_trans|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_plus_UNIV|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closedI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_asso|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.x_elem_set_product_splus|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.x_elem_set_product|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_commm|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_and_plus|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_minus_trans|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_pure_sum_smaller|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_compatible_core|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_smaller|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_bigger|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_equiv_def_any_elem|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_core_weaker|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_core|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minusI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_default|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_equiv_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_exists|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_unique|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.extract_core|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_than_core|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.addition_bigger|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_mono|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_invo|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mppI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_prop|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_compatible|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_smaller|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_prop_pure_core|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_propE|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_propI|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_refl|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_trans|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_antisym|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_smaller|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_stable|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_asso|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_comm|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_develop|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_sum_smaller|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_compatible|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_equiv|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.elims|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.pelims|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.termination|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.pinduct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.psimps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.inducts|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.simps|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.induct|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.cases|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.intros|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.MPConcat|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.MPSingle|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_prop_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.under_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_prop_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.setify_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.equiv_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_set_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.defined_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.asso3|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.cancellative|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.positivity|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.core_sum|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.core_max|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.core_is_pure|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.core_is_smaller|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.asso2|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.asso1|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.commutative|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.sep_algebra_axioms|fact"><span class="entity_def" id="PartialHeapSA.minus_def|fact"><span class="entity_def" id="PartialHeapSA.greater_set_def|fact"><span class="entity_def" id="PartialHeapSA.defined_def|fact"><span class="entity_def" id="PartialHeapSA.add_set_def|fact"><span class="entity_def" id="PartialHeapSA.greater_def|fact"><span class="entity_def" id="PartialHeapSA.PartialSA.completeness_paper|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.completeness|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.general_completeness|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.soundness_paper|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.soundness|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.general_soundness|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.completeness_aux|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.prove_last_completeness|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.core_mono|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_some|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_and_the|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_the|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_than_sum_exists|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.let_pair_instantiate|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_star_exists_bigger|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.unit_core|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_proof|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_core_sum_defined|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.defined_sum_move|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.valid_package_setI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_connectionI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_satI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_sat_larger_pure|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pure_cond_conj|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pure_condI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_standardI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_generalI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_standard_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_general_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_remains_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.intuitionistic_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.valid_package_set_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_connection_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_sat_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.intros(4)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.intros(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.simps(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.simps(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.simps(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.termination|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.psimps(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.psimps(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.psimps(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.intros(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.intros(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pruner_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.bool_conj_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pure_cond_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.simps(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.simps(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.simps(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.termination|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.psimps(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.psimps(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.psimps(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.intros(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.intros(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.stable_unit|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.stable_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.empty_set_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sum_then_singleton|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_bigger|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_bigger_than_head|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_implies_multi_plus_of_drop|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_deter|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.not_multi_plus_empty|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_head_tail|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_two|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus_single|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_take_drop|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_decompose|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.upper_closure_up_closed|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.larger_set_refl|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sub_bigger|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.equivI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.setify_sum_image|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.setify_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_prop_set_equiv|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_prop_set|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_propI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.equiv_up_closed_subset|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.equiv_stable_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.up_close_equiv|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_bigger_subset|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_singleton|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_set|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_setI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_set_trans|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_plus_UNIV|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closedI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_asso|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.x_elem_set_product_splus|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.x_elem_set_product|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_commm|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_and_plus|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_minus_trans|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_pure_sum_smaller|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_compatible_core|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_smaller|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_bigger|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_equiv_def_any_elem|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_core_weaker|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_core|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minusI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_default|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_equiv_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_exists|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_unique|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.extract_core|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_than_core|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.addition_bigger|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_mono|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_invo|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mppI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_prop|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_compatible|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mpp_smaller|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_prop_pure_core|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_propE(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_propE(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_propE(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_propI|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_trans|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_smaller|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_stable|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_asso|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_comm|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_develop|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.bigger_sum_smaller|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.smaller_compatible|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.simps(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.simps(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.simps(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.termination|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.psimps(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.psimps(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.psimps(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.intros(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.intros(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.intros(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_prop_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.under_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_prop_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_transformer_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.setify_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.equiv_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_set_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.minus_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.asso3|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.cancellative|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.positivity|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.core_sum|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.core_max|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.core_is_pure|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.core_is_smaller|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.asso2|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.asso1|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.unit_smaller|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_antisym|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.upper_closure_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.unit_neutral|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.succ_refl|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.commutative|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set_elem|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.defined_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_equiv|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_def|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_connection_instantiate|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.AddFromOutside|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.ASem|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.AImp|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs.AStar|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.elims(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.elims(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.elims(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.pelims(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.pelims(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.pelims(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion.pinduct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.elims(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.elims(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.elims(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.pelims(3)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.pelims(2)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.pelims(1)|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat.pinduct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.package_logic_axioms|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.elims|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.pelims|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus.pinduct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.inducts|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.simps|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.induct|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.cases|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.MPConcat|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus.MPSingle|thm"><span class="entity_def" id="PartialHeapSA.PartialSA.sep_algebra_axioms|thm"><span class="entity_def" id="PartialHeapSA.minus_def|thm"><span class="entity_def" id="PartialHeapSA.greater_set_def|thm"><span class="entity_def" id="PartialHeapSA.defined_def|thm"><span class="entity_def" id="PartialHeapSA.add_set_def|thm"><span class="entity_def" id="PartialHeapSA.greater_def|thm"><span class="entity_def" id="PartialHeapSA.minus_def|axiom"><span class="entity_def" id="PartialHeapSA.greater_set_def|axiom"><span class="entity_def" id="PartialHeapSA.defined_def|axiom"><span class="entity_def" id="PartialHeapSA.add_set_def|axiom"><span class="entity_def" id="PartialHeapSA.greater_def|axiom"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_standard|const"><span class="entity_def" id="PartialHeapSA.PartialSA.is_footprint_general|const"><span class="entity_def" id="PartialHeapSA.PartialSA.pure_remains|const"><span class="entity_def" id="PartialHeapSA.PartialSA.intuitionistic|const"><span class="entity_def" id="PartialHeapSA.PartialSA.valid_package_set|const"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_transformer|const"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs_connection|const"><span class="entity_def" id="PartialHeapSA.PartialSA.package_sat|const"><span class="entity_def" id="PartialHeapSA.PartialSA.package_rhs|const"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion|const"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_dom|const"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_rel|const"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_sumC|const"><span class="entity_def" id="PartialHeapSA.PartialSA.wf_assertion_graph|const"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pruner|const"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_pure_cond|const"><span class="entity_def" id="PartialHeapSA.PartialSA.sat|const"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_dom|const"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_rel|const"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_sumC|const"><span class="entity_def" id="PartialHeapSA.PartialSA.sat_graph|const"><span class="entity_def" id="PartialHeapSA.PartialSA.upper_closure|const"><span class="entity_def" id="PartialHeapSA.PartialSA.splus|const"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_dom|const"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_rel|const"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_sumC|const"><span class="entity_def" id="PartialHeapSA.PartialSA.splus_graph|const"><span class="entity_def" id="PartialHeapSA.PartialSA.multi_plus|const"><span class="entity_def" id="PartialHeapSA.PartialSA.max_projection_prop|const"><span class="entity_def" id="PartialHeapSA.PartialSA.under|const"><span class="entity_def" id="PartialHeapSA.PartialSA.mono_prop|const"><span class="entity_def" id="PartialHeapSA.PartialSA.setify|const"><span class="entity_def" id="PartialHeapSA.PartialSA.equiv|const"><span class="entity_def" id="PartialHeapSA.PartialSA.up_closed|const"><span class="entity_def" id="PartialHeapSA.PartialSA.greater_set|const"><span class="entity_def" id="PartialHeapSA.PartialSA.add_set|const"><span class="entity_def" id="PartialHeapSA.PartialSA.minus|const"><span class="entity_def" id="PartialHeapSA.PartialSA.pure|const"><span class="entity_def" id="PartialHeapSA.PartialSA.greater|const"><span class="entity_def" id="PartialHeapSA.PartialSA.defined|const"><span>global_interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> PartialSA</span><span class="main"><span>:</span></span><span> </span><span>package_logic</span><span> </span><span class="quoted"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>plus</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core|const"><span>core</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable|const"><span>stable</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.greater|const"><span>greater</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>â½</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>"</span></span><span> 50</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>PartialSA.greater</span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.add_set|const"><span>add_set</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>â</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>"</span></span><span> 60</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>PartialSA.add_set</span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.defined|const"><span>defined</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>|#|</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>"</span></span><span> 60</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>PartialSA.defined</span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.greater_set|const"><span>greater_set</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>|â«|</span></span></span></span></span></span></span></span></span></span><span>"</span></span><span> 50</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>PartialSA.greater_set</span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.minus|const"><span>minus</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>|â|</span></span></span></span></span></span><span>"</span></span><span> 60</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>PartialSA.minus</span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>standard</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.commutative|fact"><span>commutative</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.asso1|fact"><span>asso1</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.asso2|fact"><span>asso2</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_is_smaller|fact"><span>core_is_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_is_pure|fact"><span>core_is_pure</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_max|fact"><span>core_max</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_sum|fact"><span>core_sum</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.positivity|fact"><span>positivity</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.cancellative|fact"><span>cancellative</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_neutral|fact"><span>unit_neutral</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable_sum|fact"><span>stable_sum</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.stable_unit|fact"><span>stable_unit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19422..19427">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.greaterI|fact"><span class="entity_def" id="PartialHeapSA.greaterI|thm"><span>greaterI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?m</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>l</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_19422..19427"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><span>verit_sko_ex'</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20024..20032">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?m</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_20024..20032"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid|fact"><span>upper_valid</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.elims|fact"><span>add_masks.elims</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_20024..20032"><span>calculation</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h.simps|fact"><span>get_h.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span> </span><span>prod.collapse</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_19422..19427"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span>option.inject</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?m</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_19422..19427"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>domIff</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_add_dom_app_simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>not_Some_eq</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states.simps|fact"><span>add_states.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?m</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?m</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?m</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible|const"><span>compatible</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?m</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_def|fact"><span>compatible_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|const"><span>Rep_state</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?m</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><span>mem_Collect_eq</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_states|const"><span>add_states</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_def|fact"><span>PartialSA.greater_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22491..22496">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_implies_greater_mask_hl|fact"><span class="entity_def" id="PartialHeapSA.larger_implies_greater_mask_hl|thm"><span>larger_implies_greater_mask_hl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_def|fact"><span>PartialSA.greater_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_22491..22496"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22666..22671">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.larger_implies_larger_heap|fact"><span class="entity_def" id="PartialHeapSA.larger_implies_larger_heap|thm"><span>larger_implies_larger_heap</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_equiv|fact"><span>PartialSA.greater_equiv</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_22666..22671"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heapI|fact"><span>larger_heapI</span></a><span> </span><span>map_add_find_right</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22865..22870">lemma</span></span></span><span> </span><span class="entity_def" id="PartialHeapSA.compatibleI|fact"><span class="entity_def" id="PartialHeapSA.compatibleI|thm"><span>compatibleI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_22865..22870"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#offset_22865..22870"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div><div id='CombinableWands'><body>
<div class="head">
<h1>Theory CombinableWands</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Combinable Magic Wands</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Note that, in this theory, assertions are represented as semantic assertions, i.e., as the set of states in which they hold.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>CombinableWands</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="PartialHeapSA.html"><span>PartialHeapSA</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>             

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definitions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="CombinableWands.sem_assertion|type"><span>sem_assertion</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span>set</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.multiply.elims|fact"><span class="entity_def" id="CombinableWands.multiply.induct|fact"><span class="entity_def" id="CombinableWands.multiply.simps|fact"><span class="entity_def" id="CombinableWands.multiply.pelims|fact"><span class="entity_def" id="CombinableWands.multiply.cases|fact"><span class="entity_def" id="CombinableWands.multiply.termination|fact"><span class="entity_def" id="CombinableWands.multiply.pinduct|fact"><span class="entity_def" id="CombinableWands.multiply.psimps|fact"><span class="entity_def" id="CombinableWands.multiply_rel.inducts|fact"><span class="entity_def" id="CombinableWands.multiply_rel.simps|fact"><span class="entity_def" id="CombinableWands.multiply_rel.induct|fact"><span class="entity_def" id="CombinableWands.multiply_rel.cases|fact"><span class="entity_def" id="CombinableWands.multiply_rel.intros|fact"><span class="entity_def" id="CombinableWands.multiply_graph.inducts|fact"><span class="entity_def" id="CombinableWands.multiply_graph.simps|fact"><span class="entity_def" id="CombinableWands.multiply_graph.induct|fact"><span class="entity_def" id="CombinableWands.multiply_graph.cases|fact"><span class="entity_def" id="CombinableWands.multiply_graph.intros|fact"><span class="entity_def" id="CombinableWands.multiply.elims|thm"><span class="entity_def" id="CombinableWands.multiply.induct|thm"><span class="entity_def" id="CombinableWands.multiply.simps|thm"><span class="entity_def" id="CombinableWands.multiply.pelims|thm"><span class="entity_def" id="CombinableWands.multiply.cases|thm"><span class="entity_def" id="CombinableWands.multiply.termination|thm"><span class="entity_def" id="CombinableWands.multiply.pinduct|thm"><span class="entity_def" id="CombinableWands.multiply.psimps|thm"><span class="entity_def" id="CombinableWands.multiply_rel.inducts|thm"><span class="entity_def" id="CombinableWands.multiply_rel.simps|thm"><span class="entity_def" id="CombinableWands.multiply_rel.induct|thm"><span class="entity_def" id="CombinableWands.multiply_rel.cases|thm"><span class="entity_def" id="CombinableWands.multiply_graph.inducts|thm"><span class="entity_def" id="CombinableWands.multiply_graph.simps|thm"><span class="entity_def" id="CombinableWands.multiply_graph.induct|thm"><span class="entity_def" id="CombinableWands.multiply_graph.cases|thm"><span class="entity_def" id="CombinableWands.multiply_graph.intros|thm"><span class="entity_def" id="CombinableWands.multiply_def|axiom"><span class="entity_def" id="CombinableWands.multiply_rel_def|axiom"><span class="entity_def" id="CombinableWands.multiply_sumC_def|axiom"><span class="entity_def" id="CombinableWands.multiply_graph_def|axiom"><span class="entity_def" id="CombinableWands.multiply_dom|const"><span class="entity_def" id="CombinableWands.multiply_rel|const"><span class="entity_def" id="CombinableWands.multiply_sumC|const"><span class="entity_def" id="CombinableWands.multiply_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.multiply|const"><span>multiply</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state|type"><span>state</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>multiply</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Because we work in an intuitionistic setting, a fraction of an assertion is defined using the upper-closure operator.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.elims|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.induct|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.simps|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.pelims|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.cases|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.termination|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.pinduct|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.psimps|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.inducts|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.simps|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.induct|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.cases|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.intros|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.inducts|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.simps|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.induct|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.cases|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.intros|fact"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.elims|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.induct|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.simps|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.pelims|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.cases|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.termination|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.pinduct|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion.psimps|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.inducts|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.simps|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.induct|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel.cases|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.inducts|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.simps|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.induct|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.cases|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph.intros|thm"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_def|axiom"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel_def|axiom"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_sumC_def|axiom"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph_def|axiom"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_dom|const"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_rel|const"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_sumC|const"><span class="entity_def" id="CombinableWands.multiply_sem_assertion_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.prat|type"><span>prat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.sem_assertion|type"><span>sem_assertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.sem_assertion|type"><span>sem_assertion</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>multiply_sem_assertion</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.upper_closure|const"><span>PartialSA.upper_closure</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><span>`</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.combinable_def|fact"><span class="entity_def" id="CombinableWands.combinable_def|thm"><span class="entity_def" id="CombinableWands.combinable_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.combinable|const"><span>combinable</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.sem_assertion|type"><span>sem_assertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>combinable</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Î±</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="bound"><span>Î±</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="bound"><span>Î±</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="bound"><span>Î±</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.scaled_def|fact"><span class="entity_def" id="CombinableWands.scaled_def|thm"><span class="entity_def" id="CombinableWands.scaled_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.scaled|const"><span>scaled</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>scaled</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.comp_min_mask_def|fact"><span class="entity_def" id="CombinableWands.comp_min_mask_def|thm"><span class="entity_def" id="CombinableWands.comp_min_mask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>comp_min_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin|const"><span>pmin</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>hl</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.scalable_def|fact"><span class="entity_def" id="CombinableWands.scalable_def|thm"><span class="entity_def" id="CombinableWands.scalable_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.scalable|const"><span>scalable</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>scalable</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled|const"><span>scaled</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.R_def|fact"><span class="entity_def" id="CombinableWands.R_def|thm"><span class="entity_def" id="CombinableWands.R_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.R|const"><span>R</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>w</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.cwand_def|fact"><span class="entity_def" id="CombinableWands.cwand_def|thm"><span class="entity_def" id="CombinableWands.cwand_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.cwand|const"><span>cwand</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cwand</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>w</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>w</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.wand_def|fact"><span class="entity_def" id="CombinableWands.wand_def|thm"><span class="entity_def" id="CombinableWands.wand_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.wand|const"><span>wand</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.sem_assertion|type"><span>sem_assertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.sem_assertion|type"><span>sem_assertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.sem_assertion|type"><span>sem_assertion</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>wand</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>w</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>w</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.intuitionistic_def|fact"><span class="entity_def" id="CombinableWands.intuitionistic_def|thm"><span class="entity_def" id="CombinableWands.intuitionistic_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.intuitionistic|const"><span>intuitionistic</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>intuitionistic</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.binary_mask_def|fact"><span class="entity_def" id="CombinableWands.binary_mask_def|thm"><span class="entity_def" id="CombinableWands.binary_mask_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.binary_mask|const"><span>binary_mask</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.mask|type"><span>mask</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>binary_mask</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="keyword1"><span>then</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="keyword1"><span>else</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="CombinableWands.binary_def|fact"><span class="entity_def" id="CombinableWands.binary_def|thm"><span class="entity_def" id="CombinableWands.binary_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="CombinableWands.binary|const"><span>binary</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.sem_assertion|type"><span>sem_assertion</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>binary</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>




</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="plain_text"><span>Lemmas</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.wand_equiv_def|fact"><span class="entity_def" id="CombinableWands.wand_equiv_def|thm"><span>wand_equiv_def</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>w</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>w</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_elem|fact"><span>PartialSA.add_set_elem</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.commutative|fact"><span>commutative</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand_def|fact"><span>wand_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>w</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_elem|fact"><span>PartialSA.add_set_elem</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>Ï</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>}</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand_def|fact"><span>wand_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.w_in_scaled|fact"><span class="entity_def" id="CombinableWands.w_in_scaled|thm"><span>w_in_scaled</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled|const"><span>scaled</span></a><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.mult_write_mask|fact"><span>mult_write_mask</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half_between_0_1|fact"><span>half_between_0_1</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.half_plus_half|fact"><span>half_plus_half</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled_def|fact"><span>scaled_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2991..2996">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.non_scalable_instantiate|fact"><span class="entity_def" id="CombinableWands.non_scalable_instantiate|thm"><span>non_scalable_instantiate</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="bound"><span>p</span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_2991..2996"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled_def|fact"><span>scaled_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3155..3160">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.compatible_same_mask|fact"><span class="entity_def" id="CombinableWands.compatible_same_mask|thm"><span>compatible_same_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_3155..3160"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3378..3386">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_3155..3160"><span>assms</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comp_one|fact"><span>padd_comp_one</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>add_le_cancel_left</span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_3378..3386"><span>calculation</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.R_smaller|fact"><span class="entity_def" id="CombinableWands.R_smaller|thm"><span>R_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.succ_refl|fact"><span>PartialSA.succ_refl</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_def|fact"><span>R_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_def|fact"><span>R_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_cases|fact"><span>Abs_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_refl|fact"><span>larger_heap_refl</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greaterI|fact"><span>greaterI</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><span>mem_Collect_eq</span><span> </span><span>snd_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state_decompose|fact"><span>valid_state_decompose</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4404..4409">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.R_compatible_same|fact"><span class="entity_def" id="CombinableWands.R_compatible_same|thm"><span>R_compatible_same</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_4404..4409"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.w_in_scaled|fact"><span>w_in_scaled</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_def|fact"><span>R_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_4404..4409"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.compatible_same_mask|fact"><span>compatible_same_mask</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h.simps|fact"><span>get_h.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m.simps|fact"><span>get_m.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><span>prod.collapse</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4813..4818">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.in_cwand|fact"><span class="entity_def" id="CombinableWands.in_cwand|thm"><span>in_cwand</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_4813..4818"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand_def|fact"><span>cwand_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4940..4945">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.wandI|fact"><span class="entity_def" id="CombinableWands.wandI|thm"><span>wandI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>w</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>w</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_elem|fact"><span>PartialSA.add_set_elem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_4940..4945"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand_equiv_def|fact"><span>wand_equiv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5314..5319">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.non_scalable_R_charact|fact"><span class="entity_def" id="CombinableWands.non_scalable_R_charact|thm"><span>non_scalable_R_charact</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>w</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_def|fact"><span>R_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_5314..5319"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_maskI|fact"><span>valid_maskI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_zero|fact"><span>padd_zero</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_equiv_def|fact"><span>greater_mask_equiv_def</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h.simps|fact"><span>get_h.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span> </span><span>prod.collapse</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h.simps|fact"><span>get_h.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m.simps|fact"><span>get_m.simps</span></a><span> </span><span>mem_Collect_eq</span><span> </span><span>snd_conv</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.valid_bin|fact"><span class="entity_def" id="CombinableWands.valid_bin|thm"><span>valid_bin</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_stateI|fact"><span>valid_stateI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask_def|fact"><span>binary_mask_def</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.discI</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>hl</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span>None</span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat|fact"><span>Rep_prat</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state|fact"><span>Rep_state</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask_def|fact"><span>binary_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h.simps|fact"><span>get_h.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>leD</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span>prod.collapse</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_heap_def|fact"><span>valid_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7254..7259">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.in_multiply_sem|fact"><span class="entity_def" id="CombinableWands.in_multiply_sem|thm"><span>in_multiply_sem</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.sep_algebra_axioms|fact"><span>PartialSA.sep_algebra_axioms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_7254..7259"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater_def|fact"><span>greater_def</span></a><span> </span><span>sep_algebra.upper_closure_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7454..7459">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.get_h_multiply|fact"><span class="entity_def" id="CombinableWands.get_h_multiply|thm"><span>get_h_multiply</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_7454..7459"><span>assms</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7599..7604">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.in_multiply_refl|fact"><span class="entity_def" id="CombinableWands.in_multiply_refl|thm"><span>in_multiply_refl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.succ_refl|fact"><span>PartialSA.succ_refl</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.upper_closure_def|fact"><span>PartialSA.upper_closure_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_7599..7604"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7769..7774">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.get_m_smaller|fact"><span class="entity_def" id="CombinableWands.get_m_smaller|thm"><span>get_m_smaller</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_7769..7774"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7947..7952">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.get_m_smaller_mask|fact"><span class="entity_def" id="CombinableWands.get_m_smaller_mask|thm"><span>get_m_smaller_mask</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_7947..7952"><span>assms</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8132..8137">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.multiply_order|fact"><span class="entity_def" id="CombinableWands.multiply_order|thm"><span>multiply_order</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greaterI|fact"><span>greaterI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8132..8137"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8132..8137"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8132..8137"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8132..8137"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller_mask|fact"><span>get_m_smaller_mask</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_greater_mask_hl|fact"><span>larger_implies_greater_mask_hl</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.mult_greater|fact"><span>mult_greater</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8594..8599">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.multiply_twice|fact"><span class="entity_def" id="CombinableWands.multiply_twice|thm"><span>multiply_twice</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8594..8599"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_order|fact"><span>pmult_order</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8594..8599"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ext</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>l</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.multiply_smaller_pwrite|fact"><span>multiply_smaller_pwrite</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8594..8599"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller|fact"><span>get_m_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_8594..8599"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller|fact"><span>get_m_smaller</span></a><span> </span><span>mult.assoc</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult.rep_eq|fact"><span>pmult.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state_ext|fact"><span>state_ext</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9521..9526">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.valid_mask_add_comp_min|fact"><span class="entity_def" id="CombinableWands.valid_mask_add_comp_min|thm"><span>valid_mask_add_comp_min</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_maskI|fact"><span>valid_maskI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_9521..9526"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_zero|fact"><span>padd_zero</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_9521..9526"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_zero|fact"><span>padd_zero</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_9521..9526"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comp_one|fact"><span>padd_comp_one</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_10509..10514">False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_10509..10514"><span>False</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_9521..9526"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comp_one|fact"><span>padd_comp_one</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The combinable wand is stronger than the original wand</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.cwand_stronger|fact"><span class="entity_def" id="CombinableWands.cwand_stronger|thm"><span>cwand_stronger</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11207..11208">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand_def|fact"><span>cwand_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wandI|fact"><span>wandI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_11344..11348">asm1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>w</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>w</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_compatible_same|fact"><span>R_compatible_same</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_11344..11348"><span>asm1</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_11207..11208"><span>r</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The combinable wand is the same as the original wand when the left-hand side is binary</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11658..11663">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.binary_same|fact"><span class="entity_def" id="CombinableWands.binary_same|thm"><span>binary_same</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary|const"><span>binary</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.intuitionistic|const"><span>intuitionistic</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11821..11825">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>w</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand_equiv_def|fact"><span>wand_equiv_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_cwand|fact"><span>in_cwand</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_def|fact"><span>R_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.w_in_scaled|fact"><span>w_in_scaled</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_12222..12227">False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_R_charact|fact"><span>non_scalable_R_charact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_11658..11663"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_def|fact"><span>binary_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12515..12523">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_12879..12883">True</span><span>
          </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled|const"><span>scaled</span></a><span> </span><span class="skolem"><span>w</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_12222..12227"><span>False</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>w</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>]</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled_def|fact"><span>scaled_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>â </span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>less_add_same_cancel1</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_zero|fact"><span>padd_zero</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt.rep_eq|fact"><span>pgt.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13446..13454">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Ï</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply.simps|fact"><span>multiply.simps</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>Ï</span></span></span><span class="main"><span>]</span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_ppos|fact"><span>pmult_ppos</span></a><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_13446..13454"><span>calculation</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply.simps|fact"><span>multiply.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgt|const"><span>pgt</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_12879..12883"><span>True</span></a><span> </span><span>add_le_same_cancel2</span><span> </span><span>leD</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.elims|fact"><span>add_masks.elims</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.elims|fact"><span>valid_mask.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span>add.right_neutral</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask_def|fact"><span>binary_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inject|fact"><span>Rep_prat_inject</span></a><span> </span><span>add.right_neutral</span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask_def|fact"><span>binary_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_comm|fact"><span>add_masks_comm</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comp_one|fact"><span>padd_comp_one</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_12515..12523"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_mask_def|fact"><span>greater_mask_def</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16166..16174">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span>âº</span></span></span><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xx</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>w</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_16166..16174"><span>calculation</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_def|fact"><span>compatible_def</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_def|fact"><span>plus_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.valid_bin|fact"><span>valid_bin</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_11821..11825"><span>asm0</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_elem|fact"><span>PartialSA.add_set_elem</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span>âº</span></span></span><span> </span><span>singletonI</span><span> </span><span>subset_iff</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16735..16743">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>xx</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greaterI|fact"><span>greaterI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>w</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_16735..16743"><span>calculation</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.valid_bin|fact"><span>valid_bin</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heapI|fact"><span>larger_heapI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>xa</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>xa</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state|const"><span>Abs_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_mask|const"><span>binary_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>w</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_16735..16743"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h.simps|fact"><span>get_h.simps</span></a><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>snd_conv</span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.valid_bin|fact"><span>valid_bin</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_11658..11663"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.intuitionistic_def|fact"><span>intuitionistic_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The combinable wand is combinable</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17716..17721">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.combinableI|fact"><span class="entity_def" id="CombinableWands.combinableI|thm"><span>combinableI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable|const"><span>combinable</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>    
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_18143..18147">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xa</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_elem|fact"><span>PartialSA.add_set_elem</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>wa</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>wb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_sem|fact"><span>in_multiply_sem</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?a</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv_smaller|fact"><span>pdiv_smaller</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="skolem"><span>wb</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatibleI|fact"><span>compatibleI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.asso2|fact"><span>PartialSA.asso2</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.asso3|fact"><span>PartialSA.asso3</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_equiv|fact"><span>PartialSA.greater_equiv</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.minus_some|fact"><span>PartialSA.minus_some</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19551..19559">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv_smaller|fact"><span>pdiv_smaller</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_19551..19559"><span>calculation</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_maskI|fact"><span>valid_maskI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks_equiv_valid_null|fact"><span>add_masks_equiv_valid_null</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_null_def|fact"><span>valid_null_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span>
                      </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_one_ineq_sum|fact"><span>padd_one_ineq_sum</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><span>option.discI</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><span>option.discI</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.sum_coeff|fact"><span>sum_coeff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xx</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="skolem"><span>wb</span></span><span>"</span></span></span><span>        
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_17716..17721"><span>assms</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv.rep_eq|fact"><span>pdiv.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.sum_coeff|fact"><span>sum_coeff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_refl|fact"><span>in_multiply_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_refl|fact"><span>in_multiply_refl</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_def|fact"><span>PartialSA.add_set_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xx</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greaterI|fact"><span>greaterI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xx</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.sum_coeff|fact"><span>sum_coeff</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><span>order_trans</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_24101..24109">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_24101..24109"><span>calculation</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heaps_sum_ineq|fact"><span>larger_heaps_sum_ineq</span></a><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_greater_mask_hl|fact"><span>larger_implies_greater_mask_hl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_cases|fact"><span>Rep_state_cases</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state|const"><span>valid_state</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply.simps|fact"><span>multiply.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply.simps|fact"><span>multiply.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.sum_coeff|fact"><span>sum_coeff</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply.simps|fact"><span>multiply.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pdiv_smaller|fact"><span>pdiv_smaller</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>xx</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pdiv|const"><span>pdiv</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_padd|fact"><span>pmult_padd</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_pdiv_cancel|fact"><span>pmult_pdiv_cancel</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_add|fact"><span>ppos_add</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.mult_add_states|fact"><span>mult_add_states</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid_aux|fact"><span>upper_valid_aux</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.multiply_mask|const"><span>multiply_mask</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.mult_add_states|fact"><span>mult_add_states</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.upper_valid|fact"><span>upper_valid</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.valid_state.simps|fact"><span>valid_state.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Abs_state_inverse|fact"><span>Abs_state_inverse</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_18143..18147"><span>asm0</span></a><span> </span><span>fst_conv</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_pre|fact"><span>get_pre</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply.simps|fact"><span>multiply.simps</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.multiply_mask_def|fact"><span>multiply_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.multiply_valid|fact"><span>multiply_valid</span></a><span> </span><span>order_trans</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xx</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.up_closed_def|fact"><span>PartialSA.up_closed_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.upper_closure_up_closed|fact"><span>PartialSA.upper_closure_up_closed</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_refl|fact"><span>in_multiply_refl</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion.simps|fact"><span>multiply_sem_assertion.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable_def|fact"><span>combinable_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27447..27452">lemma</span></span></span><span> </span><span class="entity_def" id="CombinableWands.combinable_cwand|fact"><span class="entity_def" id="CombinableWands.combinable_cwand|thm"><span>combinable_cwand</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable|const"><span>combinable</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.intuitionistic|const"><span>intuitionistic</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable|const"><span>combinable</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinableI|fact"><span>combinableI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_27602..27606">asm0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xa</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_elem|fact"><span>PartialSA.add_set_elem</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>wa</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>wb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>wa</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>wb</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_sem|fact"><span>in_multiply_sem</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="entity_def" id="offset_28264..28265">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand_def|fact"><span>cwand_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_cwand|fact"><span>in_cwand</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_28458..28462">asm1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_def|fact"><span>R_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.w_in_scaled|fact"><span>w_in_scaled</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_R_charact|fact"><span>non_scalable_R_charact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_instantiate|fact"><span>non_scalable_instantiate</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29077..29085">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>xa</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_def|fact"><span>PartialSA.greater_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>xa</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_29077..29085"><span>calculation</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_order|fact"><span>multiply_order</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wa</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.succ_trans|fact"><span>PartialSA.succ_trans</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>xa</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_29077..29085"><span>calculation</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_order|fact"><span>multiply_order</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_29077..29085"><span>calculation</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_twice|fact"><span>multiply_twice</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.asso3|fact"><span>PartialSA.asso3</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.minus_some|fact"><span>PartialSA.minus_some</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_29077..29085"><span>calculation</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.prat.Rep_prat_inverse|fact"><span>Rep_prat_inverse</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><span>add.right_neutral</span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27602..27606"><span>asm0</span></a><span> </span><span>dual_order.strict_iff_order</span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_ppos|fact"><span>pmult_ppos</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone.rep_eq|fact"><span>pnone.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos.rep_eq|fact"><span>ppos.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.ppos_eq_pnone|fact"><span>ppos_eq_pnone</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_one_ineq_sum|fact"><span>padd_one_ineq_sum</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled_def|fact"><span>scaled_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_R_charact|fact"><span>non_scalable_R_charact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_30459..30467">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatibleI|fact"><span>compatibleI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_equiv|fact"><span>PartialSA.greater_equiv</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_30459..30467"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_30459..30467"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_comp|fact"><span>larger_heap_comp</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_30459..30467"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.valid_mask_add_comp_min|fact"><span>valid_mask_add_comp_min</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ba</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>ba</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31278..31286">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_equiv|fact"><span>PartialSA.greater_equiv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>xb</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_31278..31286"><span>calculation</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_order|fact"><span>multiply_order</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>wb</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.succ_trans|fact"><span>PartialSA.succ_trans</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_31278..31286"><span>calculation</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_order|fact"><span>multiply_order</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_31278..31286"><span>calculation</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_twice|fact"><span>multiply_twice</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.asso3|fact"><span>PartialSA.asso3</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.minus_some|fact"><span>PartialSA.minus_some</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_31278..31286"><span>calculation</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27602..27606"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.multiply_smaller_pwrite|fact"><span>multiply_smaller_pwrite</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_ppos|fact"><span>pmult_ppos</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled_def|fact"><span>scaled_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_R_charact|fact"><span>non_scalable_R_charact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32562..32570">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatibleI|fact"><span>compatibleI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_32562..32570"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_32562..32570"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_comp|fact"><span>larger_heap_comp</span></a><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_32562..32570"><span>calculation</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit_charact|fact"><span>unit_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.valid_mask_add_comp_min|fact"><span>valid_mask_add_comp_min</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>bb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33372..33380">moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ya</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_33372..33380"><span>calculation</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28264..28265"><span>r</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_refl|fact"><span>in_multiply_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33622..33630">moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>yb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_33622..33630"><span>calculation</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28264..28265"><span>r</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_refl|fact"><span>in_multiply_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatibleI|fact"><span>compatibleI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heapsI|fact"><span>compatible_heapsI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
           </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Some</span><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_def|fact"><span>larger_heap_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span>option.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_def|fact"><span>compatible_heaps_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_options.simps|fact"><span>compatible_options.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps|const"><span>compatible_heaps</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.core_is_smaller|fact"><span>PartialSA.core_is_smaller</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.compatible_heaps_sum|fact"><span>compatible_heaps_sum</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.valid_mask|const"><span>valid_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_maskI|fact"><span>valid_maskI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.null|const"><span>null</span></a><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pnone|const"><span>pnone</span></a><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.core_is_smaller|fact"><span>PartialSA.core_is_smaller</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.core_defined|fact"><span>core_defined</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.minus_empty|fact"><span>minus_empty</span></a><span> </span><span>not_None_eq</span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> 
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller|fact"><span>get_m_smaller</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>          
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Mask.html#Mask.add_masks|const"><span>add_masks</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_neutral|fact"><span>PartialSA.unit_neutral</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27602..27606"><span>asm0</span></a><span> </span><span>option.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_one_ineq_sum|fact"><span>padd_one_ineq_sum</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_ab_defined|fact"><span>plus_ab_defined</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.valid_mask.simps|fact"><span>valid_mask.simps</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_37116..37124">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greaterI|fact"><span>greaterI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>yb</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_37116..37124"><span>calculation</span></a><span class="main"><span>(</span></span><span>10</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>++</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_def|fact"><span>PartialSA.greater_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_trans|fact"><span>larger_heap_trans</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_trans|fact"><span>larger_heap_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_def|fact"><span>PartialSA.greater_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_equiv|fact"><span>PartialSA.greater_equiv</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_trans|fact"><span>larger_heap_trans</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>xb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_h_multiply|fact"><span>get_h_multiply</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_trans|fact"><span>larger_heap_trans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.greater_equiv|fact"><span>PartialSA.greater_equiv</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap|const"><span>larger_heap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>          
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_heap_plus|fact"><span>larger_heap_plus</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> 
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_28458..28462"><span>asm1</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.add_masks.simps|fact"><span>add_masks.simps</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller|fact"><span>get_m_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_order|fact"><span>pmult_order</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_order|fact"><span>pmult_order</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27602..27606"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_one_ineq_sum|fact"><span>padd_one_ineq_sum</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h|const"><span>get_h</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
              </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
                </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><span class="skolem"><span>xb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
              </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
                </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>wa</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller|fact"><span>get_m_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_greater_mask_hl|fact"><span>larger_implies_greater_mask_hl</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>xb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
                </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>xb</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>wb</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller|fact"><span>get_m_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_greater_mask_hl|fact"><span>larger_implies_greater_mask_hl</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
                </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wa</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_smaller|fact"><span>R_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_greater_mask_hl|fact"><span>larger_implies_greater_mask_hl</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_order|fact"><span>pmult_order</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>wb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_smaller|fact"><span>R_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_greater_mask_hl|fact"><span>larger_implies_greater_mask_hl</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_order|fact"><span>pmult_order</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd.rep_eq|fact"><span>padd.rep_eq</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte.rep_eq|fact"><span>pgte.rep_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42897..42905">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_42897..42905"><span>calculation</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>Some</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>yb</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>Î²</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.get_m_smaller|fact"><span>get_m_smaller</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.plus_charact|fact"><span>plus_charact</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_43235..43243">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>ya</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>yb</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> 
</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_43235..43243"><span>calculation</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_43235..43243"><span>calculation</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="skolem"><span>Î²</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.padd|const"><span>padd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wa</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.pmult|const"><span>pmult</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>wb</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_comm|fact"><span>pmult_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_distr|fact"><span>pmult_distr</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27602..27606"><span>asm0</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.p_greater_exists|fact"><span>p_greater_exists</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_asso|fact"><span>padd_asso</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.padd_comm|fact"><span>padd_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmult_special|fact"><span>pmult_special</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î±</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.add_set|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.add_set_elem|fact"><span>PartialSA.add_set_elem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_sem_assertion|const"><span>multiply_sem_assertion</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27602..27606"><span>asm0</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27447..27452"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable_def|fact"><span>combinable_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><span>subsetD</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.in_multiply_sem|fact"><span>in_multiply_sem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.state.Rep_state_inverse|fact"><span>Rep_state_inverse</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_h_m|fact"><span>get_h_m</span></a><span> </span><a class="entity_ref" href="Mask.html#Mask.mult_write_mask|fact"><span>mult_write_mask</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply.simps|fact"><span>multiply.simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>b</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27447..27452"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.intuitionistic_def|fact"><span>intuitionistic_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>y</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>B</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_27447..27452"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.intuitionistic_def|fact"><span>intuitionistic_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>





</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="plain_text"><span>Theorems</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The following theorem is crucial to use the package logic~\cite{Dardinier22} to automatically
</span><span>compute footprints of combinable wands.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="CombinableWands.R_mono_transformer|fact"><span class="entity_def" id="CombinableWands.R_mono_transformer|thm"><span>R_mono_transformer</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.mono_transformer|const"><span>PartialSA.mono_transformer</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.unit|const"><span>unit</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.succ_antisym|fact"><span>PartialSA.succ_antisym</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.unit_smaller|fact"><span>PartialSA.unit_smaller</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_smaller|fact"><span>R_smaller</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>Ï'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R|const"><span>R</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.succ_trans|fact"><span>PartialSA.succ_trans</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_def|fact"><span>R_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_smaller|fact"><span>R_smaller</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>âº</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_45369..45374">False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_instantiate|fact"><span>non_scalable_instantiate</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply|const"><span>multiply</span></a><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.defined|const"><span>|#|</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.smaller_compatible|fact"><span>PartialSA.smaller_compatible</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.multiply_order|fact"><span>multiply_order</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable|const"><span>scalable</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.commutative|fact"><span>PartialSA.commutative</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.defined_def|fact"><span>PartialSA.defined_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pwrite|const"><span>pwrite</span></a><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="PosRat.html#PosRat.ppos|const"><span>ppos</span></a><span> </span><span class="skolem"><span>p</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scalable_def|fact"><span>scalable_def</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.scaled_def|fact"><span>scaled_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_45804..45812">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Mask.html#Mask.greater_mask|const"><span>greater_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>Ï'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span>  </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Mask.html#Mask.greater_maskI|fact"><span>greater_maskI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>hl</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>Ï'</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask|const"><span>comp_min_mask</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="PosRat.html#PosRat.pgte|const"><span>pgte</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="skolem"><span>Ï'</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PosRat.html#PosRat.comp_one|const"><span>comp_one</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.get_m|const"><span>get_m</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>hl</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_greater|fact"><span>pmin_greater</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.succ_trans|fact"><span>PartialSA.succ_trans</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.R_smaller|fact"><span>R_smaller</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_45804..45812"><span>calculation</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.comp_min_mask_def|fact"><span>comp_min_mask_def</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_greater_mask_hl|fact"><span>larger_implies_greater_mask_hl</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_R_charact|fact"><span>non_scalable_R_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.not_pgte_charact|fact"><span>not_pgte_charact</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pgt_implies_pgte|fact"><span>pgt_implies_pgte</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_comm|fact"><span>pmin_comm</span></a><span> </span><a class="entity_ref" href="PosRat.html#PosRat.pmin_is|fact"><span>pmin_is</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_45369..45374"><span>False</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>Ï'</span></span><span> </span><span class="main"><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greater|const"><span>â½</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.greaterI|fact"><span>greaterI</span></a><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.larger_implies_larger_heap|fact"><span>larger_implies_larger_heap</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.non_scalable_R_charact|fact"><span>non_scalable_R_charact</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PartialHeapSA.html#PartialHeapSA.PartialSA.mono_transformer_def|fact"><span>PartialSA.mono_transformer_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_46743..46750">theorem</span></span></span><span> </span><span class="entity_def" id="CombinableWands.properties_of_combinable_wands|fact"><span class="entity_def" id="CombinableWands.properties_of_combinable_wands(3)|thm"><span class="entity_def" id="CombinableWands.properties_of_combinable_wands(2)|thm"><span class="entity_def" id="CombinableWands.properties_of_combinable_wands(1)|thm"><span>properties_of_combinable_wands</span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.intuitionistic|const"><span>intuitionistic</span></a><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable|const"><span>combinable</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable|const"><span>combinable</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary|const"><span>binary</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand|const"><span>cwand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.wand|const"><span>wand</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="CombinableWands.html#offset_46743..46750"><span>assms</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.combinable_cwand|fact"><span>combinable_cwand</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.cwand_stronger|fact"><span>cwand_stronger</span></a><span> </span><a class="entity_ref" href="CombinableWands.html#CombinableWands.binary_same|fact"><span>binary_same</span></a><span> </span><span>dual_order.eq_iff</span><span class="main"><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div>